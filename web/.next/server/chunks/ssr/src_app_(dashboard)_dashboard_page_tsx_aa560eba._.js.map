{"version":3,"sources":["turbopack:///[project]/src/infrastructure/api/utils/role-helpers.ts","turbopack:///[project]/src/presentation/hooks/useRoleUpgrade.ts","turbopack:///[project]/src/infrastructure/api/repositories/role-upgrade.repository.ts","turbopack:///[project]/src/presentation/components/features/role-upgrade/UpgradeModal.tsx","turbopack:///[project]/src/presentation/components/features/role-upgrade/UpgradePendingBanner.tsx","turbopack:///[project]/src/app/(dashboard)/dashboard/page.tsx","turbopack:///[project]/src/presentation/components/features/dashboard/FeaturedBusinesses.tsx","turbopack:///[project]/src/presentation/components/features/dashboard/CulturalCalendar.tsx","turbopack:///[project]/src/infrastructure/api/types/subscription.types.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/clock.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/log-out.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/user.ts","turbopack:///[project]/src/presentation/components/features/dashboard/CommunityStats.tsx"],"sourcesContent":["import { UserRole } from '../types/auth.types';\nimport { SubscriptionStatus } from '../types/subscription.types';\n\n/**\n * Role Helper Functions\n * Phase 6A.1: Utility functions for role-based logic\n */\n\n/**\n * Display names for user roles\n */\nexport function getRoleDisplayName(role: UserRole): string {\n  switch (role) {\n    case UserRole.GeneralUser:\n      return 'General User';\n    case UserRole.EventOrganizer:\n      return 'Event Organizer';\n    case UserRole.Admin:\n      return 'Administrator';\n    case UserRole.AdminManager:\n      return 'Admin Manager';\n    default:\n      return role;\n  }\n}\n\n/**\n * Check if user can manage other users\n */\nexport function canManageUsers(role: UserRole): boolean {\n  return role === UserRole.Admin || role === UserRole.AdminManager;\n}\n\n/**\n * Check if user can create events (requires Event Organizer role + active subscription)\n */\nexport function canCreateEvents(role: UserRole, subscriptionStatus?: SubscriptionStatus): boolean {\n  // General Users cannot create events\n  if (role === UserRole.GeneralUser) {\n    return false;\n  }\n\n  // Admins can always create events\n  if (isAdmin(role)) {\n    return true;\n  }\n\n  // Event Organizers must have active subscription (trialing or paid)\n  if (role === UserRole.EventOrganizer) {\n    if (!subscriptionStatus) {\n      return false;\n    }\n    return canCreateEventsWithSubscription(subscriptionStatus);\n  }\n\n  return false;\n}\n\n/**\n * Check if user can moderate content\n */\nexport function canModerateContent(role: UserRole): boolean {\n  return role === UserRole.Admin || role === UserRole.AdminManager;\n}\n\n/**\n * Check if role is Event Organizer\n */\nexport function isEventOrganizer(role: UserRole): boolean {\n  return role === UserRole.EventOrganizer;\n}\n\n/**\n * Check if role is Admin (Admin or AdminManager)\n */\nexport function isAdmin(role: UserRole): boolean {\n  return role === UserRole.Admin || role === UserRole.AdminManager;\n}\n\n/**\n * Check if role requires subscription\n */\nexport function requiresSubscription(role: UserRole): boolean {\n  return role === UserRole.EventOrganizer;\n}\n\n/**\n * Get subscription status display name\n */\nexport function getSubscriptionStatusDisplay(status: SubscriptionStatus): string {\n  switch (status) {\n    case SubscriptionStatus.None:\n      return 'No Subscription';\n    case SubscriptionStatus.Trialing:\n      return 'Free Trial';\n    case SubscriptionStatus.Active:\n      return 'Active';\n    case SubscriptionStatus.PastDue:\n      return 'Past Due';\n    case SubscriptionStatus.Canceled:\n      return 'Canceled';\n    case SubscriptionStatus.Expired:\n      return 'Expired';\n    default:\n      return status;\n  }\n}\n\n/**\n * Check if subscription allows creating events\n */\nexport function canCreateEventsWithSubscription(status: SubscriptionStatus): boolean {\n  return status === SubscriptionStatus.Trialing || status === SubscriptionStatus.Active;\n}\n\n/**\n * Check if subscription requires payment\n */\nexport function requiresPayment(status: SubscriptionStatus): boolean {\n  return status === SubscriptionStatus.PastDue || status === SubscriptionStatus.Expired;\n}\n\n/**\n * Check if subscription is active\n */\nexport function isSubscriptionActive(status: SubscriptionStatus): boolean {\n  return status === SubscriptionStatus.Trialing || status === SubscriptionStatus.Active;\n}\n\n/**\n * Calculate days remaining in free trial\n */\nexport function getFreeTrialDaysRemaining(freeTrialEndsAt?: string): number | null {\n  if (!freeTrialEndsAt) {\n    return null;\n  }\n\n  const endDate = new Date(freeTrialEndsAt);\n  const now = new Date();\n  const daysRemaining = Math.ceil((endDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n\n  return daysRemaining > 0 ? daysRemaining : 0;\n}\n","import { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { roleUpgradeRepository } from '@/infrastructure/api/repositories/role-upgrade.repository';\nimport type { RequestRoleUpgradeRequest } from '@/infrastructure/api/types/role-upgrade.types';\n\n/**\n * Phase 6A.7: User Upgrade Workflow - React Query Hooks\n * Custom hooks for role upgrade operations with optimistic updates\n */\n\n/**\n * Hook to request a role upgrade\n * Invalidates user query on success to reflect pending status\n */\nexport function useRequestRoleUpgrade() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (request: RequestRoleUpgradeRequest) =>\n      roleUpgradeRepository.requestUpgrade(request),\n    onSuccess: () => {\n      // Invalidate user query to refresh user data with pending upgrade status\n      queryClient.invalidateQueries({ queryKey: ['user'] });\n    },\n  });\n}\n\n/**\n * Hook to cancel a pending role upgrade request\n * Invalidates user query on success to remove pending status\n */\nexport function useCancelRoleUpgrade() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: () => roleUpgradeRepository.cancelUpgrade(),\n    onSuccess: () => {\n      // Invalidate user query to refresh user data\n      queryClient.invalidateQueries({ queryKey: ['user'] });\n    },\n  });\n}\n","import { apiClient } from '../client/api-client';\nimport type { RequestRoleUpgradeRequest, RoleUpgradeResponse } from '../types/role-upgrade.types';\n\n/**\n * Phase 6A.7: User Upgrade Workflow - API Repository\n * Repository for role upgrade API calls\n */\nexport class RoleUpgradeRepository {\n  private readonly basePath = '/users/me';\n\n  /**\n   * Request a role upgrade to Event Organizer\n   */\n  async requestUpgrade(request: RequestRoleUpgradeRequest): Promise<RoleUpgradeResponse> {\n    await apiClient.post(`${this.basePath}/request-upgrade`, request);\n    return {\n      success: true,\n      message: 'Role upgrade request submitted successfully'\n    };\n  }\n\n  /**\n   * Cancel a pending role upgrade request\n   */\n  async cancelUpgrade(): Promise<RoleUpgradeResponse> {\n    await apiClient.post(`${this.basePath}/cancel-upgrade`, {});\n    return {\n      success: true,\n      message: 'Role upgrade request canceled successfully'\n    };\n  }\n}\n\n// Export singleton instance\nexport const roleUpgradeRepository = new RoleUpgradeRepository();\n","'use client';\n\nimport * as React from 'react';\nimport { X, Check, Sparkles } from 'lucide-react';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { useRequestRoleUpgrade } from '@/presentation/hooks/useRoleUpgrade';\n\n/**\n * Phase 6A.7: User Upgrade Workflow - Upgrade Modal Component\n * Modal for requesting role upgrade to Event Organizer\n *\n * Features:\n * - Shows Event Organizer benefits\n * - Collects upgrade reason from user\n * - Validates reason input\n * - Displays loading and error states\n */\n\ninterface UpgradeModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function UpgradeModal({ isOpen, onClose }: UpgradeModalProps) {\n  const [reason, setReason] = React.useState('');\n  const [showSuccess, setShowSuccess] = React.useState(false);\n  const requestUpgrade = useRequestRoleUpgrade();\n\n  // Reset state when modal opens/closes\n  React.useEffect(() => {\n    if (!isOpen) {\n      setReason('');\n      setShowSuccess(false);\n      requestUpgrade.reset();\n    }\n  }, [isOpen, requestUpgrade]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (reason.trim().length < 20) {\n      return;\n    }\n\n    try {\n      await requestUpgrade.mutateAsync({\n        targetRole: 'EventOrganizer',\n        reason: reason.trim(),\n      });\n      setShowSuccess(true);\n      setTimeout(() => {\n        onClose();\n      }, 2000);\n    } catch (error) {\n      console.error('Failed to request upgrade:', error);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  if (showSuccess) {\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-xl p-8 max-w-md w-full text-center\">\n          <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <Check className=\"w-8 h-8 text-green-600\" />\n          </div>\n          <h3 className=\"text-2xl font-bold text-[#8B1538] mb-2\">Request Submitted!</h3>\n          <p className=\"text-gray-600\">\n            Your upgrade request has been submitted for admin review. You'll be notified once it's processed.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div\n          className=\"p-6 flex items-center justify-between\"\n          style={{ background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)' }}\n        >\n          <div className=\"flex items-center gap-3\">\n            <Sparkles className=\"w-6 h-6 text-white\" />\n            <h2 className=\"text-2xl font-bold text-white\">Upgrade to Event Organizer</h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-white hover:bg-white/20 rounded-lg p-2 transition-colors\"\n            disabled={requestUpgrade.isPending}\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          {/* Benefits Section */}\n          <div className=\"mb-6\">\n            <h3 className=\"text-lg font-semibold text-[#8B1538] mb-4\">Event Organizer Benefits</h3>\n            <div className=\"space-y-3\">\n              {[\n                'Create and manage unlimited events',\n                '6-month free trial to explore all features',\n                'Access to event analytics and insights',\n                'Priority event listing in search results',\n                'Custom event branding and themes',\n                'Email notifications to interested attendees',\n              ].map((benefit, index) => (\n                <div key={index} className=\"flex items-start gap-3\">\n                  <div className=\"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-4 h-4 text-green-600\" />\n                  </div>\n                  <p className=\"text-gray-700\">{benefit}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Pricing Info */}\n          <div className=\"mb-6 p-4 bg-orange-50 rounded-lg border border-orange-200\">\n            <p className=\"text-sm text-gray-700\">\n              <span className=\"font-semibold text-[#FF7900]\">Free for 6 months!</span> After your trial,\n              Event Organizer subscription is just $9.99/month. Cancel anytime.\n            </p>\n          </div>\n\n          {/* Reason Form */}\n          <form onSubmit={handleSubmit}>\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Tell us why you want to become an Event Organizer <span className=\"text-red-500\">*</span>\n              </label>\n              <textarea\n                value={reason}\n                onChange={(e) => setReason(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF7900] focus:border-transparent transition-all resize-none\"\n                rows={4}\n                placeholder=\"Describe the types of events you plan to organize and how you'll engage the community... (minimum 20 characters)\"\n                disabled={requestUpgrade.isPending}\n                required\n              />\n              <p className=\"text-sm text-gray-500 mt-1\">\n                {reason.length}/20 characters minimum\n              </p>\n            </div>\n\n            {/* Error Message */}\n            {requestUpgrade.isError && (\n              <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-sm text-red-600\">\n                  {requestUpgrade.error instanceof Error\n                    ? requestUpgrade.error.message\n                    : 'Failed to submit upgrade request. Please try again.'}\n                </p>\n              </div>\n            )}\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3\">\n              <Button\n                type=\"button\"\n                onClick={onClose}\n                variant=\"outline\"\n                className=\"flex-1\"\n                disabled={requestUpgrade.isPending}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"flex-1\"\n                style={{\n                  background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)',\n                  color: 'white',\n                }}\n                disabled={requestUpgrade.isPending || reason.trim().length < 20}\n              >\n                {requestUpgrade.isPending ? 'Submitting...' : 'Submit Request'}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\nimport { Clock, X } from 'lucide-react';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { useCancelRoleUpgrade } from '@/presentation/hooks/useRoleUpgrade';\n\n/**\n * Phase 6A.7: User Upgrade Workflow - Upgrade Pending Banner Component\n * Banner shown when user has a pending role upgrade request\n *\n * Features:\n * - Informative message about pending status\n * - Cancel upgrade button\n * - Dismissible (hides temporarily)\n * - Optimistic updates with React Query\n */\n\ninterface UpgradePendingBannerProps {\n  upgradeRequestedAt?: Date;\n}\n\nexport function UpgradePendingBanner({ upgradeRequestedAt }: UpgradePendingBannerProps) {\n  const [isDismissed, setIsDismissed] = React.useState(false);\n  const [showCancelConfirm, setShowCancelConfirm] = React.useState(false);\n  const cancelUpgrade = useCancelRoleUpgrade();\n\n  const handleCancel = async () => {\n    try {\n      await cancelUpgrade.mutateAsync();\n      setShowCancelConfirm(false);\n    } catch (error) {\n      console.error('Failed to cancel upgrade:', error);\n    }\n  };\n\n  if (isDismissed) return null;\n\n  return (\n    <>\n      <div\n        className=\"mb-6 p-4 rounded-lg border-2 flex items-start gap-4\"\n        style={{\n          background: 'linear-gradient(135deg, #FFF5E6 0%, #FFE8CC 100%)',\n          borderColor: '#FF7900',\n        }}\n      >\n        <div className=\"flex-shrink-0\">\n          <div className=\"w-10 h-10 rounded-full bg-[#FF7900] flex items-center justify-center\">\n            <Clock className=\"w-5 h-5 text-white\" />\n          </div>\n        </div>\n\n        <div className=\"flex-1\">\n          <h3 className=\"text-lg font-semibold text-[#8B1538] mb-1\">\n            Event Organizer Upgrade Pending\n          </h3>\n          <p className=\"text-gray-700 text-sm mb-3\">\n            Your request to become an Event Organizer is under review. Our team will review your application\n            and notify you within 2-3 business days.\n          </p>\n          {upgradeRequestedAt && (\n            <p className=\"text-xs text-gray-600\">\n              Requested on: {new Date(upgradeRequestedAt).toLocaleDateString('en-US', {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit',\n              })}\n            </p>\n          )}\n\n          <div className=\"mt-3 flex gap-2\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              onClick={() => setShowCancelConfirm(true)}\n              disabled={cancelUpgrade.isPending}\n              className=\"text-sm\"\n              style={{\n                borderColor: '#8B1538',\n                color: '#8B1538',\n              }}\n            >\n              {cancelUpgrade.isPending ? 'Canceling...' : 'Cancel Request'}\n            </Button>\n          </div>\n        </div>\n\n        <button\n          onClick={() => setIsDismissed(true)}\n          className=\"flex-shrink-0 text-gray-500 hover:text-gray-700 transition-colors\"\n          title=\"Dismiss banner\"\n        >\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      {/* Cancel Confirmation Modal */}\n      {showCancelConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full\">\n            <h3 className=\"text-xl font-bold text-[#8B1538] mb-3\">Cancel Upgrade Request?</h3>\n            <p className=\"text-gray-700 mb-6\">\n              Are you sure you want to cancel your Event Organizer upgrade request? You can submit a new\n              request anytime.\n            </p>\n\n            {cancelUpgrade.isError && (\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-sm text-red-600\">\n                  Failed to cancel request. Please try again.\n                </p>\n              </div>\n            )}\n\n            <div className=\"flex gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setShowCancelConfirm(false)}\n                className=\"flex-1\"\n                disabled={cancelUpgrade.isPending}\n              >\n                Keep Request\n              </Button>\n              <Button\n                onClick={handleCancel}\n                className=\"flex-1\"\n                style={{\n                  background: '#8B1538',\n                  color: 'white',\n                }}\n                disabled={cancelUpgrade.isPending}\n              >\n                {cancelUpgrade.isPending ? 'Canceling...' : 'Yes, Cancel'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","'use client';\r\n\r\nimport { ProtectedRoute } from '@/presentation/components/auth/ProtectedRoute';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/presentation/components/ui/Card';\r\nimport { Logo } from '@/presentation/components/atoms/Logo';\r\nimport Footer from '@/presentation/components/layout/Footer';\r\nimport { useRouter } from 'next/navigation';\r\nimport { authRepository } from '@/infrastructure/api/repositories/auth.repository';\r\nimport { canCreateEvents } from '@/infrastructure/api/utils/role-helpers';\r\nimport { UserRole } from '@/infrastructure/api/types/auth.types';\r\nimport {\r\n  Bell,\r\n  Calendar,\r\n  MapPin,\r\n  MessageSquare,\r\n  Store,\r\n  Users,\r\n  Heart,\r\n  MessageCircle,\r\n  Share2,\r\n  ChevronDown,\r\n  User,\r\n  LogOut,\r\n  Sparkles\r\n} from 'lucide-react';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { CulturalCalendar } from '@/presentation/components/features/dashboard/CulturalCalendar';\r\nimport { FeaturedBusinesses } from '@/presentation/components/features/dashboard/FeaturedBusinesses';\r\nimport { CommunityStats } from '@/presentation/components/features/dashboard/CommunityStats';\r\nimport { UpgradeModal } from '@/presentation/components/features/role-upgrade/UpgradeModal';\r\nimport { UpgradePendingBanner } from '@/presentation/components/features/role-upgrade/UpgradePendingBanner';\r\nimport type { CulturalEvent } from '@/presentation/components/features/dashboard/CulturalCalendar';\r\nimport type { Business } from '@/presentation/components/features/dashboard/FeaturedBusinesses';\r\nimport type { CommunityStatsData } from '@/presentation/components/features/dashboard/CommunityStats';\r\n\r\n// Mock data for widgets\r\nconst MOCK_CULTURAL_EVENTS: CulturalEvent[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Vesak Day Celebration',\r\n    date: '2025-05-23',\r\n    category: 'religious'\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Sri Lankan Independence Day',\r\n    date: '2025-02-04',\r\n    category: 'national'\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Sinhala & Tamil New Year',\r\n    date: '2025-04-14',\r\n    category: 'cultural'\r\n  },\r\n  {\r\n    id: '4',\r\n    name: 'Poson Poya Day',\r\n    date: '2025-06-21',\r\n    category: 'holiday'\r\n  }\r\n];\r\n\r\nconst MOCK_BUSINESSES: Business[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Ceylon Spice Market',\r\n    category: 'Grocery',\r\n    rating: 4.8,\r\n    reviewCount: 125\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Lanka Restaurant',\r\n    category: 'Restaurant',\r\n    rating: 4.6,\r\n    reviewCount: 89\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Serendib Boutique',\r\n    category: 'Retail',\r\n    rating: 4.9,\r\n    reviewCount: 203\r\n  }\r\n];\r\n\r\nconst MOCK_COMMUNITY_STATS: CommunityStatsData = {\r\n  activeUsers: 12500,\r\n  activeUsersTrend: { value: '+8.5%', direction: 'up' },\r\n  recentPosts: 450,\r\n  recentPostsTrend: { value: '+12.3%', direction: 'up' },\r\n  upcomingEvents: 2200,\r\n  upcomingEventsTrend: { value: '+5.7%', direction: 'up' }\r\n};\r\n\r\n// Mock activity data\r\ninterface ActivityItem {\r\n  id: string;\r\n  type: 'event' | 'post' | 'business';\r\n  author: {\r\n    name: string;\r\n    avatar: string;\r\n  };\r\n  content: string;\r\n  location: string;\r\n  timestamp: string;\r\n  likes: number;\r\n  comments: number;\r\n  image?: string;\r\n}\r\n\r\nconst MOCK_ACTIVITIES: ActivityItem[] = [\r\n  {\r\n    id: '1',\r\n    type: 'event',\r\n    author: { name: 'Priya Perera', avatar: 'PP' },\r\n    content: 'Organizing a traditional Sri Lankan New Year celebration in Toronto! Join us for games, food, and cultural performances.',\r\n    location: 'Toronto, ON',\r\n    timestamp: '2 hours ago',\r\n    likes: 24,\r\n    comments: 8,\r\n    image: undefined\r\n  },\r\n  {\r\n    id: '2',\r\n    type: 'post',\r\n    author: { name: 'Raj Fernando', avatar: 'RF' },\r\n    content: 'Just discovered an amazing Sri Lankan grocery store in Vancouver! They have fresh hoppers and all the spices you need.',\r\n    location: 'Vancouver, BC',\r\n    timestamp: '4 hours ago',\r\n    likes: 15,\r\n    comments: 5\r\n  },\r\n  {\r\n    id: '3',\r\n    type: 'business',\r\n    author: { name: 'Lanka Restaurant', avatar: 'LR' },\r\n    content: 'New menu items available! Try our authentic kottu roti and string hoppers. Special discount for community members this week.',\r\n    location: 'Montreal, QC',\r\n    timestamp: '6 hours ago',\r\n    likes: 42,\r\n    comments: 12\r\n  }\r\n];\r\n\r\nexport default function DashboardPage() {\r\n  const router = useRouter();\r\n  const { user, clearAuth } = useAuthStore();\r\n  const [selectedLocation, setSelectedLocation] = useState<string>('All Locations');\r\n  const [showUserMenu, setShowUserMenu] = useState<boolean>(false);\r\n  const [mounted, setMounted] = useState<boolean>(false);\r\n  const [showUpgradeModal, setShowUpgradeModal] = useState<boolean>(false);\r\n  const userMenuRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Set mounted state after client-side hydration\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target as Node)) {\r\n        setShowUserMenu(false);\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await authRepository.logout();\r\n    } catch (error) {\r\n      // Silently handle logout errors (e.g., 401 when already logged out)\r\n      // The error is expected and clearAuth will handle cleanup\r\n    } finally {\r\n      clearAuth();\r\n      router.push('/login');\r\n    }\r\n  };\r\n\r\n  const getInitials = (name: string) => {\r\n    return name\r\n      .split(' ')\r\n      .map(n => n[0])\r\n      .join('')\r\n      .toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen\" style={{ background: '#f7fafc' }}>\r\n        {/* Header - Matching Landing Page */}\r\n        <header className=\"bg-white sticky top-0 z-40\" style={{\r\n          background: 'rgba(255, 255, 255, 0.95)',\r\n          backdropFilter: 'blur(10px)',\r\n          boxShadow: '0 2px 20px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              {/* Logo + Navigation */}\r\n              <div className=\"flex items-center gap-8\">\r\n                <div className=\"flex items-center\">\r\n                  <Logo size=\"md\" showText={false} />\r\n                  <span className=\"ml-3 text-2xl font-bold text-[#8B1538]\">LankaConnect</span>\r\n                </div>\r\n\r\n                {/* Navigation Links */}\r\n                <nav className=\"hidden md:flex items-center gap-6\">\r\n                  <a href=\"/\" className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\">\r\n                    Home\r\n                  </a>\r\n                  <a href=\"#events\" className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\">\r\n                    Events\r\n                  </a>\r\n                  <a href=\"#forums\" className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\">\r\n                    Forums\r\n                  </a>\r\n                  <a href=\"#business\" className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\">\r\n                    Business\r\n                  </a>\r\n                  <a href=\"#culture\" className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\">\r\n                    Culture\r\n                  </a>\r\n                  <a href=\"/dashboard\" className=\"text-[#FF7900] hover:text-[#FF7900] font-medium transition-colors\">\r\n                    Dashboard\r\n                  </a>\r\n                </nav>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-4\" suppressHydrationWarning>\r\n                {/* User Menu Dropdown */}\r\n                {mounted && (\r\n                  <div className=\"relative\" ref={userMenuRef}>\r\n                    <button\r\n                      onClick={() => setShowUserMenu(!showUserMenu)}\r\n                      className=\"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors\"\r\n                    >\r\n                      <div\r\n                        className=\"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold\"\r\n                        style={{ background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)' }}\r\n                      >\r\n                        {getInitials(user?.fullName || 'U')}\r\n                      </div>\r\n                      <div className=\"hidden md:block text-left\">\r\n                        <p className=\"text-sm font-medium\" style={{ color: '#8B1538' }}>{user?.fullName}</p>\r\n                        <p className=\"text-xs\" style={{ color: '#718096' }}>{user?.role}</p>\r\n                      </div>\r\n                      <ChevronDown className={`w-4 h-4 text-gray-600 transition-transform ${showUserMenu ? 'rotate-180' : ''}`} />\r\n                    </button>\r\n\r\n                    {/* Dropdown Menu - Only render after client-side hydration */}\r\n                    {showUserMenu && (\r\n                      <div\r\n                        className=\"absolute right-0 mt-2 w-48 rounded-lg shadow-lg overflow-hidden z-50\"\r\n                        style={{\r\n                          background: 'white',\r\n                          border: '1px solid #e2e8f0'\r\n                        }}\r\n                      >\r\n                        <button\r\n                          onClick={() => {\r\n                            setShowUserMenu(false);\r\n                            router.push('/profile');\r\n                          }}\r\n                          className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left\"\r\n                        >\r\n                          <User className=\"w-4 h-4\" style={{ color: '#FF7900' }} />\r\n                          <span style={{ color: '#2d3748' }}>Profile</span>\r\n                        </button>\r\n                        <div style={{ borderTop: '1px solid #e2e8f0' }}></div>\r\n                        <button\r\n                          onClick={() => {\r\n                            setShowUserMenu(false);\r\n                            handleLogout();\r\n                          }}\r\n                          className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left\"\r\n                        >\r\n                          <LogOut className=\"w-4 h-4\" style={{ color: '#8B1538' }} />\r\n                          <span style={{ color: '#2d3748' }}>Logout</span>\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          {/* Phase 6A.7: Upgrade Pending Banner - Show if user has pending upgrade */}\r\n          {user?.pendingUpgradeRole && (\r\n            <UpgradePendingBanner\r\n              upgradeRequestedAt={user.upgradeRequestedAt ? new Date(user.upgradeRequestedAt) : undefined}\r\n            />\r\n          )}\r\n\r\n          {/* Quick Actions - Phase 6A.2: Role-based visibility */}\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex flex-col sm:flex-row gap-3\">\r\n              {/* Phase 6A.7: Show 'Upgrade to Event Organizer' button for GeneralUser (if not already pending) */}\r\n              {user && user.role === UserRole.GeneralUser && !user.pendingUpgradeRole && (\r\n                <Button\r\n                  onClick={() => setShowUpgradeModal(true)}\r\n                  className=\"flex-1 sm:flex-none rounded-lg\"\r\n                  style={{\r\n                    background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)',\r\n                    color: 'white',\r\n                    transition: 'all 0.3s'\r\n                  }}\r\n                  variant=\"default\"\r\n                >\r\n                  <Sparkles className=\"w-4 h-4 mr-2\" />\r\n                  Upgrade to Event Organizer\r\n                </Button>\r\n              )}\r\n              {/* Phase 6A.2.5: Hide 'Create Event' for GeneralUser */}\r\n              {user && canCreateEvents(user.role as UserRole) && (\r\n                <Button\r\n                  onClick={() => router.push('/events/create')}\r\n                  className=\"flex-1 sm:flex-none rounded-lg\"\r\n                  style={{\r\n                    background: '#FF7900',\r\n                    color: 'white',\r\n                    transition: 'all 0.3s'\r\n                  }}\r\n                  variant=\"default\"\r\n                >\r\n                  <Calendar className=\"w-4 h-4 mr-2\" />\r\n                  Create Event\r\n                </Button>\r\n              )}\r\n              {/* Phase 6A.2.6: Show 'Post Topic' for all authenticated users (already shown) */}\r\n              <Button\r\n                onClick={() => router.push('/forum/new')}\r\n                className=\"flex-1 sm:flex-none rounded-lg\"\r\n                variant=\"outline\"\r\n                style={{\r\n                  background: 'white',\r\n                  borderColor: '#FF7900',\r\n                  color: '#FF7900'\r\n                }}\r\n              >\r\n                <MessageSquare className=\"w-4 h-4 mr-2\" />\r\n                Post Topic\r\n              </Button>\r\n              {/* Phase 6A.2.7: Remove 'Find Business' button (Phase 2 feature) - REMOVED */}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Two Column Layout */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n            {/* Left Column - Activity Feed (2/3 width on large screens) */}\r\n            <div className=\"lg:col-span-2 space-y-0\">\r\n              {/* Activity Feed Container */}\r\n              <div\r\n                className=\"rounded-xl overflow-hidden\"\r\n                style={{\r\n                  background: 'white',\r\n                  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\r\n                }}\r\n              >\r\n                {/* Feed Header with Location Selector */}\r\n                <div\r\n                  className=\"p-6 flex justify-between items-center\"\r\n                  style={{\r\n                    background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)',\r\n                    color: 'white'\r\n                  }}\r\n                >\r\n                  <h2 className=\"text-xl font-semibold\">Community Activity</h2>\r\n                  <select\r\n                    className=\"px-4 py-2 rounded-md text-white text-sm outline-none cursor-pointer\"\r\n                    style={{\r\n                      background: 'rgba(255,255,255,0.2)',\r\n                      border: 'none'\r\n                    }}\r\n                    value={selectedLocation}\r\n                    onChange={(e) => setSelectedLocation(e.target.value)}\r\n                  >\r\n                    <option style={{ color: '#2d3748' }}>All Locations</option>\r\n                    <option style={{ color: '#2d3748' }}>Toronto, ON</option>\r\n                    <option style={{ color: '#2d3748' }}>Vancouver, BC</option>\r\n                    <option style={{ color: '#2d3748' }}>Montreal, QC</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Feed Items */}\r\n                {MOCK_ACTIVITIES.map((activity, index) => (\r\n                  <div\r\n                    key={activity.id}\r\n                    className=\"p-6 transition-colors hover:bg-opacity-100\"\r\n                    style={{\r\n                      borderBottom: index === MOCK_ACTIVITIES.length - 1 ? 'none' : '1px solid #e2e8f0',\r\n                      background: 'white'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.background = '#f8f9ff';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.background = 'white';\r\n                    }}\r\n                  >\r\n                    {/* Activity Header */}\r\n                    <div className=\"flex items-center mb-3\">\r\n                      <div\r\n                        className=\"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold mr-3\"\r\n                        style={{ background: 'linear-gradient(135deg, #FF7900, #8B1538)' }}\r\n                      >\r\n                        {activity.author.avatar}\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"font-semibold\" style={{ color: '#8B1538' }}>{activity.author.name}</p>\r\n                        <p className=\"text-xs\" style={{ color: '#718096' }}>\r\n                          {activity.timestamp} • {activity.location}\r\n                        </p>\r\n                      </div>\r\n                      <span\r\n                        className=\"px-2 py-1 text-xs font-semibold rounded capitalize ml-auto\"\r\n                        style={{\r\n                          background: activity.type === 'event' ? '#FFE8CC' :\r\n                                     activity.type === 'post' ? '#FFDAB3' : '#D4EDDA',\r\n                          color: activity.type === 'event' ? '#8B1538' :\r\n                                 activity.type === 'post' ? '#FF7900' : '#006400'\r\n                        }}\r\n                      >\r\n                        {activity.type}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {/* Activity Content */}\r\n                    <div className=\"mb-4\">\r\n                      <h3 className=\"font-semibold mb-2\" style={{ fontSize: '1.1rem', color: '#8B1538' }}>\r\n                        {activity.type === 'event' ? 'Join Our Event' :\r\n                         activity.type === 'business' ? 'Special Announcement' : 'Community Discussion'}\r\n                      </h3>\r\n                      <p style={{ color: '#718096', fontSize: '0.9rem', lineHeight: '1.5' }}>\r\n                        {activity.content}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Activity Actions */}\r\n                    <div\r\n                      className=\"flex gap-4 pt-4\"\r\n                      style={{ borderTop: '1px solid #f1f5f9' }}\r\n                    >\r\n                      <button\r\n                        className=\"flex items-center gap-2 transition-colors text-sm\"\r\n                        style={{ color: '#718096' }}\r\n                        onMouseEnter={(e) => {\r\n                          e.currentTarget.style.color = '#FF7900';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.currentTarget.style.color = '#718096';\r\n                        }}\r\n                      >\r\n                        <Heart className=\"w-4 h-4\" />\r\n                        <span>{activity.likes}</span>\r\n                      </button>\r\n                      <button\r\n                        className=\"flex items-center gap-2 transition-colors text-sm\"\r\n                        style={{ color: '#718096' }}\r\n                        onMouseEnter={(e) => {\r\n                          e.currentTarget.style.color = '#FF7900';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.currentTarget.style.color = '#718096';\r\n                        }}\r\n                      >\r\n                        <MessageCircle className=\"w-4 h-4\" />\r\n                        <span>{activity.comments}</span>\r\n                      </button>\r\n                      <button\r\n                        className=\"flex items-center gap-2 transition-colors text-sm ml-auto\"\r\n                        style={{ color: '#718096' }}\r\n                        onMouseEnter={(e) => {\r\n                          e.currentTarget.style.color = '#FF7900';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.currentTarget.style.color = '#718096';\r\n                        }}\r\n                      >\r\n                        <Share2 className=\"w-4 h-4\" />\r\n                        <span>Share</span>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Load More */}\r\n              <div className=\"text-center pt-6\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  className=\"w-full sm:w-auto\"\r\n                  style={{\r\n                    borderColor: '#FF7900',\r\n                    color: '#FF7900'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.currentTarget.style.background = '#FF7900';\r\n                    e.currentTarget.style.color = 'white';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.currentTarget.style.background = 'transparent';\r\n                    e.currentTarget.style.color = '#FF7900';\r\n                  }}\r\n                >\r\n                  Load More Activities\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Column - Widgets (1/3 width on large screens) */}\r\n            <div className=\"space-y-8\">\r\n              {/* Cultural Calendar Widget */}\r\n              <CulturalCalendar events={MOCK_CULTURAL_EVENTS} />\r\n\r\n              {/* Featured Businesses Widget */}\r\n              <FeaturedBusinesses businesses={MOCK_BUSINESSES} />\r\n\r\n              {/* Community Stats Widget */}\r\n              <CommunityStats stats={MOCK_COMMUNITY_STATS} />\r\n            </div>\r\n          </div>\r\n        </main>\r\n\r\n        {/* Phase 6A.2.4: Add Footer component */}\r\n        <Footer />\r\n\r\n        {/* Phase 6A.7: Upgrade Modal */}\r\n        <UpgradeModal isOpen={showUpgradeModal} onClose={() => setShowUpgradeModal(false)} />\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport { Star, Store } from 'lucide-react';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/presentation/components/ui/Card';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface Business {\r\n  id: string;\r\n  name: string;\r\n  category: string;\r\n  rating: number;\r\n  reviewCount: number;\r\n  imageUrl?: string;\r\n}\r\n\r\nexport interface FeaturedBusinessesProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  businesses: Business[];\r\n  onBusinessClick?: (businessId: string) => void;\r\n  limit?: number;\r\n}\r\n\r\nconst renderStars = (rating: number) => {\r\n  const stars = [];\r\n  const fullStars = Math.floor(rating);\r\n\r\n  for (let i = 0; i < 5; i++) {\r\n    stars.push(\r\n      <Star\r\n        key={i}\r\n        className={cn(\r\n          'h-4 w-4',\r\n          i < fullStars ? 'text-yellow-400 fill-yellow-400' : 'text-gray-300'\r\n        )}\r\n        data-icon=\"star\"\r\n      />\r\n    );\r\n  }\r\n\r\n  return stars;\r\n};\r\n\r\n/**\r\n * FeaturedBusinesses Component\r\n * Displays featured businesses with ratings, reviews, and categories\r\n * Supports optional click interactions and display limits\r\n */\r\nexport const FeaturedBusinesses = React.forwardRef<HTMLDivElement, FeaturedBusinessesProps>(\r\n  ({ className, businesses, onBusinessClick, limit, ...props }, ref) => {\r\n    const displayedBusinesses = React.useMemo(() => {\r\n      return limit ? businesses.slice(0, limit) : businesses;\r\n    }, [businesses, limit]);\r\n\r\n    const handleClick = (businessId: string) => {\r\n      if (onBusinessClick) {\r\n        onBusinessClick(businessId);\r\n      }\r\n    };\r\n\r\n    const handleKeyPress = (event: React.KeyboardEvent, businessId: string) => {\r\n      if (event.key === 'Enter' && onBusinessClick) {\r\n        onBusinessClick(businessId);\r\n      }\r\n    };\r\n\r\n    const getInitials = (name: string) => {\r\n      return name\r\n        .split(' ')\r\n        .map(word => word[0])\r\n        .join('')\r\n        .toUpperCase()\r\n        .slice(0, 2);\r\n    };\r\n\r\n    return (\r\n      <div ref={ref} className={cn('', className)} {...props}>\r\n        <div\r\n          className=\"rounded-xl overflow-hidden\"\r\n          style={{\r\n            background: 'white',\r\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\r\n          }}\r\n        >\r\n          {/* Widget Header */}\r\n          <div\r\n            className=\"px-5 py-4 font-semibold border-b\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(255,121,0,0.1) 0%, rgba(139,21,56,0.1) 100%)',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              color: '#8B1538'\r\n            }}\r\n          >\r\n            ⭐ Featured Businesses\r\n          </div>\r\n\r\n          {/* Widget Content */}\r\n          <div className=\"p-5\">\r\n            {displayedBusinesses.length === 0 ? (\r\n              <p className=\"text-sm text-center py-4\" style={{ color: '#718096' }}>\r\n                No featured businesses available\r\n              </p>\r\n            ) : (\r\n              <div className=\"space-y-0\">\r\n                {displayedBusinesses.map((business, index) => (\r\n                  <div\r\n                    key={business.id}\r\n                    role={onBusinessClick ? 'button' : undefined}\r\n                    tabIndex={onBusinessClick ? 0 : undefined}\r\n                    onClick={() => onBusinessClick && handleClick(business.id)}\r\n                    onKeyPress={(e) => handleKeyPress(e, business.id)}\r\n                    className={cn(\r\n                      'flex items-center py-3 transition-all',\r\n                      onBusinessClick && 'cursor-pointer'\r\n                    )}\r\n                    style={{\r\n                      borderBottom: index === displayedBusinesses.length - 1 ? 'none' : '1px solid #f1f5f9'\r\n                    }}\r\n                  >\r\n                    {/* Business Logo */}\r\n                    <div\r\n                      className=\"rounded-lg flex items-center justify-center text-white font-bold flex-shrink-0 mr-3\"\r\n                      style={{\r\n                        background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)',\r\n                        width: '40px',\r\n                        height: '40px',\r\n                        fontSize: '0.8rem'\r\n                      }}\r\n                    >\r\n                      {getInitials(business.name)}\r\n                    </div>\r\n\r\n                    {/* Business Info */}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h4\r\n                        className=\"font-medium truncate\"\r\n                        style={{ fontSize: '0.9rem', marginBottom: '0.25rem', color: '#2d3748' }}\r\n                      >\r\n                        {business.name}\r\n                      </h4>\r\n                      <p style={{ fontSize: '0.8rem', color: '#718096' }}>\r\n                        {business.category}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Rating */}\r\n                    <div\r\n                      className=\"ml-auto text-sm font-medium\"\r\n                      style={{ color: '#FFD700' }}\r\n                    >\r\n                      ⭐ {business.rating.toFixed(1)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nFeaturedBusinesses.displayName = 'FeaturedBusinesses';\r\n","import * as React from 'react';\r\nimport { Calendar } from 'lucide-react';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/presentation/components/ui/Card';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface CulturalEvent {\r\n  id: string;\r\n  name: string;\r\n  date: string;\r\n  category: 'national' | 'religious' | 'cultural' | 'holiday';\r\n}\r\n\r\nexport interface CulturalCalendarProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  events: CulturalEvent[];\r\n}\r\n\r\nconst categoryStyles: Record<CulturalEvent['category'], string> = {\r\n  national: 'bg-blue-100 text-blue-800',\r\n  religious: 'bg-purple-100 text-purple-800',\r\n  cultural: 'bg-green-100 text-green-800',\r\n  holiday: 'bg-orange-100 text-orange-800',\r\n};\r\n\r\nconst formatDate = (dateString: string): { day: string; month: string } => {\r\n  // Parse date as UTC to avoid timezone offset issues\r\n  const [year, month, day] = dateString.split('-').map(Number);\r\n  const date = new Date(Date.UTC(year, month - 1, day));\r\n  return {\r\n    day: day.toString(),\r\n    month: date.toLocaleDateString('en-US', { month: 'short', timeZone: 'UTC' }).toUpperCase()\r\n  };\r\n};\r\n\r\n/**\r\n * CulturalCalendar Component\r\n * Displays upcoming cultural and religious events in a card format\r\n * Shows event name, date, and category with color-coded badges\r\n */\r\nexport const CulturalCalendar = React.forwardRef<HTMLDivElement, CulturalCalendarProps>(\r\n  ({ className, events, ...props }, ref) => {\r\n    // Sort events by date\r\n    const sortedEvents = React.useMemo(() => {\r\n      return [...events].sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\r\n    }, [events]);\r\n\r\n    return (\r\n      <div ref={ref} className={cn('', className)} {...props}>\r\n        <div\r\n          className=\"rounded-xl overflow-hidden\"\r\n          style={{\r\n            background: 'white',\r\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\r\n          }}\r\n        >\r\n          {/* Widget Header */}\r\n          <div\r\n            className=\"px-5 py-4 font-semibold border-b\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(255,121,0,0.1) 0%, rgba(139,21,56,0.1) 100%)',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              color: '#8B1538'\r\n            }}\r\n          >\r\n            🗓️ Cultural Calendar\r\n          </div>\r\n\r\n          {/* Widget Content */}\r\n          <div className=\"p-5\">\r\n            {sortedEvents.length === 0 ? (\r\n              <p className=\"text-sm text-center py-4\" style={{ color: '#718096' }}>\r\n                No upcoming events at this time\r\n              </p>\r\n            ) : (\r\n              <div className=\"space-y-0\" role=\"list\">\r\n                {sortedEvents.map((event, index) => {\r\n                  const dateInfo = formatDate(event.date);\r\n                  return (\r\n                    <div\r\n                      key={event.id}\r\n                      className=\"flex items-center py-3\"\r\n                      style={{\r\n                        borderBottom: index === sortedEvents.length - 1 ? 'none' : '1px solid #f1f5f9'\r\n                      }}\r\n                      role=\"listitem\"\r\n                    >\r\n                      {/* Event Date Box */}\r\n                      <div\r\n                        className=\"rounded-lg text-center flex-shrink-0 mr-4\"\r\n                        style={{\r\n                          background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 100%)',\r\n                          color: 'white',\r\n                          padding: '0.5rem',\r\n                          minWidth: '60px'\r\n                        }}\r\n                      >\r\n                        <div style={{ fontSize: '1.25rem', fontWeight: 'bold', lineHeight: '1' }}>\r\n                          {dateInfo.day}\r\n                        </div>\r\n                        <div style={{ fontSize: '0.75rem', opacity: 0.9 }}>\r\n                          {dateInfo.month}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Event Info */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h4\r\n                          data-testid=\"event-name\"\r\n                          className=\"font-medium truncate\"\r\n                          style={{ fontSize: '0.9rem', marginBottom: '0.25rem', color: '#2d3748' }}\r\n                        >\r\n                          {event.name}\r\n                        </h4>\r\n                        <p style={{ fontSize: '0.8rem', color: '#718096' }}>\r\n                          {event.category === 'national' ? 'National holiday' :\r\n                           event.category === 'religious' ? 'Religious celebration' :\r\n                           event.category === 'cultural' ? 'Cultural event' : 'Public holiday'}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCulturalCalendar.displayName = 'CulturalCalendar';\r\n","/**\n * Subscription Types\n * Phase 6A.1: Subscription management for Event Organizer accounts\n */\n\nexport enum SubscriptionStatus {\n  None = 'None',\n  Trialing = 'Trialing',\n  Active = 'Active',\n  PastDue = 'PastDue',\n  Canceled = 'Canceled',\n  Expired = 'Expired',\n}\n\nexport interface SubscriptionInfo {\n  status: SubscriptionStatus;\n  freeTrialStartedAt?: string;\n  freeTrialEndsAt?: string;\n  subscriptionActivatedAt?: string;\n  subscriptionCanceledAt?: string;\n  stripeCustomerId?: string;\n  stripeSubscriptionId?: string;\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import * as React from 'react';\r\nimport { Users, MessageCircle, Calendar } from 'lucide-react';\r\nimport { StatCard, TrendIndicator } from '@/presentation/components/ui/StatCard';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface CommunityStatsData {\r\n  activeUsers: number;\r\n  activeUsersTrend?: TrendIndicator;\r\n  recentPosts: number;\r\n  recentPostsTrend?: TrendIndicator;\r\n  upcomingEvents: number;\r\n  upcomingEventsTrend?: TrendIndicator;\r\n}\r\n\r\nexport interface CommunityStatsProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  stats: CommunityStatsData;\r\n  isLoading?: boolean;\r\n  error?: string;\r\n}\r\n\r\nconst formatNumber = (num: number): string => {\r\n  return num.toLocaleString('en-US');\r\n};\r\n\r\nconst LoadingSkeleton = () => (\r\n  <div className=\"space-y-4\">\r\n    <h2 className=\"text-lg font-semibold\">Community Statistics</h2>\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n      {[1, 2, 3].map((i) => (\r\n        <div\r\n          key={i}\r\n          className=\"h-32 bg-gray-200 rounded-lg animate-pulse\"\r\n        />\r\n      ))}\r\n    </div>\r\n    <p className=\"text-sm text-muted-foreground text-center\">Loading statistics...</p>\r\n  </div>\r\n);\r\n\r\n/**\r\n * CommunityStats Component\r\n * Displays real-time community statistics using StatCard components\r\n * Shows active users, recent posts, and upcoming events with trends\r\n */\r\nexport const CommunityStats = React.forwardRef<HTMLDivElement, CommunityStatsProps>(\r\n  ({ className, stats, isLoading, error, ...props }, ref) => {\r\n    if (isLoading) {\r\n      return (\r\n        <div ref={ref} className={cn('', className)} {...props}>\r\n          <LoadingSkeleton />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div ref={ref} className={cn('', className)} {...props}>\r\n          <div className=\"space-y-4\">\r\n            <h2 className=\"text-lg font-semibold\">Community Statistics</h2>\r\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-sm text-red-600\">{error}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div ref={ref} className={cn('', className)} {...props}>\r\n        <div\r\n          className=\"rounded-xl overflow-hidden\"\r\n          style={{\r\n            background: 'white',\r\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\r\n          }}\r\n        >\r\n          {/* Widget Header */}\r\n          <div\r\n            className=\"px-5 py-4 font-semibold border-b\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(255,121,0,0.1) 0%, rgba(139,21,56,0.1) 100%)',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              color: '#8B1538'\r\n            }}\r\n          >\r\n            📊 Community Stats\r\n          </div>\r\n\r\n          {/* Widget Content */}\r\n          <div className=\"p-5\">\r\n            <div className=\"space-y-4\">\r\n              {/* Active Today */}\r\n              <div className=\"flex justify-between items-center\">\r\n                <span style={{ color: '#718096' }}>Active Today</span>\r\n                <strong style={{ color: '#2d3748' }}>{formatNumber(stats.activeUsers)}</strong>\r\n              </div>\r\n\r\n              {/* Events This Week */}\r\n              <div className=\"flex justify-between items-center\">\r\n                <span style={{ color: '#718096' }}>Events This Week</span>\r\n                <strong style={{ color: '#2d3748' }}>{formatNumber(stats.recentPosts)}</strong>\r\n              </div>\r\n\r\n              {/* New Businesses */}\r\n              <div className=\"flex justify-between items-center\">\r\n                <span style={{ color: '#718096' }}>New Businesses</span>\r\n                <strong style={{ color: '#2d3748' }}>{formatNumber(23)}</strong>\r\n              </div>\r\n\r\n              {/* Forum Discussions */}\r\n              <div className=\"flex justify-between items-center\">\r\n                <span style={{ color: '#718096' }}>Forum Discussions</span>\r\n                <strong style={{ color: '#2d3748' }}>{formatNumber(stats.upcomingEvents)}</strong>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCommunityStats.displayName = 'CommunityStats';\r\n"],"names":[],"mappings":"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","ignoreList":[9,10,11]}