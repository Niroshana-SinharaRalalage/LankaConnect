module.exports=[24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},13858,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18203);let e=c.forwardRef(({className:a,type:c="text",error:e,...f},g)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e&&"border-destructive focus-visible:ring-destructive",a),ref:g,"aria-invalid":e?"true":void 0,...f}));e.displayName="Input",a.s(["Input",()=>e])},43061,a=>{"use strict";var b=a.i(64668);class c{basePath="/auth";async login(a,c=!1){return await b.apiClient.post(`${this.basePath}/login`,{...a,rememberMe:c})}async register(a){return await b.apiClient.post(`${this.basePath}/register`,a)}async refreshToken(a){return await b.apiClient.post(`${this.basePath}/refresh-token`,{refreshToken:a})}async logout(){await b.apiClient.post(`${this.basePath}/logout`)}async requestPasswordReset(a){return await b.apiClient.post(`${this.basePath}/forgot-password`,{email:a})}async resetPassword(a,c){return await b.apiClient.post(`${this.basePath}/reset-password`,{token:a,newPassword:c})}async verifyEmail(a){return await b.apiClient.post(`${this.basePath}/verify-email`,{token:a})}async resendVerificationEmail(a){return await b.apiClient.post(`${this.basePath}/resend-verification`,{email:a})}async testVerifyEmail(a){return await b.apiClient.post(`${this.basePath}/test/verify-user/${a}`,{})}}let d=new c;a.s(["AuthRepository",()=>c,"authRepository",0,d])},72493,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(72988);function f({children:a}){let f=(0,d.useRouter)(),{isAuthenticated:g,isLoading:h}=(0,e.useAuthStore)(),[i,j]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{j(!0)},[]),(0,c.useEffect)(()=>{!i||h||g||f.push("/login")},[g,h,i,f]),!i||h)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f7fafc"},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#FF7900"}}),(0,b.jsx)("p",{style:{color:"#8B1538",fontSize:"0.9rem"},children:"Loading..."})]})}):g?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},73320,96221,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>c],73320);let d=(0,b.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>d],96221)},23482,a=>{"use strict";var b=a.i(20226),c=a.i(62435),d=a.i(64668);let e=new class{basePath="/users";async getProfile(a){return await d.apiClient.get(`${this.basePath}/${a}`)}async uploadProfilePhoto(a,b){let c=new FormData;c.append("image",b);let e=`/api/proxy${this.basePath}/${a}/profile-photo`,f=d.apiClient.authToken,g=await fetch(e,{method:"POST",body:c,credentials:"include",headers:{...f?{Authorization:`Bearer ${f}`}:{}}});if(!g.ok){let a=await g.text(),b=`Upload failed with status ${g.status}`;try{let c=JSON.parse(a);b=c.message||c.error||b}catch{}throw Error(b)}return await g.json()}async deleteProfilePhoto(a){return await d.apiClient.delete(`${this.basePath}/${a}/profile-photo`)}async updateLocation(a,b){return await d.apiClient.put(`${this.basePath}/${a}/location`,b)}async updateCulturalInterests(a,b){return await d.apiClient.put(`${this.basePath}/${a}/cultural-interests`,b),await this.getProfile(a)}async updateLanguages(a,b){return await d.apiClient.put(`${this.basePath}/${a}/languages`,b)}async updateBasicInfo(a,b){return await d.apiClient.put(`${this.basePath}/${a}`,b)}async updatePreferredMetroAreas(a,b){return await d.apiClient.put(`${this.basePath}/${a}/preferred-metro-areas`,b),await this.getProfile(a)}async getPreferredMetroAreas(a){return await d.apiClient.get(`${this.basePath}/${a}/preferred-metro-areas`)}},f={photo:"idle",basicInfo:"idle",location:"idle",culturalInterests:"idle",languages:"idle",preferredMetroAreas:"idle"},g=(0,b.create)()((0,c.devtools)((a,b)=>({profile:null,originalProfile:null,isLoading:!1,error:null,sectionStates:{...f},setProfile:b=>{a({profile:b,originalProfile:JSON.parse(JSON.stringify(b)),error:null})},loadProfile:async c=>{a({isLoading:!0,error:null});try{let a=await e.getProfile(c);b().setProfile(a)}catch(b){a({error:b instanceof Error?b.message:"Failed to load profile",profile:null,originalProfile:null})}finally{a({isLoading:!1})}},clearProfile:()=>{a({profile:null,originalProfile:null,isLoading:!1,error:null,sectionStates:{...f}})},uploadPhoto:async(b,c)=>{a(a=>({sectionStates:{...a.sectionStates,photo:"saving"},error:null}));try{let d=await e.uploadProfilePhoto(b,c);a(a=>({profile:a.profile?{...a.profile,profilePhotoUrl:d.profilePhotoUrl}:null,originalProfile:a.originalProfile?{...a.originalProfile,profilePhotoUrl:d.profilePhotoUrl}:null,sectionStates:{...a.sectionStates,photo:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,photo:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to upload photo";a(a=>({error:b,sectionStates:{...a.sectionStates,photo:"error"}}))}},deletePhoto:async b=>{a(a=>({sectionStates:{...a.sectionStates,photo:"saving"},error:null}));try{await e.deleteProfilePhoto(b),a(a=>({profile:a.profile?{...a.profile,profilePhotoUrl:null}:null,originalProfile:a.originalProfile?{...a.originalProfile,profilePhotoUrl:null}:null,sectionStates:{...a.sectionStates,photo:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,photo:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to delete photo";a(a=>({error:b,sectionStates:{...a.sectionStates,photo:"error"}}))}},updateBasicInfo:async(c,d)=>{a(a=>({sectionStates:{...a.sectionStates,basicInfo:"saving"},error:null}));try{let f=await e.updateBasicInfo(c,d);b().setProfile(f),a(a=>({sectionStates:{...a.sectionStates,basicInfo:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,basicInfo:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to update basic info";a(a=>({error:b,sectionStates:{...a.sectionStates,basicInfo:"error"}}))}},updateLocation:async(c,d)=>{a(a=>({sectionStates:{...a.sectionStates,location:"saving"},error:null}));try{let f=await e.updateLocation(c,d);b().setProfile(f),a(a=>({sectionStates:{...a.sectionStates,location:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,location:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to update location";a(a=>({error:b,sectionStates:{...a.sectionStates,location:"error"}}))}},updateCulturalInterests:async(c,d)=>{a(a=>({sectionStates:{...a.sectionStates,culturalInterests:"saving"},error:null}));try{let f=await e.updateCulturalInterests(c,d);b().setProfile(f),a(a=>({sectionStates:{...a.sectionStates,culturalInterests:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,culturalInterests:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to update cultural interests";a(a=>({error:b,sectionStates:{...a.sectionStates,culturalInterests:"error"}}))}},updateLanguages:async(c,d)=>{a(a=>({sectionStates:{...a.sectionStates,languages:"saving"},error:null}));try{let f=await e.updateLanguages(c,d);b().setProfile(f),a(a=>({sectionStates:{...a.sectionStates,languages:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,languages:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to update languages";a(a=>({error:b,sectionStates:{...a.sectionStates,languages:"error"}}))}},updatePreferredMetroAreas:async(c,d)=>{if(d.MetroAreaIds.length>20)return void a(a=>({error:"Cannot select more than 20 metro areas",sectionStates:{...a.sectionStates,preferredMetroAreas:"error"}}));a(a=>({sectionStates:{...a.sectionStates,preferredMetroAreas:"saving"},error:null}));try{let f=await e.updatePreferredMetroAreas(c,d);b().setProfile(f),a(a=>({sectionStates:{...a.sectionStates,preferredMetroAreas:"success"}})),setTimeout(()=>{a(a=>({sectionStates:{...a.sectionStates,preferredMetroAreas:"idle"}}))},2e3)}catch(c){let b=c instanceof Error?c.message:"Failed to update preferred metro areas";a(a=>({error:b,sectionStates:{...a.sectionStates,preferredMetroAreas:"error"}}))}},markSectionDirty:b=>{a(a=>({sectionStates:{...a.sectionStates,[b]:"dirty"}}))},markSectionClean:b=>{a(a=>({sectionStates:{...a.sectionStates,[b]:"idle"}}))},resetSectionState:b=>{a(a=>({sectionStates:{...a.sectionStates,[b]:"idle"}}))},isSectionDirty:a=>"dirty"===b().sectionStates[a]}),{name:"ProfileStore"}));a.s(["useProfileStore",0,g],23482)}];

//# sourceMappingURL=_6756675c._.js.map