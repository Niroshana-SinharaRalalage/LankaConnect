{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\n/**\r\n * Utility function to merge Tailwind CSS classes\r\n * Combines clsx for conditional classes and tailwind-merge for conflict resolution\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/atoms/Logo.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface LogoProps {\r\n  size?: 'sm' | 'md' | 'lg' | 'xl';\r\n  showText?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst sizeClasses = {\r\n  sm: 'h-10 w-10',\r\n  md: 'h-16 w-16',\r\n  lg: 'h-20 w-20',\r\n  xl: 'h-24 w-24',\r\n};\r\n\r\nconst textSizeClasses = {\r\n  sm: 'text-lg',\r\n  md: 'text-xl',\r\n  lg: 'text-2xl',\r\n  xl: 'text-3xl',\r\n};\r\n\r\nconst imageSizes = {\r\n  sm: 40,\r\n  md: 64,\r\n  lg: 80,\r\n  xl: 96,\r\n};\r\n\r\n/**\r\n * Logo Component\r\n * Displays the LankaConnect logo with optional text\r\n */\r\nexport function Logo({ size = 'md', showText = false, className }: LogoProps) {\r\n  return (\r\n    <div className={cn('flex items-center gap-3', className)} suppressHydrationWarning>\r\n      <div className={cn(sizeClasses[size], 'relative flex-shrink-0')}>\r\n        <Image\r\n          src=\"/images/lankaconnect-logo.png\"\r\n          alt=\"LankaConnect\"\r\n          width={imageSizes[size]}\r\n          height={imageSizes[size]}\r\n          className=\"object-contain w-full h-full\"\r\n          priority\r\n        />\r\n      </div>\r\n      {showText && (\r\n        <span className={cn('font-bold text-maroon', textSizeClasses[size])}>\r\n          LankaConnect\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,cAAc;IAClB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,MAAM,kBAAkB;IACtB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,MAAM,aAAa;IACjB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAMO,SAAS,KAAK,EAAE,OAAO,IAAI,EAAE,WAAW,KAAK,EAAE,SAAS,EAAa;IAC1E,qBACE,8OAAC;QAAI,WAAW,IAAA,yIAAE,EAAC,2BAA2B;QAAY,wBAAwB;;0BAChF,8OAAC;gBAAI,WAAW,IAAA,yIAAE,EAAC,WAAW,CAAC,KAAK,EAAE;0BACpC,cAAA,8OAAC,wIAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO,UAAU,CAAC,KAAK;oBACvB,QAAQ,UAAU,CAAC,KAAK;oBACxB,WAAU;oBACV,QAAQ;;;;;;;;;;;YAGX,0BACC,8OAAC;gBAAK,WAAW,IAAA,yIAAE,EAAC,yBAAyB,eAAe,CAAC,KAAK;0BAAG;;;;;;;;;;;;AAM7E","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/atoms/OfficialLogo.tsx"],"sourcesContent":["import Link from 'next/link';\nimport { Logo } from './Logo';\nimport { cn } from '@/presentation/lib/utils';\n\nexport interface OfficialLogoProps {\n  size?: 'sm' | 'md' | 'lg';\n  textColor?: string;\n  subtitleColor?: string;\n  linkTo?: string | null;\n  className?: string;\n}\n\n/**\n * Official LankaConnect Logo Component\n * Complete branding with icon, title, and subtitle\n * Used consistently across all pages: landing, dashboard, profile, auth pages\n */\nexport function OfficialLogo({\n  size = 'md',\n  textColor = 'text-[#8B1538]',\n  subtitleColor = 'text-gray-600',\n  linkTo = '/',\n  className,\n}: OfficialLogoProps) {\n  const sizeConfig = {\n    sm: {\n      logoSize: 'sm' as const,\n      titleSize: 'text-lg',\n      subtitleSize: 'text-[10px]',\n      gap: 'ml-2',\n    },\n    md: {\n      logoSize: 'md' as const,\n      titleSize: 'text-2xl',\n      subtitleSize: 'text-xs',\n      gap: 'ml-3',\n    },\n    lg: {\n      logoSize: 'lg' as const,\n      titleSize: 'text-3xl',\n      subtitleSize: 'text-sm',\n      gap: 'ml-4',\n    },\n  };\n\n  const config = sizeConfig[size];\n\n  const logoContent = (\n    <div className={cn('flex items-center', className)}>\n      <Logo size={config.logoSize} showText={false} />\n      <div className={config.gap}>\n        <div className={cn(config.titleSize, textColor)}>LankaConnect</div>\n        <div className={cn(config.subtitleSize, subtitleColor, '-mt-1')}>\n          Sri Lankan Community Hub\n        </div>\n      </div>\n    </div>\n  );\n\n  if (linkTo) {\n    return (\n      <Link href={linkTo} className=\"hover:opacity-90 transition-opacity\">\n        {logoContent}\n      </Link>\n    );\n  }\n\n  return logoContent;\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAeO,SAAS,aAAa,EAC3B,OAAO,IAAI,EACX,YAAY,gBAAgB,EAC5B,gBAAgB,eAAe,EAC/B,SAAS,GAAG,EACZ,SAAS,EACS;IAClB,MAAM,aAAa;QACjB,IAAI;YACF,UAAU;YACV,WAAW;YACX,cAAc;YACd,KAAK;QACP;QACA,IAAI;YACF,UAAU;YACV,WAAW;YACX,cAAc;YACd,KAAK;QACP;QACA,IAAI;YACF,UAAU;YACV,WAAW;YACX,cAAc;YACd,KAAK;QACP;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,MAAM,4BACJ,8OAAC;QAAI,WAAW,IAAA,yIAAE,EAAC,qBAAqB;;0BACtC,8OAAC,2JAAI;gBAAC,MAAM,OAAO,QAAQ;gBAAE,UAAU;;;;;;0BACvC,8OAAC;gBAAI,WAAW,OAAO,GAAG;;kCACxB,8OAAC;wBAAI,WAAW,IAAA,yIAAE,EAAC,OAAO,SAAS,EAAE;kCAAY;;;;;;kCACjD,8OAAC;wBAAI,WAAW,IAAA,yIAAE,EAAC,OAAO,YAAY,EAAE,eAAe;kCAAU;;;;;;;;;;;;;;;;;;IAOvE,IAAI,QAAQ;QACV,qBACE,8OAAC,uKAAI;YAAC,MAAM;YAAQ,WAAU;sBAC3B;;;;;;IAGP;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/Button.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cva, type VariantProps } from 'class-variance-authority';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nconst buttonVariants = cva(\r\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\r\n        outline: 'border border-primary bg-background hover:bg-accent hover:text-accent-foreground',\r\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-10 px-4 py-2',\r\n        sm: 'h-9 rounded-md px-3',\r\n        lg: 'h-11 rounded-md px-8',\r\n        icon: 'h-10 w-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  loading?: boolean;\r\n}\r\n\r\n/**\r\n * Button Component\r\n * Reusable button component with multiple variants and sizes\r\n * Follows UI/UX best practices with loading states and accessibility\r\n */\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, loading, disabled, children, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        disabled={disabled || loading}\r\n        aria-disabled={disabled || loading}\r\n        {...props}\r\n      >\r\n        {loading ? (\r\n          <>\r\n            <svg\r\n              className=\"mr-2 h-4 w-4 animate-spin\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <circle\r\n                className=\"opacity-25\"\r\n                cx=\"12\"\r\n                cy=\"12\"\r\n                r=\"10\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"4\"\r\n              ></circle>\r\n              <path\r\n                className=\"opacity-75\"\r\n                fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n              ></path>\r\n            </svg>\r\n            <span>Loading...</span>\r\n          </>\r\n        ) : (\r\n          children\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nButton.displayName = 'Button';\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF;;;;CAIC,GACD,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACpE,qBACE,8OAAC;QACC,WAAW,IAAA,yIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACL,UAAU,YAAY;QACtB,iBAAe,YAAY;QAC1B,GAAG,KAAK;kBAER,wBACC;;8BACE,8OAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;;sCAER,8OAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;8BAGN,8OAAC;8BAAK;;;;;;;2BAGR;;;;;;AAIR;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/notifications/NotificationBell.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { cn } from '@/presentation/lib/utils';\n\nexport interface NotificationBellProps {\n  unreadCount: number;\n  onClick?: () => void;\n  className?: string;\n}\n\n/**\n * NotificationBell Component\n * Phase 6A.6: Notification System\n *\n * Bell icon with badge showing unread notification count\n *\n * Features:\n * - Bell icon with animated hover effect\n * - Badge showing unread count (max 99+)\n * - Accessible button with proper ARIA labels\n * - Sri Lankan flag colors (Saffron #FF7900 for badge)\n * - Responsive design\n *\n * @example\n * ```tsx\n * <NotificationBell\n *   unreadCount={5}\n *   onClick={() => setDropdownOpen(true)}\n * />\n * ```\n */\nexport function NotificationBell({\n  unreadCount,\n  onClick,\n  className = '',\n}: NotificationBellProps) {\n  const displayCount = unreadCount > 99 ? '99+' : unreadCount.toString();\n  const hasUnread = unreadCount > 0;\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        'relative flex items-center justify-center w-10 h-10 rounded-full',\n        'hover:bg-gray-100 transition-all duration-200',\n        'focus:outline-none focus:ring-2 focus:ring-[#8B1538] focus:ring-offset-2',\n        className\n      )}\n      onClick={onClick}\n      aria-label={`Notifications${hasUnread ? ` (${unreadCount} unread)` : ''}`}\n      title={hasUnread ? `${unreadCount} unread notifications` : 'Notifications'}\n    >\n      {/* Bell Icon */}\n      <svg\n        className={cn(\n          'w-6 h-6 text-[#333]',\n          hasUnread && 'animate-[bell-ring_1s_ease-in-out]'\n        )}\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        aria-hidden=\"true\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\n        />\n      </svg>\n\n      {/* Badge */}\n      {hasUnread && (\n        <span\n          className={cn(\n            'absolute top-0 right-0',\n            'flex items-center justify-center',\n            'min-w-[20px] h-5 px-1',\n            'bg-[#FF7900] text-white text-xs font-bold rounded-full',\n            'border-2 border-white',\n            'animate-[badge-pop_0.3s_ease-out]'\n          )}\n          aria-label={`${unreadCount} unread notifications`}\n        >\n          {displayCount}\n        </span>\n      )}\n    </button>\n  );\n}\n\n/**\n * Add these animations to your global CSS or tailwind.config.ts:\n *\n * @keyframes bell-ring {\n *   0%, 100% { transform: rotate(0deg); }\n *   10%, 30% { transform: rotate(-10deg); }\n *   20%, 40% { transform: rotate(10deg); }\n * }\n *\n * @keyframes badge-pop {\n *   0% { transform: scale(0); }\n *   50% { transform: scale(1.1); }\n *   100% { transform: scale(1); }\n * }\n */\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAgCO,SAAS,iBAAiB,EAC/B,WAAW,EACX,OAAO,EACP,YAAY,EAAE,EACQ;IACtB,MAAM,eAAe,cAAc,KAAK,QAAQ,YAAY,QAAQ;IACpE,MAAM,YAAY,cAAc;IAEhC,qBACE,8OAAC;QACC,MAAK;QACL,WAAW,IAAA,yIAAE,EACX,oEACA,iDACA,4EACA;QAEF,SAAS;QACT,cAAY,CAAC,aAAa,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,QAAQ,CAAC,GAAG,IAAI;QACzE,OAAO,YAAY,GAAG,YAAY,qBAAqB,CAAC,GAAG;;0BAG3D,8OAAC;gBACC,WAAW,IAAA,yIAAE,EACX,uBACA,aAAa;gBAEf,MAAK;gBACL,QAAO;gBACP,SAAQ;gBACR,OAAM;gBACN,eAAY;0BAEZ,cAAA,8OAAC;oBACC,eAAc;oBACd,gBAAe;oBACf,aAAa;oBACb,GAAE;;;;;;;;;;;YAKL,2BACC,8OAAC;gBACC,WAAW,IAAA,yIAAE,EACX,0BACA,oCACA,yBACA,0DACA,yBACA;gBAEF,cAAY,GAAG,YAAY,qBAAqB,CAAC;0BAEhD;;;;;;;;;;;;AAKX,EAEA;;;;;;;;;;;;;;CAcC","debugId":null}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/types/notifications.types.ts"],"sourcesContent":["/**\n * Notification API Types\n * Phase 6A.6: Notification System\n */\n\nexport interface NotificationDto {\n  id: string;\n  title: string;\n  message: string;\n  type: NotificationType;\n  isRead: boolean;\n  readAt: string | null;\n  createdAt: string;\n  relatedEntityId: string | null;\n  relatedEntityType: string | null;\n}\n\nexport type NotificationType =\n  | 'RoleUpgradeApproved'\n  | 'RoleUpgradeRejected'\n  | 'FreeTrialExpiring'\n  | 'FreeTrialExpired'\n  | 'SubscriptionPaymentSucceeded'\n  | 'SubscriptionPaymentFailed'\n  | 'System'\n  | 'Event';\n\nexport interface NotificationTypeConfig {\n  icon: string;\n  color: string;\n  bgColor: string;\n}\n\nexport const notificationTypeConfig: Record<NotificationType, NotificationTypeConfig> = {\n  RoleUpgradeApproved: {\n    icon: '‚úì',\n    color: 'text-green-600',\n    bgColor: 'bg-green-50',\n  },\n  RoleUpgradeRejected: {\n    icon: '‚úó',\n    color: 'text-red-600',\n    bgColor: 'bg-red-50',\n  },\n  FreeTrialExpiring: {\n    icon: '‚è∞',\n    color: 'text-orange-600',\n    bgColor: 'bg-orange-50',\n  },\n  FreeTrialExpired: {\n    icon: '‚è±',\n    color: 'text-red-600',\n    bgColor: 'bg-red-50',\n  },\n  SubscriptionPaymentSucceeded: {\n    icon: '‚úì',\n    color: 'text-green-600',\n    bgColor: 'bg-green-50',\n  },\n  SubscriptionPaymentFailed: {\n    icon: '!',\n    color: 'text-red-600',\n    bgColor: 'bg-red-50',\n  },\n  System: {\n    icon: '‚Ñπ',\n    color: 'text-blue-600',\n    bgColor: 'bg-blue-50',\n  },\n  Event: {\n    icon: 'üìÖ',\n    color: 'text-purple-600',\n    bgColor: 'bg-purple-50',\n  },\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AA8BM,MAAM,yBAA2E;IACtF,qBAAqB;QACnB,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,qBAAqB;QACnB,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,mBAAmB;QACjB,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,kBAAkB;QAChB,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,8BAA8B;QAC5B,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,2BAA2B;QACzB,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,QAAQ;QACN,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA,OAAO;QACL,MAAM;QACN,OAAO;QACP,SAAS;IACX;AACF","debugId":null}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/repositories/notifications.repository.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\nimport type { NotificationDto } from '../types/notifications.types';\n\n/**\n * NotificationsRepository\n * Handles all notification-related API calls\n * Phase 6A.6: Notification System\n */\nexport class NotificationsRepository {\n  private readonly basePath = '/notifications';\n\n  /**\n   * Get unread notifications for the current user\n   */\n  async getUnreadNotifications(): Promise<NotificationDto[]> {\n    const response = await apiClient.get<NotificationDto[]>(\n      `${this.basePath}/unread`\n    );\n    return response;\n  }\n\n  /**\n   * Mark a notification as read\n   */\n  async markAsRead(notificationId: string): Promise<void> {\n    await apiClient.post(`${this.basePath}/${notificationId}/read`);\n  }\n\n  /**\n   * Mark all notifications as read\n   */\n  async markAllAsRead(): Promise<void> {\n    await apiClient.post(`${this.basePath}/read-all`);\n  }\n}\n\n// Export singleton instance\nexport const notificationsRepository = new NotificationsRepository();\n"],"names":[],"mappings":";;;;;;AAAA;;AAQO,MAAM;IACM,WAAW,iBAAiB;IAE7C;;GAEC,GACD,MAAM,yBAAqD;QACzD,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;QAE3B,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,WAAW,cAAsB,EAAiB;QACtD,MAAM,oKAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,eAAe,KAAK,CAAC;IAChE;IAEA;;GAEC,GACD,MAAM,gBAA+B;QACnC,MAAM,oKAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;IAClD;AACF;AAGO,MAAM,0BAA0B,IAAI","debugId":null}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/hooks/useNotifications.ts"],"sourcesContent":["/**\n * Notifications React Query Hooks\n * Phase 6A.6: Notification System\n *\n * Provides React Query hooks for Notifications API integration\n * Implements caching, optimistic updates, and proper error handling\n *\n * @requires @tanstack/react-query\n * @requires notificationsRepository from infrastructure/repositories/notifications.repository\n * @requires Notification types from infrastructure/api/types/notifications.types\n */\n\nimport {\n  useQuery,\n  useMutation,\n  useQueryClient,\n  UseQueryOptions,\n} from '@tanstack/react-query';\n\nimport { notificationsRepository } from '@/infrastructure/api/repositories/notifications.repository';\nimport type { NotificationDto } from '@/infrastructure/api/types/notifications.types';\nimport { ApiError } from '@/infrastructure/api/client/api-errors';\n\n/**\n * Query Keys for Notifications\n * Centralized query key management for cache invalidation\n */\nexport const notificationKeys = {\n  all: ['notifications'] as const,\n  unread: () => [...notificationKeys.all, 'unread'] as const,\n};\n\n/**\n * useUnreadNotifications Hook\n *\n * Fetches unread notifications for the current user\n *\n * Features:\n * - Automatic caching with 1-minute stale time\n * - Refetch on window focus for real-time updates\n * - Proper error handling with ApiError types\n * - Auto-refetch every 30 seconds for notification updates\n *\n * @param options - Additional React Query options\n *\n * @example\n * ```tsx\n * const { data: notifications, isLoading, error } = useUnreadNotifications();\n * ```\n */\nexport function useUnreadNotifications(\n  options?: Omit<UseQueryOptions<NotificationDto[], ApiError>, 'queryKey' | 'queryFn'>\n) {\n  return useQuery({\n    queryKey: notificationKeys.unread(),\n    queryFn: async () => {\n      const result = await notificationsRepository.getUnreadNotifications();\n      return result;\n    },\n    staleTime: 1 * 60 * 1000, // 1 minute\n    refetchInterval: 30 * 1000, // Refetch every 30 seconds\n    refetchOnWindowFocus: true,\n    retry: 1, // Only retry once\n    ...options,\n  });\n}\n\n/**\n * useMarkNotificationAsRead Hook\n *\n * Mutation hook for marking a notification as read\n *\n * Features:\n * - Optimistic updates\n * - Automatic cache invalidation after success\n * - Proper error handling\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const markAsRead = useMarkNotificationAsRead();\n *\n * await markAsRead.mutateAsync(notificationId);\n * ```\n */\nexport function useMarkNotificationAsRead() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (notificationId: string) =>\n      notificationsRepository.markAsRead(notificationId),\n    onMutate: async (notificationId) => {\n      // Cancel outgoing refetches\n      await queryClient.cancelQueries({ queryKey: notificationKeys.unread() });\n\n      // Snapshot previous value for rollback\n      const previousNotifications = queryClient.getQueryData<NotificationDto[]>(\n        notificationKeys.unread()\n      );\n\n      // Optimistically remove the notification from unread list\n      queryClient.setQueryData<NotificationDto[]>(\n        notificationKeys.unread(),\n        (old) => old?.filter((n) => n.id !== notificationId) || []\n      );\n\n      return { previousNotifications };\n    },\n    onError: (_err, _variables, context) => {\n      // Rollback on error\n      if (context?.previousNotifications) {\n        queryClient.setQueryData(\n          notificationKeys.unread(),\n          context.previousNotifications\n        );\n      }\n    },\n    onSuccess: () => {\n      // Invalidate to ensure consistency with server\n      queryClient.invalidateQueries({ queryKey: notificationKeys.unread() });\n    },\n  });\n}\n\n/**\n * useMarkAllNotificationsAsRead Hook\n *\n * Mutation hook for marking all notifications as read\n *\n * Features:\n * - Optimistic updates (clears all notifications)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const markAllAsRead = useMarkAllNotificationsAsRead();\n *\n * await markAllAsRead.mutateAsync();\n * ```\n */\nexport function useMarkAllNotificationsAsRead() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: () => notificationsRepository.markAllAsRead(),\n    onMutate: async () => {\n      // Cancel outgoing refetches\n      await queryClient.cancelQueries({ queryKey: notificationKeys.unread() });\n\n      // Snapshot previous value for rollback\n      const previousNotifications = queryClient.getQueryData<NotificationDto[]>(\n        notificationKeys.unread()\n      );\n\n      // Optimistically clear all notifications\n      queryClient.setQueryData<NotificationDto[]>(notificationKeys.unread(), []);\n\n      return { previousNotifications };\n    },\n    onError: (_err, _variables, context) => {\n      // Rollback on error\n      if (context?.previousNotifications) {\n        queryClient.setQueryData(\n          notificationKeys.unread(),\n          context.previousNotifications\n        );\n      }\n    },\n    onSuccess: () => {\n      // Invalidate to ensure consistency with server\n      queryClient.invalidateQueries({ queryKey: notificationKeys.unread() });\n    },\n  });\n}\n\n/**\n * useInvalidateNotifications Hook\n *\n * Utility hook to manually invalidate notification queries\n * Useful for force refresh scenarios\n *\n * @example\n * ```tsx\n * const invalidateNotifications = useInvalidateNotifications();\n *\n * <button onClick={() => invalidateNotifications.all()}>\n *   Refresh Notifications\n * </button>\n * ```\n */\nexport function useInvalidateNotifications() {\n  const queryClient = useQueryClient();\n\n  return {\n    all: () => queryClient.invalidateQueries({ queryKey: notificationKeys.all }),\n    unread: () => queryClient.invalidateQueries({ queryKey: notificationKeys.unread() }),\n  };\n}\n\n/**\n * Export all hooks\n */\nexport default {\n  useUnreadNotifications,\n  useMarkNotificationAsRead,\n  useMarkAllNotificationsAsRead,\n  useInvalidateNotifications,\n};\n"],"names":[],"mappings":"AAAA;;;;;;;;;;CAUC;;;;;;;;;;;;;;AAED;AAAA;AAAA;AAOA;;;AAQO,MAAM,mBAAmB;IAC9B,KAAK;QAAC;KAAgB;IACtB,QAAQ,IAAM;eAAI,iBAAiB,GAAG;YAAE;SAAS;AACnD;AAoBO,SAAS,uBACd,OAAoF;IAEpF,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,iBAAiB,MAAM;QACjC,SAAS;YACP,MAAM,SAAS,MAAM,sMAAuB,CAAC,sBAAsB;YACnE,OAAO;QACT;QACA,WAAW,IAAI,KAAK;QACpB,iBAAiB,KAAK;QACtB,sBAAsB;QACtB,OAAO;QACP,GAAG,OAAO;IACZ;AACF;AAoBO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,iBACX,sMAAuB,CAAC,UAAU,CAAC;QACrC,UAAU,OAAO;YACf,4BAA4B;YAC5B,MAAM,YAAY,aAAa,CAAC;gBAAE,UAAU,iBAAiB,MAAM;YAAG;YAEtE,uCAAuC;YACvC,MAAM,wBAAwB,YAAY,YAAY,CACpD,iBAAiB,MAAM;YAGzB,0DAA0D;YAC1D,YAAY,YAAY,CACtB,iBAAiB,MAAM,IACvB,CAAC,MAAQ,KAAK,OAAO,CAAC,IAAM,EAAE,EAAE,KAAK,mBAAmB,EAAE;YAG5D,OAAO;gBAAE;YAAsB;QACjC;QACA,SAAS,CAAC,MAAM,YAAY;YAC1B,oBAAoB;YACpB,IAAI,SAAS,uBAAuB;gBAClC,YAAY,YAAY,CACtB,iBAAiB,MAAM,IACvB,QAAQ,qBAAqB;YAEjC;QACF;QACA,WAAW;YACT,+CAA+C;YAC/C,YAAY,iBAAiB,CAAC;gBAAE,UAAU,iBAAiB,MAAM;YAAG;QACtE;IACF;AACF;AAmBO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,IAAM,sMAAuB,CAAC,aAAa;QACvD,UAAU;YACR,4BAA4B;YAC5B,MAAM,YAAY,aAAa,CAAC;gBAAE,UAAU,iBAAiB,MAAM;YAAG;YAEtE,uCAAuC;YACvC,MAAM,wBAAwB,YAAY,YAAY,CACpD,iBAAiB,MAAM;YAGzB,yCAAyC;YACzC,YAAY,YAAY,CAAoB,iBAAiB,MAAM,IAAI,EAAE;YAEzE,OAAO;gBAAE;YAAsB;QACjC;QACA,SAAS,CAAC,MAAM,YAAY;YAC1B,oBAAoB;YACpB,IAAI,SAAS,uBAAuB;gBAClC,YAAY,YAAY,CACtB,iBAAiB,MAAM,IACvB,QAAQ,qBAAqB;YAEjC;QACF;QACA,WAAW;YACT,+CAA+C;YAC/C,YAAY,iBAAiB,CAAC;gBAAE,UAAU,iBAAiB,MAAM;YAAG;QACtE;IACF;AACF;AAiBO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO;QACL,KAAK,IAAM,YAAY,iBAAiB,CAAC;gBAAE,UAAU,iBAAiB,GAAG;YAAC;QAC1E,QAAQ,IAAM,YAAY,iBAAiB,CAAC;gBAAE,UAAU,iBAAiB,MAAM;YAAG;IACpF;AACF;uCAKe;IACb;IACA;IACA;IACA;AACF","debugId":null}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/notifications/NotificationDropdown.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport Link from 'next/link';\nimport { cn } from '@/presentation/lib/utils';\nimport type {\n  NotificationDto,\n  NotificationType,\n} from '@/infrastructure/api/types/notifications.types';\nimport { notificationTypeConfig } from '@/infrastructure/api/types/notifications.types';\nimport {\n  useMarkNotificationAsRead,\n  useMarkAllNotificationsAsRead,\n} from '@/presentation/hooks/useNotifications';\n\nexport interface NotificationDropdownProps {\n  notifications: NotificationDto[];\n  isOpen: boolean;\n  onClose: () => void;\n  className?: string;\n}\n\n/**\n * NotificationDropdown Component\n * Phase 6A.6: Notification System\n *\n * Dropdown showing list of unread notifications\n *\n * Features:\n * - List of unread notifications with icons\n * - Click to mark individual notification as read\n * - \"Mark all as read\" button\n * - Link to full notifications inbox page\n * - Auto-close on outside click\n * - Accessible with keyboard navigation\n * - Sri Lankan flag colors for styling\n *\n * @example\n * ```tsx\n * <NotificationDropdown\n *   notifications={unreadNotifications}\n *   isOpen={dropdownOpen}\n *   onClose={() => setDropdownOpen(false)}\n * />\n * ```\n */\nexport function NotificationDropdown({\n  notifications,\n  isOpen,\n  onClose,\n  className = '',\n}: NotificationDropdownProps) {\n  const dropdownRef = React.useRef<HTMLDivElement>(null);\n  const markAsRead = useMarkNotificationAsRead();\n  const markAllAsRead = useMarkAllNotificationsAsRead();\n\n  // Close dropdown on outside click\n  React.useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen, onClose]);\n\n  // Close on Escape key\n  React.useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  const handleNotificationClick = async (notificationId: string) => {\n    try {\n      await markAsRead.mutateAsync(notificationId);\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n\n  const handleMarkAllAsRead = async () => {\n    try {\n      await markAllAsRead.mutateAsync();\n      onClose();\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n    }\n  };\n\n  const formatTimeAgo = (dateString: string): string => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMins / 60);\n    const diffDays = Math.floor(diffHours / 24);\n\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    if (diffDays < 7) return `${diffDays}d ago`;\n    return date.toLocaleDateString();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      ref={dropdownRef}\n      className={cn(\n        'absolute right-0 mt-2 w-80 sm:w-96',\n        'bg-white rounded-lg shadow-lg',\n        'border border-gray-200',\n        'z-50',\n        'animate-[dropdown-fade-in_0.2s_ease-out]',\n        className\n      )}\n      role=\"menu\"\n      aria-label=\"Notifications menu\"\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200\">\n        <h3 className=\"text-lg font-semibold text-[#8B1538]\">Notifications</h3>\n        {notifications.length > 0 && (\n          <button\n            type=\"button\"\n            className={cn(\n              'text-sm text-[#FF7900] font-medium',\n              'hover:text-[#E66D00] transition-colors',\n              'focus:outline-none focus:underline'\n            )}\n            onClick={handleMarkAllAsRead}\n            disabled={markAllAsRead.isPending}\n          >\n            {markAllAsRead.isPending ? 'Marking...' : 'Mark all as read'}\n          </button>\n        )}\n      </div>\n\n      {/* Notifications List */}\n      <div className=\"max-h-96 overflow-y-auto\">\n        {notifications.length === 0 ? (\n          <div className=\"px-4 py-8 text-center text-gray-500\">\n            <svg\n              className=\"w-12 h-12 mx-auto mb-3 text-gray-400\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\n              />\n            </svg>\n            <p className=\"font-medium\">No new notifications</p>\n            <p className=\"text-sm mt-1\">You're all caught up!</p>\n          </div>\n        ) : (\n          <ul className=\"divide-y divide-gray-100\">\n            {notifications.map((notification) => {\n              const config = notificationTypeConfig[notification.type as NotificationType];\n              return (\n                <li key={notification.id}>\n                  <button\n                    type=\"button\"\n                    className={cn(\n                      'w-full px-4 py-3 text-left',\n                      'hover:bg-gray-50 transition-colors',\n                      'focus:outline-none focus:bg-gray-50'\n                    )}\n                    onClick={() => handleNotificationClick(notification.id)}\n                    disabled={markAsRead.isPending}\n                  >\n                    <div className=\"flex gap-3\">\n                      {/* Icon */}\n                      <div\n                        className={cn(\n                          'flex-shrink-0 w-10 h-10 rounded-full',\n                          'flex items-center justify-center text-lg',\n                          config.bgColor,\n                          config.color\n                        )}\n                      >\n                        {config.icon}\n                      </div>\n\n                      {/* Content */}\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-semibold text-[#333] truncate\">\n                          {notification.title}\n                        </p>\n                        <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\n                          {notification.message}\n                        </p>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {formatTimeAgo(notification.createdAt)}\n                        </p>\n                      </div>\n\n                      {/* Unread indicator */}\n                      <div className=\"flex-shrink-0\">\n                        <span\n                          className=\"inline-block w-2 h-2 rounded-full bg-[#FF7900]\"\n                          aria-label=\"Unread\"\n                        />\n                      </div>\n                    </div>\n                  </button>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n      </div>\n\n      {/* Footer */}\n      {notifications.length > 0 && (\n        <div className=\"px-4 py-3 border-t border-gray-200\">\n          <Link\n            href=\"/notifications\"\n            className={cn(\n              'block w-full text-center text-sm font-medium',\n              'text-[#8B1538] hover:text-[#70112D]',\n              'py-2 rounded-md hover:bg-gray-50',\n              'transition-colors'\n            )}\n            onClick={onClose}\n          >\n            View all notifications\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Add this animation to your global CSS or tailwind.config.ts:\n *\n * @keyframes dropdown-fade-in {\n *   from {\n *     opacity: 0;\n *     transform: translateY(-10px);\n *   }\n *   to {\n *     opacity: 1;\n *     transform: translateY(0);\n *   }\n * }\n */\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 882, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/layout/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { useRouter } from 'next/navigation';\r\nimport { OfficialLogo } from '@/presentation/components/atoms/OfficialLogo';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { NotificationBell } from '@/presentation/components/features/notifications/NotificationBell';\r\nimport { NotificationDropdown } from '@/presentation/components/features/notifications/NotificationDropdown';\r\nimport { useUnreadNotifications } from '@/presentation/hooks/useNotifications';\r\nimport { User, LogOut, ChevronDown, Search, Menu, X } from 'lucide-react';\r\n\r\nexport interface HeaderProps {\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Header Component\r\n * Reusable navigation header for LankaConnect application\r\n * Features: Sticky navigation, authentication state, responsive design\r\n * Styling: Sri Lankan flag colors (Maroon #8B1538, Saffron #FF7900)\r\n * Phase 6A.8: Added user dropdown menu with Profile and Logout options\r\n * Phase 6A.4: Fixed mobile responsive navigation with hamburger menu\r\n */\r\nexport function Header({ className = '' }: HeaderProps) {\r\n  const { user, isAuthenticated, clearAuth } = useAuthStore();\r\n  const router = useRouter();\r\n  const [notificationDropdownOpen, setNotificationDropdownOpen] = React.useState(false);\r\n  const [userMenuOpen, setUserMenuOpen] = React.useState(false);\r\n  const [searchOpen, setSearchOpen] = React.useState(false);\r\n  const [mobileMenuOpen, setMobileMenuOpen] = React.useState(false);\r\n  const userMenuRef = React.useRef<HTMLDivElement>(null);\r\n  const searchRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  // Fetch unread notifications only when authenticated\r\n  const { data: unreadNotifications = [] } = useUnreadNotifications({\r\n    enabled: isAuthenticated,\r\n  });\r\n\r\n  // Close dropdowns when clicking outside\r\n  React.useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target as Node)) {\r\n        setUserMenuOpen(false);\r\n      }\r\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\r\n        setSearchOpen(false);\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  /**\r\n   * Helper to get user initials from fullName\r\n   * Returns first letter of first name and last name, or first two letters if single name\r\n   */\r\n  const getUserInitials = (fullName: string): string => {\r\n    const names = fullName.trim().split(' ');\r\n    if (names.length === 1) {\r\n      return names[0].substring(0, 2).toUpperCase();\r\n    }\r\n    return (names[0][0] + names[names.length - 1][0]).toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <header\r\n      className={`sticky top-0 z-50 bg-white shadow-[0_2px_10px_rgba(0,0,0,0.08)] ${className}`}\r\n    >\r\n      <nav className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex items-center justify-between py-4\">\r\n          {/* Official LankaConnect Logo with Subtitle */}\r\n          <OfficialLogo size=\"md\" />\r\n\r\n          {/* Mobile Hamburger Menu Button */}\r\n          <button\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n            className=\"lg:hidden p-2 text-[#333] hover:text-[#FF7900] transition-colors\"\r\n            aria-label=\"Toggle menu\"\r\n          >\r\n            {mobileMenuOpen ? (\r\n              <X className=\"w-6 h-6\" />\r\n            ) : (\r\n              <Menu className=\"w-6 h-6\" />\r\n            )}\r\n          </button>\r\n\r\n          {/* Navigation Links - Desktop */}\r\n          <nav className=\"hidden lg:flex items-center gap-6\">\r\n            <Link\r\n              href=\"/events\"\r\n              className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\"\r\n            >\r\n              Events\r\n            </Link>\r\n            <Link\r\n              href=\"/forums\"\r\n              className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\"\r\n            >\r\n              Forums\r\n            </Link>\r\n            <Link\r\n              href=\"/business\"\r\n              className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\"\r\n            >\r\n              Business\r\n            </Link>\r\n            <Link\r\n              href=\"/marketplace\"\r\n              className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\"\r\n            >\r\n              Marketplace\r\n            </Link>\r\n            {isAuthenticated && (\r\n              <Link\r\n                href=\"/dashboard\"\r\n                className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors\"\r\n              >\r\n                Dashboard\r\n              </Link>\r\n            )}\r\n\r\n            {/* Search */}\r\n            <div className=\"relative\" ref={searchRef}>\r\n              <button\r\n                onClick={() => setSearchOpen(!searchOpen)}\r\n                className=\"p-2 text-[#333] hover:text-[#FF7900] transition-colors\"\r\n                aria-label=\"Search\"\r\n              >\r\n                <Search className=\"w-5 h-5\" />\r\n              </button>\r\n\r\n              {searchOpen && (\r\n                <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-50\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search events, forums, businesses...\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7900] focus:border-transparent\"\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </nav>\r\n\r\n          {/* Auth Section */}\r\n          <div className=\"flex items-center gap-4\">\r\n            {isAuthenticated && user ? (\r\n              // Authenticated: Show notification bell and user avatar with dropdown\r\n              <div className=\"flex items-center gap-3\">\r\n                {/* Notification Bell */}\r\n                <div className=\"relative\">\r\n                  <NotificationBell\r\n                    unreadCount={unreadNotifications.length}\r\n                    onClick={() => setNotificationDropdownOpen(!notificationDropdownOpen)}\r\n                  />\r\n                  <NotificationDropdown\r\n                    notifications={unreadNotifications}\r\n                    isOpen={notificationDropdownOpen}\r\n                    onClose={() => setNotificationDropdownOpen(false)}\r\n                  />\r\n                </div>\r\n\r\n                {/* User Menu Dropdown */}\r\n                <div className=\"relative\" ref={userMenuRef}>\r\n                  <div\r\n                    className=\"flex items-center gap-2 cursor-pointer hover:opacity-90 transition-opacity\"\r\n                    onClick={() => setUserMenuOpen(!userMenuOpen)}\r\n                    role=\"button\"\r\n                    tabIndex={0}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter' || e.key === ' ') {\r\n                        setUserMenuOpen(!userMenuOpen);\r\n                      }\r\n                    }}\r\n                    title={user.fullName}\r\n                  >\r\n                    {/* User Avatar */}\r\n                    {user.profilePhotoUrl ? (\r\n                      <Image\r\n                        src={user.profilePhotoUrl}\r\n                        alt={user.fullName}\r\n                        width={40}\r\n                        height={40}\r\n                        className=\"w-10 h-10 rounded-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <div\r\n                        className=\"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold\"\r\n                        style={{\r\n                          background: 'linear-gradient(135deg, #FF7900, #8B1538)',\r\n                        }}\r\n                      >\r\n                        {getUserInitials(user.fullName)}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* User Name */}\r\n                    <span className=\"text-sm font-medium text-[#333] hidden lg:inline\">\r\n                      {user.fullName}\r\n                    </span>\r\n\r\n                    {/* Dropdown Indicator Arrow */}\r\n                    <ChevronDown\r\n                      className={`w-4 h-4 text-[#666] transition-transform duration-200 hidden lg:block ${\r\n                        userMenuOpen ? 'transform rotate-180' : ''\r\n                      }`}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Dropdown Menu */}\r\n                  {userMenuOpen && (\r\n                    <div\r\n                      className=\"absolute right-0 mt-2 w-48 rounded-lg shadow-lg overflow-hidden z-50\"\r\n                      style={{\r\n                        background: 'white',\r\n                        border: '1px solid #e2e8f0'\r\n                      }}\r\n                    >\r\n                      {/* User Info Section */}\r\n                      <div className=\"px-4 py-3 border-b border-gray-200\" style={{ background: '#f7fafc' }}>\r\n                        <p className=\"text-sm font-medium text-[#333]\">{user.fullName}</p>\r\n                        <p className=\"text-xs text-gray-500\">{user.email}</p>\r\n                      </div>\r\n\r\n                      {/* Profile Button */}\r\n                      <button\r\n                        onClick={() => {\r\n                          setUserMenuOpen(false);\r\n                          router.push('/profile');\r\n                        }}\r\n                        className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left\"\r\n                      >\r\n                        <User className=\"w-4 h-4\" style={{ color: '#FF7900' }} />\r\n                        <span style={{ color: '#2d3748' }}>Profile</span>\r\n                      </button>\r\n\r\n                      <div style={{ borderTop: '1px solid #e2e8f0' }}></div>\r\n\r\n                      {/* Logout Button */}\r\n                      <button\r\n                        onClick={async () => {\r\n                          setUserMenuOpen(false);\r\n                          try {\r\n                            // Call logout endpoint if needed\r\n                            const { authRepository } = await import('@/infrastructure/api/repositories/auth.repository');\r\n                            await authRepository.logout();\r\n                          } catch (error) {\r\n                            // Silently handle logout errors\r\n                          } finally {\r\n                            clearAuth();\r\n                            router.push('/login');\r\n                          }\r\n                        }}\r\n                        className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left\"\r\n                      >\r\n                        <LogOut className=\"w-4 h-4\" style={{ color: '#8B1538' }} />\r\n                        <span style={{ color: '#2d3748' }}>Logout</span>\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              // Not authenticated: Show Login and Sign Up buttons\r\n              <>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"default\"\r\n                  className=\"border-[#8B1538] text-[#8B1538] hover:bg-[#8B1538] hover:text-white font-semibold transition-all\"\r\n                  onClick={() => router.push('/login')}\r\n                >\r\n                  Login\r\n                </Button>\r\n                <Button\r\n                  variant=\"default\"\r\n                  size=\"default\"\r\n                  className=\"bg-[#FF7900] hover:bg-[#E66D00] text-white font-semibold transition-all\"\r\n                  onClick={() => router.push('/register')}\r\n                >\r\n                  Sign Up\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Menu - Dropdown */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"lg:hidden border-t border-gray-200 py-4\">\r\n            <div className=\"flex flex-col gap-4\">\r\n              {/* Mobile Navigation Links */}\r\n              <Link\r\n                href=\"/events\"\r\n                className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors px-4 py-2 hover:bg-gray-50 rounded-lg\"\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                Events\r\n              </Link>\r\n              <Link\r\n                href=\"/forums\"\r\n                className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors px-4 py-2 hover:bg-gray-50 rounded-lg\"\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                Forums\r\n              </Link>\r\n              <Link\r\n                href=\"/business\"\r\n                className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors px-4 py-2 hover:bg-gray-50 rounded-lg\"\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                Business\r\n              </Link>\r\n              <Link\r\n                href=\"/marketplace\"\r\n                className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors px-4 py-2 hover:bg-gray-50 rounded-lg\"\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                Marketplace\r\n              </Link>\r\n              {isAuthenticated && (\r\n                <Link\r\n                  href=\"/dashboard\"\r\n                  className=\"text-[#333] hover:text-[#FF7900] font-medium transition-colors px-4 py-2 hover:bg-gray-50 rounded-lg\"\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  Dashboard\r\n                </Link>\r\n              )}\r\n\r\n              {/* Mobile Search */}\r\n              <div className=\"px-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search events, forums, businesses...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7900] focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              {/* Mobile Auth Buttons (if not authenticated) */}\r\n              {!isAuthenticated && (\r\n                <div className=\"flex flex-col gap-2 px-4 pt-4 border-t border-gray-200\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"default\"\r\n                    className=\"w-full border-[#8B1538] text-[#8B1538] hover:bg-[#8B1538] hover:text-white font-semibold transition-all\"\r\n                    onClick={() => {\r\n                      setMobileMenuOpen(false);\r\n                      router.push('/login');\r\n                    }}\r\n                  >\r\n                    Login\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"default\"\r\n                    size=\"default\"\r\n                    className=\"w-full bg-[#FF7900] hover:bg-[#E66D00] text-white font-semibold transition-all\"\r\n                    onClick={() => {\r\n                      setMobileMenuOpen(false);\r\n                      router.push('/register');\r\n                    }}\r\n                  >\r\n                    Sign Up\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/domain/constants/metroAreas.constants.ts"],"sourcesContent":["/**\r\n * Metro Areas Constants - Phase 5B.3\r\n *\r\n * Generated from backend MetroAreaSeeder.cs with GUID-based IDs.\r\n * Includes all 50 US states with state-level areas plus 100+ major metro areas.\r\n *\r\n * Data Structure:\r\n * - 50 state-level entries (All [StateName]) - used for broad geographic coverage\r\n * - 100+ major US metro areas grouped by state\r\n * - Each metro uses backend GUID as ID for consistency with API\r\n */\r\n\r\nimport { MetroArea } from '../models/MetroArea';\r\n\r\n/**\r\n * US State Information\r\n */\r\nexport interface StateInfo {\r\n  readonly code: string;\r\n  readonly name: string;\r\n}\r\n\r\nexport const US_STATES: readonly StateInfo[] = [\r\n  { code: 'AL', name: 'Alabama' },\r\n  { code: 'AK', name: 'Alaska' },\r\n  { code: 'AZ', name: 'Arizona' },\r\n  { code: 'AR', name: 'Arkansas' },\r\n  { code: 'CA', name: 'California' },\r\n  { code: 'CO', name: 'Colorado' },\r\n  { code: 'CT', name: 'Connecticut' },\r\n  { code: 'DE', name: 'Delaware' },\r\n  { code: 'FL', name: 'Florida' },\r\n  { code: 'GA', name: 'Georgia' },\r\n  { code: 'HI', name: 'Hawaii' },\r\n  { code: 'ID', name: 'Idaho' },\r\n  { code: 'IL', name: 'Illinois' },\r\n  { code: 'IN', name: 'Indiana' },\r\n  { code: 'IA', name: 'Iowa' },\r\n  { code: 'KS', name: 'Kansas' },\r\n  { code: 'KY', name: 'Kentucky' },\r\n  { code: 'LA', name: 'Louisiana' },\r\n  { code: 'ME', name: 'Maine' },\r\n  { code: 'MD', name: 'Maryland' },\r\n  { code: 'MA', name: 'Massachusetts' },\r\n  { code: 'MI', name: 'Michigan' },\r\n  { code: 'MN', name: 'Minnesota' },\r\n  { code: 'MS', name: 'Mississippi' },\r\n  { code: 'MO', name: 'Missouri' },\r\n  { code: 'MT', name: 'Montana' },\r\n  { code: 'NE', name: 'Nebraska' },\r\n  { code: 'NV', name: 'Nevada' },\r\n  { code: 'NH', name: 'New Hampshire' },\r\n  { code: 'NJ', name: 'New Jersey' },\r\n  { code: 'NM', name: 'New Mexico' },\r\n  { code: 'NY', name: 'New York' },\r\n  { code: 'NC', name: 'North Carolina' },\r\n  { code: 'ND', name: 'North Dakota' },\r\n  { code: 'OH', name: 'Ohio' },\r\n  { code: 'OK', name: 'Oklahoma' },\r\n  { code: 'OR', name: 'Oregon' },\r\n  { code: 'PA', name: 'Pennsylvania' },\r\n  { code: 'RI', name: 'Rhode Island' },\r\n  { code: 'SC', name: 'South Carolina' },\r\n  { code: 'SD', name: 'South Dakota' },\r\n  { code: 'TN', name: 'Tennessee' },\r\n  { code: 'TX', name: 'Texas' },\r\n  { code: 'UT', name: 'Utah' },\r\n  { code: 'VT', name: 'Vermont' },\r\n  { code: 'VA', name: 'Virginia' },\r\n  { code: 'WA', name: 'Washington' },\r\n  { code: 'WV', name: 'West Virginia' },\r\n  { code: 'WI', name: 'Wisconsin' },\r\n  { code: 'WY', name: 'Wyoming' },\r\n] as const;\r\n\r\n/**\r\n * All Metro Areas - Organized by State\r\n * GUIDs match backend seeder for consistency\r\n */\r\nexport const ALL_METRO_AREAS: readonly MetroArea[] = [\r\n  // =====================\r\n  // ALABAMA\r\n  // =====================\r\n  {\r\n    id: '01000000-0000-0000-0000-000000000001',\r\n    name: 'All Alabama',\r\n    state: 'AL',\r\n    cities: ['Statewide'],\r\n    centerLat: 32.8067,\r\n    centerLng: -86.7113,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '01111111-1111-1111-1111-111111111001',\r\n    name: 'Birmingham',\r\n    state: 'AL',\r\n    cities: ['Birmingham', 'Hoover', 'Vestavia Hills', 'Alabaster', 'Bessemer'],\r\n    centerLat: 33.5186,\r\n    centerLng: -86.8104,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '01111111-1111-1111-1111-111111111002',\r\n    name: 'Montgomery',\r\n    state: 'AL',\r\n    cities: ['Montgomery', 'Prattville', 'Millbrook'],\r\n    centerLat: 32.3792,\r\n    centerLng: -86.3077,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '01111111-1111-1111-1111-111111111003',\r\n    name: 'Mobile',\r\n    state: 'AL',\r\n    cities: ['Mobile', 'Prichard', 'Saraland', 'Chickasaw'],\r\n    centerLat: 30.6954,\r\n    centerLng: -88.0399,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // ALASKA\r\n  // =====================\r\n  {\r\n    id: '02000000-0000-0000-0000-000000000001',\r\n    name: 'All Alaska',\r\n    state: 'AK',\r\n    cities: ['Statewide'],\r\n    centerLat: 64.0685,\r\n    centerLng: -152.2782,\r\n    radiusMiles: 300,\r\n  },\r\n  {\r\n    id: '02111111-1111-1111-1111-111111111001',\r\n    name: 'Anchorage',\r\n    state: 'AK',\r\n    cities: ['Anchorage', 'Eagle River', 'Girdwood'],\r\n    centerLat: 61.2181,\r\n    centerLng: -149.9003,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // ARIZONA\r\n  // =====================\r\n  {\r\n    id: '04000000-0000-0000-0000-000000000001',\r\n    name: 'All Arizona',\r\n    state: 'AZ',\r\n    cities: ['Statewide'],\r\n    centerLat: 33.7298,\r\n    centerLng: -111.4312,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '04111111-1111-1111-1111-111111111001',\r\n    name: 'Phoenix',\r\n    state: 'AZ',\r\n    cities: ['Phoenix', 'Scottsdale', 'Tempe', 'Glendale', 'Chandler', 'Gilbert', 'Peoria', 'Surprise'],\r\n    centerLat: 33.4484,\r\n    centerLng: -112.0742,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '04111111-1111-1111-1111-111111111002',\r\n    name: 'Tucson',\r\n    state: 'AZ',\r\n    cities: ['Tucson', 'Oro Valley', 'Marana', 'Sahuarita'],\r\n    centerLat: 32.2226,\r\n    centerLng: -110.9747,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '04111111-1111-1111-1111-111111111003',\r\n    name: 'Mesa',\r\n    state: 'AZ',\r\n    cities: ['Mesa', 'Apache Junction', 'Queen Creek'],\r\n    centerLat: 33.4152,\r\n    centerLng: -111.8317,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // ARKANSAS\r\n  // =====================\r\n  {\r\n    id: '05000000-0000-0000-0000-000000000001',\r\n    name: 'All Arkansas',\r\n    state: 'AR',\r\n    cities: ['Statewide'],\r\n    centerLat: 34.9697,\r\n    centerLng: -92.3731,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '05111111-1111-1111-1111-111111111001',\r\n    name: 'Little Rock',\r\n    state: 'AR',\r\n    cities: ['Little Rock', 'North Little Rock', 'Conway', 'Benton'],\r\n    centerLat: 34.7465,\r\n    centerLng: -92.2896,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '05111111-1111-1111-1111-111111111002',\r\n    name: 'Fayetteville',\r\n    state: 'AR',\r\n    cities: ['Fayetteville', 'Springdale', 'Rogers', 'Bentonville'],\r\n    centerLat: 36.0627,\r\n    centerLng: -94.1734,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // CALIFORNIA\r\n  // =====================\r\n  {\r\n    id: '06000000-0000-0000-0000-000000000001',\r\n    name: 'All California',\r\n    state: 'CA',\r\n    cities: ['Statewide'],\r\n    centerLat: 36.1162,\r\n    centerLng: -119.6816,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111001',\r\n    name: 'Los Angeles',\r\n    state: 'CA',\r\n    cities: ['Los Angeles', 'Long Beach', 'Anaheim', 'Santa Ana', 'Irvine', 'Glendale', 'Pasadena', 'Torrance', 'Burbank'],\r\n    centerLat: 34.0522,\r\n    centerLng: -118.2437,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111002',\r\n    name: 'San Francisco Bay Area',\r\n    state: 'CA',\r\n    cities: ['San Francisco', 'Oakland', 'San Jose', 'Berkeley', 'Fremont', 'Hayward', 'Sunnyvale', 'Santa Clara'],\r\n    centerLat: 37.7749,\r\n    centerLng: -122.4194,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111003',\r\n    name: 'San Diego',\r\n    state: 'CA',\r\n    cities: ['San Diego', 'Chula Vista', 'Oceanside', 'Carlsbad', 'El Cajon', 'Vista'],\r\n    centerLat: 32.7157,\r\n    centerLng: -117.1611,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111004',\r\n    name: 'Sacramento',\r\n    state: 'CA',\r\n    cities: ['Sacramento', 'Elk Grove', 'Roseville', 'Folsom', 'Davis'],\r\n    centerLat: 38.5816,\r\n    centerLng: -121.4944,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111005',\r\n    name: 'Fresno',\r\n    state: 'CA',\r\n    cities: ['Fresno', 'Clovis', 'Madera', 'Sanger'],\r\n    centerLat: 36.7469,\r\n    centerLng: -119.7726,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111006',\r\n    name: 'Inland Empire',\r\n    state: 'CA',\r\n    cities: ['Riverside', 'San Bernardino', 'Ontario', 'Rancho Cucamonga', 'Corona', 'Moreno Valley'],\r\n    centerLat: 33.9819,\r\n    centerLng: -117.2466,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // COLORADO\r\n  // =====================\r\n  {\r\n    id: '08000000-0000-0000-0000-000000000001',\r\n    name: 'All Colorado',\r\n    state: 'CO',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.0598,\r\n    centerLng: -105.3111,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '08111111-1111-1111-1111-111111111001',\r\n    name: 'Denver',\r\n    state: 'CO',\r\n    cities: ['Denver', 'Aurora', 'Lakewood', 'Thornton', 'Arvada', 'Westminster', 'Centennial'],\r\n    centerLat: 39.7392,\r\n    centerLng: -104.9903,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '08111111-1111-1111-1111-111111111002',\r\n    name: 'Colorado Springs',\r\n    state: 'CO',\r\n    cities: ['Colorado Springs', 'Fountain', 'Monument'],\r\n    centerLat: 38.8339,\r\n    centerLng: -104.8202,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // CONNECTICUT\r\n  // =====================\r\n  {\r\n    id: '09000000-0000-0000-0000-000000000001',\r\n    name: 'All Connecticut',\r\n    state: 'CT',\r\n    cities: ['Statewide'],\r\n    centerLat: 41.5978,\r\n    centerLng: -72.7554,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '09111111-1111-1111-1111-111111111001',\r\n    name: 'Hartford',\r\n    state: 'CT',\r\n    cities: ['Hartford', 'West Hartford', 'New Britain', 'Bristol'],\r\n    centerLat: 41.7658,\r\n    centerLng: -72.6734,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '09111111-1111-1111-1111-111111111002',\r\n    name: 'Bridgeport',\r\n    state: 'CT',\r\n    cities: ['Bridgeport', 'Stamford', 'Norwalk', 'Danbury'],\r\n    centerLat: 41.1834,\r\n    centerLng: -73.1959,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // DELAWARE\r\n  // =====================\r\n  {\r\n    id: '10000000-0000-0000-0000-000000000001',\r\n    name: 'All Delaware',\r\n    state: 'DE',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.3185,\r\n    centerLng: -75.5244,\r\n    radiusMiles: 120,\r\n  },\r\n  {\r\n    id: '10111111-1111-1111-1111-111111111001',\r\n    name: 'Wilmington',\r\n    state: 'DE',\r\n    cities: ['Wilmington', 'Newark', 'Dover'],\r\n    centerLat: 39.7391,\r\n    centerLng: -75.5244,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // FLORIDA\r\n  // =====================\r\n  {\r\n    id: '12000000-0000-0000-0000-000000000001',\r\n    name: 'All Florida',\r\n    state: 'FL',\r\n    cities: ['Statewide'],\r\n    centerLat: 27.6648,\r\n    centerLng: -81.5158,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111001',\r\n    name: 'Miami',\r\n    state: 'FL',\r\n    cities: ['Miami', 'Fort Lauderdale', 'Hollywood', 'Coral Gables', 'Hialeah', 'Pembroke Pines'],\r\n    centerLat: 25.7617,\r\n    centerLng: -80.1918,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111002',\r\n    name: 'Orlando',\r\n    state: 'FL',\r\n    cities: ['Orlando', 'Kissimmee', 'Winter Park', 'Sanford', 'Altamonte Springs'],\r\n    centerLat: 28.5421,\r\n    centerLng: -81.3723,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111003',\r\n    name: 'Tampa Bay',\r\n    state: 'FL',\r\n    cities: ['Tampa', 'St. Petersburg', 'Clearwater', 'Brandon', 'Largo'],\r\n    centerLat: 27.9506,\r\n    centerLng: -82.4572,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111004',\r\n    name: 'Jacksonville',\r\n    state: 'FL',\r\n    cities: ['Jacksonville', 'Jacksonville Beach', 'Orange Park'],\r\n    centerLat: 30.3322,\r\n    centerLng: -81.6557,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // GEORGIA\r\n  // =====================\r\n  {\r\n    id: '13000000-0000-0000-0000-000000000001',\r\n    name: 'All Georgia',\r\n    state: 'GA',\r\n    cities: ['Statewide'],\r\n    centerLat: 33.0406,\r\n    centerLng: -83.6431,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '13111111-1111-1111-1111-111111111001',\r\n    name: 'Atlanta',\r\n    state: 'GA',\r\n    cities: ['Atlanta', 'Sandy Springs', 'Roswell', 'Johns Creek', 'Marietta', 'Alpharetta', 'Smyrna'],\r\n    centerLat: 33.7490,\r\n    centerLng: -84.3880,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '13111111-1111-1111-1111-111111111002',\r\n    name: 'Savannah',\r\n    state: 'GA',\r\n    cities: ['Savannah', 'Pooler', 'Hinesville'],\r\n    centerLat: 32.0809,\r\n    centerLng: -81.0912,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // HAWAII\r\n  // =====================\r\n  {\r\n    id: '15000000-0000-0000-0000-000000000001',\r\n    name: 'All Hawaii',\r\n    state: 'HI',\r\n    cities: ['Statewide'],\r\n    centerLat: 21.0943,\r\n    centerLng: -157.4981,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '15111111-1111-1111-1111-111111111001',\r\n    name: 'Honolulu',\r\n    state: 'HI',\r\n    cities: ['Honolulu', 'Pearl City', 'Kailua', 'Waipahu'],\r\n    centerLat: 21.3099,\r\n    centerLng: -157.8581,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // IDAHO\r\n  // =====================\r\n  {\r\n    id: '16000000-0000-0000-0000-000000000001',\r\n    name: 'All Idaho',\r\n    state: 'ID',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.2405,\r\n    centerLng: -114.4787,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '16111111-1111-1111-1111-111111111001',\r\n    name: 'Boise',\r\n    state: 'ID',\r\n    cities: ['Boise', 'Meridian', 'Nampa', 'Caldwell'],\r\n    centerLat: 43.6150,\r\n    centerLng: -116.2023,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // ILLINOIS\r\n  // =====================\r\n  {\r\n    id: '17000000-0000-0000-0000-000000000001',\r\n    name: 'All Illinois',\r\n    state: 'IL',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.3495,\r\n    centerLng: -88.9861,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '17111111-1111-1111-1111-111111111001',\r\n    name: 'Chicago',\r\n    state: 'IL',\r\n    cities: ['Chicago', 'Aurora', 'Naperville', 'Joliet', 'Rockford', 'Elgin', 'Waukegan', 'Cicero', 'Schaumburg', 'Evanston'],\r\n    centerLat: 41.8781,\r\n    centerLng: -87.6298,\r\n    radiusMiles: 45,\r\n  },\r\n\r\n  // =====================\r\n  // INDIANA\r\n  // =====================\r\n  {\r\n    id: '18000000-0000-0000-0000-000000000001',\r\n    name: 'All Indiana',\r\n    state: 'IN',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.8494,\r\n    centerLng: -86.2604,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '18111111-1111-1111-1111-111111111001',\r\n    name: 'Indianapolis',\r\n    state: 'IN',\r\n    cities: ['Indianapolis', 'Carmel', 'Fishers', 'Noblesville', 'Greenwood', 'Lawrence'],\r\n    centerLat: 39.7684,\r\n    centerLng: -86.1581,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // IOWA\r\n  // =====================\r\n  {\r\n    id: '19000000-0000-0000-0000-000000000001',\r\n    name: 'All Iowa',\r\n    state: 'IA',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.0115,\r\n    centerLng: -93.2105,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '19111111-1111-1111-1111-111111111001',\r\n    name: 'Des Moines',\r\n    state: 'IA',\r\n    cities: ['Des Moines', 'West Des Moines', 'Ankeny', 'Urbandale'],\r\n    centerLat: 41.5868,\r\n    centerLng: -93.6250,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // KANSAS\r\n  // =====================\r\n  {\r\n    id: '20000000-0000-0000-0000-000000000001',\r\n    name: 'All Kansas',\r\n    state: 'KS',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.5266,\r\n    centerLng: -96.7265,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '20111111-1111-1111-1111-111111111001',\r\n    name: 'Kansas City',\r\n    state: 'KS',\r\n    cities: ['Kansas City', 'Overland Park', 'Olathe', 'Lawrence', 'Shawnee'],\r\n    centerLat: 39.0997,\r\n    centerLng: -94.5786,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // KENTUCKY\r\n  // =====================\r\n  {\r\n    id: '21000000-0000-0000-0000-000000000001',\r\n    name: 'All Kentucky',\r\n    state: 'KY',\r\n    cities: ['Statewide'],\r\n    centerLat: 37.6681,\r\n    centerLng: -84.6701,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '21111111-1111-1111-1111-111111111001',\r\n    name: 'Louisville',\r\n    state: 'KY',\r\n    cities: ['Louisville', 'Jeffersontown', 'Shively', 'St. Matthews'],\r\n    centerLat: 38.2527,\r\n    centerLng: -85.7585,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // LOUISIANA\r\n  // =====================\r\n  {\r\n    id: '22000000-0000-0000-0000-000000000001',\r\n    name: 'All Louisiana',\r\n    state: 'LA',\r\n    cities: ['Statewide'],\r\n    centerLat: 31.1695,\r\n    centerLng: -91.8749,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '22111111-1111-1111-1111-111111111001',\r\n    name: 'New Orleans',\r\n    state: 'LA',\r\n    cities: ['New Orleans', 'Metairie', 'Kenner', 'Baton Rouge'],\r\n    centerLat: 29.9511,\r\n    centerLng: -90.2623,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // MAINE\r\n  // =====================\r\n  {\r\n    id: '23000000-0000-0000-0000-000000000001',\r\n    name: 'All Maine',\r\n    state: 'ME',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.6939,\r\n    centerLng: -69.3819,\r\n    radiusMiles: 180,\r\n  },\r\n  {\r\n    id: '23111111-1111-1111-1111-111111111001',\r\n    name: 'Portland',\r\n    state: 'ME',\r\n    cities: ['Portland', 'South Portland', 'Westbrook', 'Biddeford'],\r\n    centerLat: 43.6591,\r\n    centerLng: -70.2568,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // MARYLAND\r\n  // =====================\r\n  {\r\n    id: '24000000-0000-0000-0000-000000000001',\r\n    name: 'All Maryland',\r\n    state: 'MD',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.0639,\r\n    centerLng: -76.8021,\r\n    radiusMiles: 180,\r\n  },\r\n  {\r\n    id: '24111111-1111-1111-1111-111111111001',\r\n    name: 'Baltimore',\r\n    state: 'MD',\r\n    cities: ['Baltimore', 'Columbia', 'Germantown', 'Silver Spring', 'Rockville'],\r\n    centerLat: 39.2904,\r\n    centerLng: -76.6122,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // MASSACHUSETTS\r\n  // =====================\r\n  {\r\n    id: '25000000-0000-0000-0000-000000000001',\r\n    name: 'All Massachusetts',\r\n    state: 'MA',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.2352,\r\n    centerLng: -71.0275,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '25111111-1111-1111-1111-111111111001',\r\n    name: 'Boston',\r\n    state: 'MA',\r\n    cities: ['Boston', 'Cambridge', 'Quincy', 'Lynn', 'Newton', 'Somerville', 'Waltham', 'Brookline'],\r\n    centerLat: 42.3601,\r\n    centerLng: -71.0589,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // MICHIGAN\r\n  // =====================\r\n  {\r\n    id: '26000000-0000-0000-0000-000000000001',\r\n    name: 'All Michigan',\r\n    state: 'MI',\r\n    cities: ['Statewide'],\r\n    centerLat: 43.3266,\r\n    centerLng: -84.5361,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '26111111-1111-1111-1111-111111111001',\r\n    name: 'Detroit',\r\n    state: 'MI',\r\n    cities: ['Detroit', 'Warren', 'Sterling Heights', 'Ann Arbor', 'Livonia', 'Dearborn', 'Westland'],\r\n    centerLat: 42.3314,\r\n    centerLng: -83.0458,\r\n    radiusMiles: 40,\r\n  },\r\n\r\n  // =====================\r\n  // MINNESOTA\r\n  // =====================\r\n  {\r\n    id: '27000000-0000-0000-0000-000000000001',\r\n    name: 'All Minnesota',\r\n    state: 'MN',\r\n    cities: ['Statewide'],\r\n    centerLat: 45.6945,\r\n    centerLng: -93.9196,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '27111111-1111-1111-1111-111111111001',\r\n    name: 'Minneapolis-St. Paul',\r\n    state: 'MN',\r\n    cities: ['Minneapolis', 'St. Paul', 'Rochester', 'Bloomington', 'Brooklyn Park', 'Plymouth'],\r\n    centerLat: 44.9537,\r\n    centerLng: -93.0900,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // MISSISSIPPI\r\n  // =====================\r\n  {\r\n    id: '28000000-0000-0000-0000-000000000001',\r\n    name: 'All Mississippi',\r\n    state: 'MS',\r\n    cities: ['Statewide'],\r\n    centerLat: 32.7416,\r\n    centerLng: -89.6787,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '28111111-1111-1111-1111-111111111001',\r\n    name: 'Jackson',\r\n    state: 'MS',\r\n    cities: ['Jackson', 'Gulfport', 'Biloxi', 'Hattiesburg'],\r\n    centerLat: 32.2988,\r\n    centerLng: -90.1848,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // MISSOURI\r\n  // =====================\r\n  {\r\n    id: '29000000-0000-0000-0000-000000000001',\r\n    name: 'All Missouri',\r\n    state: 'MO',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.4561,\r\n    centerLng: -92.2884,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '29111111-1111-1111-1111-111111111001',\r\n    name: 'St. Louis',\r\n    state: 'MO',\r\n    cities: ['St. Louis', 'St. Charles', \"O'Fallon\", 'St. Peters', 'Florissant'],\r\n    centerLat: 38.6270,\r\n    centerLng: -90.1994,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '29111111-1111-1111-1111-111111111002',\r\n    name: 'Kansas City',\r\n    state: 'MO',\r\n    cities: ['Kansas City', 'Independence', 'Lee\\'s Summit', 'Blue Springs'],\r\n    centerLat: 39.0997,\r\n    centerLng: -94.5786,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // MONTANA\r\n  // =====================\r\n  {\r\n    id: '30000000-0000-0000-0000-000000000001',\r\n    name: 'All Montana',\r\n    state: 'MT',\r\n    cities: ['Statewide'],\r\n    centerLat: 46.9219,\r\n    centerLng: -109.6333,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '30111111-1111-1111-1111-111111111001',\r\n    name: 'Billings',\r\n    state: 'MT',\r\n    cities: ['Billings', 'Missoula', 'Great Falls', 'Bozeman'],\r\n    centerLat: 45.7833,\r\n    centerLng: -103.8014,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NEBRASKA\r\n  // =====================\r\n  {\r\n    id: '31000000-0000-0000-0000-000000000001',\r\n    name: 'All Nebraska',\r\n    state: 'NE',\r\n    cities: ['Statewide'],\r\n    centerLat: 41.4925,\r\n    centerLng: -99.9018,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '31111111-1111-1111-1111-111111111001',\r\n    name: 'Omaha',\r\n    state: 'NE',\r\n    cities: ['Omaha', 'Lincoln', 'Bellevue', 'Grand Island'],\r\n    centerLat: 41.2565,\r\n    centerLng: -95.9345,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NEVADA\r\n  // =====================\r\n  {\r\n    id: '32000000-0000-0000-0000-000000000001',\r\n    name: 'All Nevada',\r\n    state: 'NV',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.8026,\r\n    centerLng: -117.0554,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '32111111-1111-1111-1111-111111111001',\r\n    name: 'Las Vegas',\r\n    state: 'NV',\r\n    cities: ['Las Vegas', 'Henderson', 'North Las Vegas', 'Paradise'],\r\n    centerLat: 36.1699,\r\n    centerLng: -115.1398,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '32111111-1111-1111-1111-111111111002',\r\n    name: 'Reno',\r\n    state: 'NV',\r\n    cities: ['Reno', 'Sparks', 'Carson City'],\r\n    centerLat: 39.5296,\r\n    centerLng: -119.8138,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NEW HAMPSHIRE\r\n  // =====================\r\n  {\r\n    id: '33000000-0000-0000-0000-000000000001',\r\n    name: 'All New Hampshire',\r\n    state: 'NH',\r\n    cities: ['Statewide'],\r\n    centerLat: 43.4525,\r\n    centerLng: -71.3102,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '33111111-1111-1111-1111-111111111001',\r\n    name: 'Manchester',\r\n    state: 'NH',\r\n    cities: ['Manchester', 'Nashua', 'Concord', 'Derry'],\r\n    centerLat: 42.9956,\r\n    centerLng: -71.4548,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NEW JERSEY\r\n  // =====================\r\n  {\r\n    id: '34000000-0000-0000-0000-000000000001',\r\n    name: 'All New Jersey',\r\n    state: 'NJ',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.2206,\r\n    centerLng: -74.7597,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '34111111-1111-1111-1111-111111111001',\r\n    name: 'Newark',\r\n    state: 'NJ',\r\n    cities: ['Newark', 'Jersey City', 'Paterson', 'Elizabeth', 'Edison', 'Trenton'],\r\n    centerLat: 40.7357,\r\n    centerLng: -74.1724,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NEW MEXICO\r\n  // =====================\r\n  {\r\n    id: '35000000-0000-0000-0000-000000000001',\r\n    name: 'All New Mexico',\r\n    state: 'NM',\r\n    cities: ['Statewide'],\r\n    centerLat: 34.8405,\r\n    centerLng: -106.2371,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '35111111-1111-1111-1111-111111111001',\r\n    name: 'Albuquerque',\r\n    state: 'NM',\r\n    cities: ['Albuquerque', 'Rio Rancho', 'Santa Fe', 'Las Cruces'],\r\n    centerLat: 35.0844,\r\n    centerLng: -106.6504,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NEW YORK\r\n  // =====================\r\n  {\r\n    id: '36000000-0000-0000-0000-000000000001',\r\n    name: 'All New York',\r\n    state: 'NY',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.1657,\r\n    centerLng: -74.9481,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '36111111-1111-1111-1111-111111111001',\r\n    name: 'New York City',\r\n    state: 'NY',\r\n    cities: ['Manhattan', 'Brooklyn', 'Queens', 'Bronx', 'Staten Island', 'Yonkers', 'White Plains'],\r\n    centerLat: 40.7128,\r\n    centerLng: -74.0060,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '36111111-1111-1111-1111-111111111002',\r\n    name: 'Buffalo',\r\n    state: 'NY',\r\n    cities: ['Buffalo', 'Cheektowaga', 'West Seneca', 'Amherst', 'Tonawanda', 'Niagara Falls'],\r\n    centerLat: 42.8864,\r\n    centerLng: -78.8784,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '36111111-1111-1111-1111-111111111003',\r\n    name: 'Albany',\r\n    state: 'NY',\r\n    cities: ['Albany', 'Schenectady', 'Troy', 'Saratoga Springs'],\r\n    centerLat: 42.6526,\r\n    centerLng: -73.7562,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NORTH CAROLINA\r\n  // =====================\r\n  {\r\n    id: '37000000-0000-0000-0000-000000000001',\r\n    name: 'All North Carolina',\r\n    state: 'NC',\r\n    cities: ['Statewide'],\r\n    centerLat: 35.6301,\r\n    centerLng: -79.8064,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '37111111-1111-1111-1111-111111111001',\r\n    name: 'Charlotte',\r\n    state: 'NC',\r\n    cities: ['Charlotte', 'Concord', 'Gastonia', 'Rock Hill'],\r\n    centerLat: 35.2271,\r\n    centerLng: -80.8431,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '37111111-1111-1111-1111-111111111002',\r\n    name: 'Raleigh',\r\n    state: 'NC',\r\n    cities: ['Raleigh', 'Durham', 'Chapel Hill', 'Cary', 'Apex'],\r\n    centerLat: 35.7796,\r\n    centerLng: -78.6382,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NORTH DAKOTA\r\n  // =====================\r\n  {\r\n    id: '38000000-0000-0000-0000-000000000001',\r\n    name: 'All North Dakota',\r\n    state: 'ND',\r\n    cities: ['Statewide'],\r\n    centerLat: 47.5289,\r\n    centerLng: -99.7840,\r\n    radiusMiles: 250,\r\n  },\r\n\r\n  // =====================\r\n  // OHIO\r\n  // =====================\r\n  {\r\n    id: '39000000-0000-0000-0000-000000000001',\r\n    name: 'All Ohio',\r\n    state: 'OH',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.4173,\r\n    centerLng: -82.9071,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111001',\r\n    name: 'Cleveland',\r\n    state: 'OH',\r\n    cities: ['Cleveland', 'Lakewood', 'Parma', 'Cleveland Heights', 'Shaker Heights', 'Euclid', 'Mentor', 'Strongsville', 'Brunswick', 'Westlake', 'Aurora'],\r\n    centerLat: 41.4993,\r\n    centerLng: -81.6944,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111002',\r\n    name: 'Columbus',\r\n    state: 'OH',\r\n    cities: ['Columbus', 'Dublin', 'Westerville', 'Grove City', 'Hilliard', 'Gahanna', 'Upper Arlington', 'Reynoldsburg', 'Pickerington', 'Worthington'],\r\n    centerLat: 39.9612,\r\n    centerLng: -82.9988,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111003',\r\n    name: 'Cincinnati',\r\n    state: 'OH',\r\n    cities: ['Cincinnati', 'Mason', 'Hamilton', 'Fairfield', 'Middletown', 'Lebanon', 'Blue Ash', 'Sharonville', 'West Chester', 'Forest Park'],\r\n    centerLat: 39.1031,\r\n    centerLng: -84.5120,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111004',\r\n    name: 'Toledo',\r\n    state: 'OH',\r\n    cities: ['Toledo', 'Sylvania', 'Perrysburg', 'Oregon', 'Maumee', 'Bowling Green', 'Northwood', 'Rossford'],\r\n    centerLat: 41.6528,\r\n    centerLng: -83.5379,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // OKLAHOMA\r\n  // =====================\r\n  {\r\n    id: '40000000-0000-0000-0000-000000000001',\r\n    name: 'All Oklahoma',\r\n    state: 'OK',\r\n    cities: ['Statewide'],\r\n    centerLat: 35.5653,\r\n    centerLng: -96.9289,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '40111111-1111-1111-1111-111111111001',\r\n    name: 'Oklahoma City',\r\n    state: 'OK',\r\n    cities: ['Oklahoma City', 'Tulsa', 'Norman', 'Broken Arrow', 'Edmond'],\r\n    centerLat: 35.4676,\r\n    centerLng: -97.5164,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // OREGON\r\n  // =====================\r\n  {\r\n    id: '41000000-0000-0000-0000-000000000001',\r\n    name: 'All Oregon',\r\n    state: 'OR',\r\n    cities: ['Statewide'],\r\n    centerLat: 43.8041,\r\n    centerLng: -120.5542,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '41111111-1111-1111-1111-111111111001',\r\n    name: 'Portland',\r\n    state: 'OR',\r\n    cities: ['Portland', 'Eugene', 'Salem', 'Gresham', 'Hillsboro', 'Beaverton'],\r\n    centerLat: 45.5152,\r\n    centerLng: -122.6784,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // PENNSYLVANIA\r\n  // =====================\r\n  {\r\n    id: '42000000-0000-0000-0000-000000000001',\r\n    name: 'All Pennsylvania',\r\n    state: 'PA',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.5908,\r\n    centerLng: -77.2098,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '42111111-1111-1111-1111-111111111001',\r\n    name: 'Philadelphia',\r\n    state: 'PA',\r\n    cities: ['Philadelphia', 'Reading', 'Allentown', 'Bethlehem', 'Lancaster'],\r\n    centerLat: 39.9526,\r\n    centerLng: -75.1652,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '42111111-1111-1111-1111-111111111002',\r\n    name: 'Pittsburgh',\r\n    state: 'PA',\r\n    cities: ['Pittsburgh', 'Bethel Park', 'Monroeville', 'Mt. Lebanon', 'Ross Township', 'Moon Township'],\r\n    centerLat: 40.4406,\r\n    centerLng: -79.9959,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // RHODE ISLAND\r\n  // =====================\r\n  {\r\n    id: '44000000-0000-0000-0000-000000000001',\r\n    name: 'All Rhode Island',\r\n    state: 'RI',\r\n    cities: ['Statewide'],\r\n    centerLat: 41.6809,\r\n    centerLng: -71.5118,\r\n    radiusMiles: 120,\r\n  },\r\n  {\r\n    id: '44111111-1111-1111-1111-111111111001',\r\n    name: 'Providence',\r\n    state: 'RI',\r\n    cities: ['Providence', 'Warwick', 'Cranston', 'Pawtucket'],\r\n    centerLat: 41.8240,\r\n    centerLng: -71.4128,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // SOUTH CAROLINA\r\n  // =====================\r\n  {\r\n    id: '45000000-0000-0000-0000-000000000001',\r\n    name: 'All South Carolina',\r\n    state: 'SC',\r\n    cities: ['Statewide'],\r\n    centerLat: 33.8361,\r\n    centerLng: -80.9066,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '45111111-1111-1111-1111-111111111001',\r\n    name: 'Charleston',\r\n    state: 'SC',\r\n    cities: ['Charleston', 'Columbia', 'North Charleston', 'Mount Pleasant'],\r\n    centerLat: 32.7765,\r\n    centerLng: -79.9711,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // SOUTH DAKOTA\r\n  // =====================\r\n  {\r\n    id: '46000000-0000-0000-0000-000000000001',\r\n    name: 'All South Dakota',\r\n    state: 'SD',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.2998,\r\n    centerLng: -99.4388,\r\n    radiusMiles: 250,\r\n  },\r\n\r\n  // =====================\r\n  // TENNESSEE\r\n  // =====================\r\n  {\r\n    id: '47000000-0000-0000-0000-000000000001',\r\n    name: 'All Tennessee',\r\n    state: 'TN',\r\n    cities: ['Statewide'],\r\n    centerLat: 35.7478,\r\n    centerLng: -86.6923,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '47111111-1111-1111-1111-111111111001',\r\n    name: 'Nashville',\r\n    state: 'TN',\r\n    cities: ['Nashville', 'Franklin', 'Murfreesboro', 'Brentwood'],\r\n    centerLat: 36.1627,\r\n    centerLng: -86.7816,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '47111111-1111-1111-1111-111111111002',\r\n    name: 'Memphis',\r\n    state: 'TN',\r\n    cities: ['Memphis', 'Germantown', 'Collierville', 'Bartlett'],\r\n    centerLat: 35.1495,\r\n    centerLng: -90.0490,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // TEXAS\r\n  // =====================\r\n  {\r\n    id: '48000000-0000-0000-0000-000000000001',\r\n    name: 'All Texas',\r\n    state: 'TX',\r\n    cities: ['Statewide'],\r\n    centerLat: 31.9686,\r\n    centerLng: -99.9018,\r\n    radiusMiles: 300,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111001',\r\n    name: 'Houston',\r\n    state: 'TX',\r\n    cities: ['Houston', 'Sugar Land', 'The Woodlands', 'Pearland', 'League City', 'Pasadena', 'Katy'],\r\n    centerLat: 29.7604,\r\n    centerLng: -95.3698,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111002',\r\n    name: 'Dallas-Fort Worth',\r\n    state: 'TX',\r\n    cities: ['Dallas', 'Fort Worth', 'Arlington', 'Plano', 'Irving', 'Garland', 'Frisco', 'McKinney', 'Grand Prairie'],\r\n    centerLat: 32.7767,\r\n    centerLng: -96.7970,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111003',\r\n    name: 'Austin',\r\n    state: 'TX',\r\n    cities: ['Austin', 'Round Rock', 'Cedar Park', 'Georgetown', 'Pflugerville', 'San Marcos', 'Leander'],\r\n    centerLat: 30.2672,\r\n    centerLng: -97.7431,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111004',\r\n    name: 'San Antonio',\r\n    state: 'TX',\r\n    cities: ['San Antonio', 'New Braunfels', 'Schertz', 'Seguin', 'Universal City', 'Converse'],\r\n    centerLat: 29.4241,\r\n    centerLng: -98.4936,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // UTAH\r\n  // =====================\r\n  {\r\n    id: '49000000-0000-0000-0000-000000000001',\r\n    name: 'All Utah',\r\n    state: 'UT',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.3210,\r\n    centerLng: -111.0937,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '49111111-1111-1111-1111-111111111001',\r\n    name: 'Salt Lake City',\r\n    state: 'UT',\r\n    cities: ['Salt Lake City', 'West Valley City', 'Provo', 'West Jordan', 'Orem', 'Sandy'],\r\n    centerLat: 40.7608,\r\n    centerLng: -111.8910,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // VERMONT\r\n  // =====================\r\n  {\r\n    id: '50000000-0000-0000-0000-000000000001',\r\n    name: 'All Vermont',\r\n    state: 'VT',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.0459,\r\n    centerLng: -72.7107,\r\n    radiusMiles: 150,\r\n  },\r\n\r\n  // =====================\r\n  // VIRGINIA\r\n  // =====================\r\n  {\r\n    id: '51000000-0000-0000-0000-000000000001',\r\n    name: 'All Virginia',\r\n    state: 'VA',\r\n    cities: ['Statewide'],\r\n    centerLat: 37.7693,\r\n    centerLng: -78.1694,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '51111111-1111-1111-1111-111111111001',\r\n    name: 'Richmond',\r\n    state: 'VA',\r\n    cities: ['Richmond', 'Virginia Beach', 'Norfolk', 'Chesapeake', 'Arlington', 'Alexandria'],\r\n    centerLat: 37.5407,\r\n    centerLng: -77.4360,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // WASHINGTON\r\n  // =====================\r\n  {\r\n    id: '53000000-0000-0000-0000-000000000001',\r\n    name: 'All Washington',\r\n    state: 'WA',\r\n    cities: ['Statewide'],\r\n    centerLat: 47.7511,\r\n    centerLng: -120.7401,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '53111111-1111-1111-1111-111111111001',\r\n    name: 'Seattle',\r\n    state: 'WA',\r\n    cities: ['Seattle', 'Bellevue', 'Tacoma', 'Everett', 'Kent', 'Renton', 'Spokane', 'Redmond', 'Kirkland'],\r\n    centerLat: 47.6062,\r\n    centerLng: -122.3321,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // WEST VIRGINIA\r\n  // =====================\r\n  {\r\n    id: '54000000-0000-0000-0000-000000000001',\r\n    name: 'All West Virginia',\r\n    state: 'WV',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.5976,\r\n    centerLng: -80.4549,\r\n    radiusMiles: 200,\r\n  },\r\n\r\n  // =====================\r\n  // WISCONSIN\r\n  // =====================\r\n  {\r\n    id: '55000000-0000-0000-0000-000000000001',\r\n    name: 'All Wisconsin',\r\n    state: 'WI',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.2685,\r\n    centerLng: -89.6165,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '55111111-1111-1111-1111-111111111001',\r\n    name: 'Milwaukee',\r\n    state: 'WI',\r\n    cities: ['Milwaukee', 'Madison', 'Green Bay', 'Kenosha', 'Racine'],\r\n    centerLat: 43.0389,\r\n    centerLng: -87.9065,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // WYOMING\r\n  // =====================\r\n  {\r\n    id: '56000000-0000-0000-0000-000000000001',\r\n    name: 'All Wyoming',\r\n    state: 'WY',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.7559,\r\n    centerLng: -107.3025,\r\n    radiusMiles: 250,\r\n  },\r\n] as const;\r\n\r\n/**\r\n * Helper function to find metro area by ID\r\n */\r\nexport function getMetroById(id: string): MetroArea | undefined {\r\n  return ALL_METRO_AREAS.find(metro => metro.id === id);\r\n}\r\n\r\n/**\r\n * Helper function to get metro areas by state (includes state-level areas)\r\n * Returns all metros for a state, including the state-level \"All [State]\" option\r\n */\r\nexport function getMetrosByState(stateCode: string): readonly MetroArea[] {\r\n  return ALL_METRO_AREAS.filter(metro => metro.state === stateCode);\r\n}\r\n\r\n/**\r\n * Helper function to get full state name from state code\r\n */\r\nexport function getStateName(stateCode: string): string | undefined {\r\n  return US_STATES.find(state => state.code === stateCode)?.name;\r\n}\r\n\r\n/**\r\n * Helper function to search metro areas by name or city\r\n * Supports fuzzy matching on metro name and city names\r\n */\r\nexport function searchMetrosByName(query: string): readonly MetroArea[] {\r\n  const lowerQuery = query.toLowerCase().trim();\r\n\r\n  if (!lowerQuery) {\r\n    return ALL_METRO_AREAS;\r\n  }\r\n\r\n  return ALL_METRO_AREAS.filter(\r\n    metro =>\r\n      metro.name.toLowerCase().includes(lowerQuery) ||\r\n      metro.cities.some(city => city.toLowerCase().includes(lowerQuery)) ||\r\n      metro.state.toLowerCase() === lowerQuery\r\n  );\r\n}\r\n\r\n/**\r\n * Helper function to check if a metro area is state-level (All [State])\r\n */\r\nexport function isStateLevelArea(metroId: string): boolean {\r\n  const metro = getMetroById(metroId);\r\n  return metro?.name.startsWith('All ') ?? false;\r\n}\r\n\r\n/**\r\n * Get only state-level metro areas (All [State] entries)\r\n */\r\nexport function getStateLevelAreas(): readonly MetroArea[] {\r\n  return ALL_METRO_AREAS.filter(metro => metro.name.startsWith('All '));\r\n}\r\n\r\n/**\r\n * Get only city-level metro areas (excludes state-level areas)\r\n */\r\nexport function getCityLevelAreas(): readonly MetroArea[] {\r\n  return ALL_METRO_AREAS.filter(metro => !metro.name.startsWith('All '));\r\n}\r\n\r\n/**\r\n * Get metros grouped by state for dropdowns\r\n * Returns a map of state code to array of metros (state-level first, then city metros)\r\n */\r\nexport function getMetrosGroupedByState(): Map<string, readonly MetroArea[]> {\r\n  const grouped = new Map<string, MetroArea[]>();\r\n\r\n  for (const metro of ALL_METRO_AREAS) {\r\n    if (!grouped.has(metro.state)) {\r\n      grouped.set(metro.state, []);\r\n    }\r\n    grouped.get(metro.state)!.push(metro);\r\n  }\r\n\r\n  // Ensure state-level area is first in each group\r\n  for (const [state, metros] of grouped) {\r\n    metros.sort((a, b) => {\r\n      if (a.name.startsWith('All ')) return -1;\r\n      if (b.name.startsWith('All ')) return 1;\r\n      return a.name.localeCompare(b.name);\r\n    });\r\n  }\r\n\r\n  return grouped;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3606, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/TreeDropdown.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { ChevronDown, ChevronRight, Check } from 'lucide-react';\n\n/**\n * Tree node structure for hierarchical data\n */\nexport interface TreeNode {\n  id: string;\n  label: string;\n  checked: boolean;\n  children?: TreeNode[];\n}\n\n/**\n * TreeDropdown Props\n */\nexport interface TreeDropdownProps {\n  /** Tree data structure */\n  nodes: TreeNode[];\n  /** Selected node IDs */\n  selectedIds: string[];\n  /** Callback when selection changes */\n  onSelectionChange: (selectedIds: string[]) => void;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Maximum number of selections allowed */\n  maxSelections?: number;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Custom styling */\n  className?: string;\n}\n\n/**\n * TreeDropdown Component\n * Phase 6A.9: Tree structure dropdown for hierarchical selections\n *\n * Features:\n * - Hierarchical tree structure with expand/collapse\n * - Multi-select with checkboxes\n * - Max selection limit\n * - Keyboard accessible\n * - ARIA compliant\n */\nexport function TreeDropdown({\n  nodes,\n  selectedIds,\n  onSelectionChange,\n  placeholder = 'Select items',\n  maxSelections,\n  disabled = false,\n  className = '',\n}: TreeDropdownProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [expandedNodes, setExpandedNodes] = useState<Set<string>>(new Set());\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  const toggleNode = (nodeId: string) => {\n    const newExpanded = new Set(expandedNodes);\n    if (newExpanded.has(nodeId)) {\n      newExpanded.delete(nodeId);\n    } else {\n      newExpanded.add(nodeId);\n    }\n    setExpandedNodes(newExpanded);\n  };\n\n  /**\n   * Recursively collect all child node IDs\n   */\n  const getAllChildIds = (node: TreeNode): string[] => {\n    const ids: string[] = [];\n    if (node.children) {\n      for (const child of node.children) {\n        ids.push(child.id);\n        ids.push(...getAllChildIds(child));\n      }\n    }\n    return ids;\n  };\n\n  /**\n   * Find a node by ID in the tree\n   */\n  const findNodeById = (nodeId: string, searchNodes: TreeNode[] = nodes): TreeNode | null => {\n    for (const node of searchNodes) {\n      if (node.id === nodeId) {\n        return node;\n      }\n      if (node.children) {\n        const found = findNodeById(nodeId, node.children);\n        if (found) return found;\n      }\n    }\n    return null;\n  };\n\n  const toggleSelection = (nodeId: string) => {\n    const newSelected = new Set(selectedIds);\n    const node = findNodeById(nodeId);\n\n    if (!node) return;\n\n    const hasChildren = node.children && node.children.length > 0;\n\n    if (newSelected.has(nodeId)) {\n      // Unchecking: remove node and all children\n      newSelected.delete(nodeId);\n      if (hasChildren) {\n        const childIds = getAllChildIds(node);\n        childIds.forEach((id) => newSelected.delete(id));\n      }\n    } else {\n      // Checking: For parent nodes with children, only add children (not parent itself)\n      // For leaf nodes, add the node itself\n      const idsToAdd: string[] = [];\n\n      if (hasChildren) {\n        // Parent node: only add children, not the parent ID\n        idsToAdd.push(...getAllChildIds(node));\n      } else {\n        // Leaf node: add the node itself\n        idsToAdd.push(nodeId);\n      }\n\n      // Check max selections\n      if (maxSelections && newSelected.size + idsToAdd.length > maxSelections) {\n        return; // Don't add if max would be exceeded\n      }\n\n      idsToAdd.forEach((id) => newSelected.add(id));\n    }\n\n    onSelectionChange(Array.from(newSelected));\n  };\n\n  const renderTreeNode = (node: TreeNode, level: number = 0) => {\n    const hasChildren = node.children && node.children.length > 0;\n    const isExpanded = expandedNodes.has(node.id);\n\n    // Phase 6A.9 FIX: For parent nodes, check if ALL children are selected\n    // This ensures state checkboxes show as checked when all cities are selected\n    let isSelected = selectedIds.includes(node.id);\n    if (hasChildren && !isSelected) {\n      const childIds = getAllChildIds(node);\n      if (childIds.length > 0) {\n        isSelected = childIds.every(childId => selectedIds.includes(childId));\n      }\n    }\n\n    const indentClass = level > 0 ? `ml-${level * 6}` : '';\n\n    return (\n      <div key={node.id}>\n        <div\n          className={`flex items-center gap-2 px-3 py-2 hover:bg-gray-50 cursor-pointer ${indentClass}`}\n          style={{ paddingLeft: `${level * 24 + 12}px` }}\n        >\n          {/* Expand/Collapse button for parent nodes */}\n          {hasChildren ? (\n            <button\n              type=\"button\"\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleNode(node.id);\n              }}\n              className=\"p-0.5 hover:bg-gray-200 rounded\"\n              aria-label={isExpanded ? 'Collapse' : 'Expand'}\n            >\n              {isExpanded ? (\n                <ChevronDown className=\"h-4 w-4\" style={{ color: '#FF7900' }} />\n              ) : (\n                <ChevronRight className=\"h-4 w-4\" style={{ color: '#FF7900' }} />\n              )}\n            </button>\n          ) : (\n            <span className=\"w-5\" /> // Spacer for alignment\n          )}\n\n          {/* Checkbox */}\n          <label\n            className=\"flex items-center gap-2 flex-1 cursor-pointer\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <input\n              type=\"checkbox\"\n              checked={isSelected}\n              onChange={() => toggleSelection(node.id)}\n              disabled={disabled}\n              className=\"h-4 w-4 rounded border-gray-300 focus:ring-2 focus:ring-offset-0\"\n              style={{\n                accentColor: '#FF7900',\n              }}\n            />\n            <span className=\"text-sm\">{node.label}</span>\n            {isSelected && (\n              <Check className=\"h-3.5 w-3.5 ml-auto\" style={{ color: '#006400' }} />\n            )}\n          </label>\n        </div>\n\n        {/* Render children if expanded */}\n        {hasChildren && isExpanded && (\n          <div>\n            {node.children!.map((child) => renderTreeNode(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const selectedCount = selectedIds.length;\n  const displayText =\n    selectedCount === 0\n      ? placeholder\n      : `${selectedCount} ${selectedCount === 1 ? 'item' : 'items'} selected`;\n\n  return (\n    <div ref={dropdownRef} className={`relative ${className}`}>\n      {/* Dropdown trigger */}\n      <button\n        type=\"button\"\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        disabled={disabled}\n        className=\"w-full flex items-center justify-between px-4 py-2 bg-white border-2 rounded-lg text-sm transition-colors hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n        style={{\n          borderColor: isOpen ? '#FF7900' : '#e2e8f0',\n        }}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n      >\n        <span className={selectedCount === 0 ? 'text-gray-500' : 'text-gray-900'}>\n          {displayText}\n        </span>\n        <ChevronDown\n          className={`h-4 w-4 transition-transform ${isOpen ? 'rotate-180' : ''}`}\n          style={{ color: '#8B1538' }}\n        />\n      </button>\n\n      {/* Dropdown menu */}\n      {isOpen && (\n        <div\n          className=\"absolute z-50 w-full mt-2 bg-white border-2 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n          style={{ borderColor: '#FF7900' }}\n          role=\"listbox\"\n        >\n          {nodes.length === 0 ? (\n            <div className=\"px-4 py-3 text-sm text-gray-500 text-center\">\n              No items available\n            </div>\n          ) : (\n            <div className=\"py-1\">\n              {nodes.map((node) => renderTreeNode(node))}\n            </div>\n          )}\n\n          {/* Selection count footer with Done button */}\n          <div\n            className=\"px-4 py-2 border-t bg-gray-50 flex items-center justify-between\"\n            style={{ borderColor: '#e2e8f0' }}\n          >\n            {maxSelections && (\n              <span className=\"text-xs text-gray-600\">\n                {selectedCount} of {maxSelections} selected\n              </span>\n            )}\n            <button\n              type=\"button\"\n              onClick={() => setIsOpen(false)}\n              className=\"px-3 py-1 text-xs font-medium text-white rounded hover:opacity-90 transition-opacity\"\n              style={{ backgroundColor: '#FF7900' }}\n            >\n              Done\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3942, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/repositories/metro-areas.repository.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\n\n/**\n * Metro Area Response DTO from API\n * Matches backend MetroAreaDto structure\n */\nexport interface MetroAreaDto {\n  id: string;\n  name: string;\n  state: string;\n  centerLatitude: number;\n  centerLongitude: number;\n  radiusMiles: number;\n  isStateLevelArea: boolean;\n  isActive: boolean;\n}\n\n/**\n * Metro Areas Repository\n * Handles all metro area-related API calls\n * Phase 6A.9: Fix for hardcoded metro area IDs\n */\nexport const metroAreasRepository = {\n  /**\n   * Get all active metro areas\n   * Endpoint: GET /api/metro-areas?activeOnly=true\n   */\n  async getAll(activeOnly: boolean = true): Promise<MetroAreaDto[]> {\n    const data = await apiClient.get<MetroAreaDto[]>('/metro-areas', {\n      params: { activeOnly },\n    });\n    return data;\n  },\n\n  /**\n   * Get metro areas by state\n   * Client-side filtering of all metros by state code\n   */\n  async getByState(stateCode: string): Promise<MetroAreaDto[]> {\n    const allMetros = await this.getAll();\n    return allMetros.filter(metro => metro.state === stateCode);\n  },\n\n  /**\n   * Get a single metro area by ID\n   * Client-side lookup from all metros\n   */\n  async getById(id: string): Promise<MetroAreaDto | undefined> {\n    const allMetros = await this.getAll();\n    return allMetros.find(metro => metro.id === id);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAsBO,MAAM,uBAAuB;IAClC;;;GAGC,GACD,MAAM,QAAO,aAAsB,IAAI;QACrC,MAAM,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAiB,gBAAgB;YAC/D,QAAQ;gBAAE;YAAW;QACvB;QACA,OAAO;IACT;IAEA;;;GAGC,GACD,MAAM,YAAW,SAAiB;QAChC,MAAM,YAAY,MAAM,IAAI,CAAC,MAAM;QACnC,OAAO,UAAU,MAAM,CAAC,CAAA,QAAS,MAAM,KAAK,KAAK;IACnD;IAEA;;;GAGC,GACD,MAAM,SAAQ,EAAU;QACtB,MAAM,YAAY,MAAM,IAAI,CAAC,MAAM;QACnC,OAAO,UAAU,IAAI,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK;IAC9C;AACF","debugId":null}},
    {"offset": {"line": 3979, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/hooks/useMetroAreas.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { metroAreasRepository, MetroAreaDto } from '@/infrastructure/api/repositories/metro-areas.repository';\n\n/**\n * Metro Areas State for UI\n * Includes grouped and sorted data for UI rendering\n */\nexport interface MetroAreasState {\n  /** All metro areas loaded from API */\n  metroAreas: MetroAreaDto[];\n\n  /** Metro areas grouped by state for dropdown rendering */\n  metroAreasByState: Map<string, MetroAreaDto[]>;\n\n  /** State-level metros only (All [State]) */\n  stateLevelMetros: MetroAreaDto[];\n\n  /** City-level metros only (excludes All [State]) */\n  cityLevelMetros: MetroAreaDto[];\n\n  /** Loading state */\n  isLoading: boolean;\n\n  /** Error message if fetch failed */\n  error: string | null;\n}\n\n/**\n * Hook to fetch and manage metro areas from the API\n * Phase 6A.9: Replaces hardcoded constants with dynamic API data\n *\n * Usage:\n * ```tsx\n * const { metroAreas, metroAreasByState, isLoading } = useMetroAreas();\n * ```\n */\nexport function useMetroAreas(): MetroAreasState {\n  const [metroAreas, setMetroAreas] = useState<MetroAreaDto[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function fetchMetroAreas() {\n      try {\n        console.log('[useMetroAreas] Starting to fetch metro areas...');\n        setIsLoading(true);\n        setError(null);\n\n        const data = await metroAreasRepository.getAll(true);\n        console.log('[useMetroAreas] Successfully fetched', data.length, 'metro areas');\n\n        if (isMounted) {\n          setMetroAreas(data);\n        }\n      } catch (err) {\n        console.error('[useMetroAreas] ERROR fetching metro areas:', err);\n        if (isMounted) {\n          const errorMessage = err instanceof Error ? err.message : 'Failed to load metro areas';\n          setError(errorMessage);\n          console.error('Error fetching metro areas:', err);\n        }\n      } finally {\n        if (isMounted) {\n          console.log('[useMetroAreas] Finished fetching (loading=false)');\n          setIsLoading(false);\n        }\n      }\n    }\n\n    fetchMetroAreas();\n\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  // Group metros by state\n  const metroAreasByState = new Map<string, MetroAreaDto[]>();\n  for (const metro of metroAreas) {\n    if (!metroAreasByState.has(metro.state)) {\n      metroAreasByState.set(metro.state, []);\n    }\n    metroAreasByState.get(metro.state)!.push(metro);\n  }\n\n  // Sort metros within each state (state-level first, then alphabetically)\n  for (const [, metros] of metroAreasByState) {\n    metros.sort((a, b) => {\n      if (a.isStateLevelArea && !b.isStateLevelArea) return -1;\n      if (!a.isStateLevelArea && b.isStateLevelArea) return 1;\n      return a.name.localeCompare(b.name);\n    });\n  }\n\n  // Separate state-level and city-level metros\n  const stateLevelMetros = metroAreas.filter(m => m.isStateLevelArea);\n  const cityLevelMetros = metroAreas.filter(m => !m.isStateLevelArea);\n\n  return {\n    metroAreas,\n    metroAreasByState,\n    stateLevelMetros,\n    cityLevelMetros,\n    isLoading,\n    error,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAmCO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,IAAI;gBACF,QAAQ,GAAG,CAAC;gBACZ,aAAa;gBACb,SAAS;gBAET,MAAM,OAAO,MAAM,oMAAoB,CAAC,MAAM,CAAC;gBAC/C,QAAQ,GAAG,CAAC,wCAAwC,KAAK,MAAM,EAAE;gBAEjE,IAAI,WAAW;oBACb,cAAc;gBAChB;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,+CAA+C;gBAC7D,IAAI,WAAW;oBACb,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAC1D,SAAS;oBACT,QAAQ,KAAK,CAAC,+BAA+B;gBAC/C;YACF,SAAU;gBACR,IAAI,WAAW;oBACb,QAAQ,GAAG,CAAC;oBACZ,aAAa;gBACf;YACF;QACF;QAEA;QAEA,OAAO;YACL,YAAY;QACd;IACF,GAAG,EAAE;IAEL,wBAAwB;IACxB,MAAM,oBAAoB,IAAI;IAC9B,KAAK,MAAM,SAAS,WAAY;QAC9B,IAAI,CAAC,kBAAkB,GAAG,CAAC,MAAM,KAAK,GAAG;YACvC,kBAAkB,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE;QACvC;QACA,kBAAkB,GAAG,CAAC,MAAM,KAAK,EAAG,IAAI,CAAC;IAC3C;IAEA,yEAAyE;IACzE,KAAK,MAAM,GAAG,OAAO,IAAI,kBAAmB;QAC1C,OAAO,IAAI,CAAC,CAAC,GAAG;YACd,IAAI,EAAE,gBAAgB,IAAI,CAAC,EAAE,gBAAgB,EAAE,OAAO,CAAC;YACvD,IAAI,CAAC,EAAE,gBAAgB,IAAI,EAAE,gBAAgB,EAAE,OAAO;YACtD,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;QACpC;IACF;IAEA,6CAA6C;IAC7C,MAAM,mBAAmB,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,gBAAgB;IAClE,MAAM,kBAAkB,WAAW,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,gBAAgB;IAElE,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 4054, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/newsletter/NewsletterMetroSelector.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { US_STATES } from '@/domain/constants/metroAreas.constants';\nimport { TreeDropdown, TreeNode } from '@/presentation/components/ui/TreeDropdown';\nimport { useMetroAreas } from '@/presentation/hooks/useMetroAreas';\n\ninterface NewsletterMetroSelectorProps {\n  selectedMetroIds: string[];\n  receiveAllLocations: boolean;\n  onMetrosChange: (metroIds: string[]) => void;\n  onReceiveAllChange: (receiveAll: boolean) => void;\n  disabled?: boolean;\n  maxSelections?: number;\n}\n\n/**\n * NewsletterMetroSelector Component\n * Phase 5B.8: Newsletter Metro Area Selection (Refactored)\n * Phase 6A.9: Updated to use API data via useMetroAreas hook\n *\n * Allows users to select multiple metro areas for newsletter subscriptions\n * or opt for all locations. Uses the TreeDropdown component for hierarchical selection.\n *\n * Refactored to:\n * - Remove state-level metro areas (entries like \"All Alabama\", etc.)\n * - Use TreeDropdown component with parent-child selection logic\n * - Transform metro data into TreeNode format\n * - Fetch data from API instead of hardcoded constants\n */\nexport function NewsletterMetroSelector({\n  selectedMetroIds,\n  receiveAllLocations,\n  onMetrosChange,\n  onReceiveAllChange,\n  disabled = false,\n  maxSelections = 20,\n}: NewsletterMetroSelectorProps) {\n  const [validationError, setValidationError] = useState<string>('');\n\n  // Phase 6A.9: Fetch metro areas from API instead of hardcoded constants\n  const {\n    metroAreasByState,\n    isLoading: metrosLoading,\n    error: metrosError,\n  } = useMetroAreas();\n\n  // Check validation whenever selectedMetroIds changes\n  useEffect(() => {\n    if (selectedMetroIds.length > maxSelections) {\n      setValidationError(`You cannot select more than ${maxSelections} metro areas`);\n    } else {\n      setValidationError('');\n    }\n  }, [selectedMetroIds, maxSelections]);\n\n  /**\n   * Transform metro areas data into TreeNode format for TreeDropdown\n   * Each state becomes a parent node, city metros become children\n   */\n  const treeNodes: TreeNode[] = useMemo(() => {\n    const nodes: TreeNode[] = [];\n\n    for (const state of US_STATES) {\n      const metrosForState = metroAreasByState.get(state.code) || [];\n\n      // Filter out state-level metros (like \"All Alabama\")\n      // Note: After database cleanup, there should be no state-level metros\n      const cityMetros = metrosForState.filter((m) => !m.isStateLevelArea);\n\n      // Only include states that have city metros\n      if (cityMetros.length === 0) continue;\n\n      // Create child nodes for each metro\n      const children: TreeNode[] = cityMetros.map((metro) => ({\n        id: metro.id,\n        label: metro.name,\n        checked: selectedMetroIds.includes(metro.id),\n      }));\n\n      // Create parent node for the state\n      nodes.push({\n        id: `state-${state.code}`,\n        label: state.name,\n        checked: children.every((child) => selectedMetroIds.includes(child.id)),\n        children,\n      });\n    }\n\n    return nodes;\n  }, [metroAreasByState, selectedMetroIds]);\n\n  const handleReceiveAllChange = (receiveAll: boolean) => {\n    onReceiveAllChange(receiveAll);\n    if (receiveAll) {\n      onMetrosChange([]); // Clear selections when choosing all locations\n      setValidationError('');\n    }\n  };\n\n  const handleSelectionChange = (newSelectedIds: string[]) => {\n    // Filter out state-level IDs (they start with \"state-\")\n    const metroIds = newSelectedIds.filter((id) => !id.startsWith('state-'));\n    console.log('[NewsletterMetroSelector] TreeDropdown selection changed:');\n    console.log('  Raw IDs from TreeDropdown:', newSelectedIds);\n    console.log('  Filtered metro IDs (state-* removed):', metroIds);\n    console.log('  Calling onMetrosChange with', metroIds.length, 'IDs');\n    onMetrosChange(metroIds);\n  };\n\n  // Show loading state while fetching metros\n  if (metrosLoading) {\n    return (\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n            Get notifications for events in:\n          </label>\n          <p className=\"text-xs text-gray-500 mb-3\">Loading metro areas...</p>\n        </div>\n        <div className=\"flex items-center justify-center p-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2\" style={{ borderColor: '#FF7900' }}></div>\n        </div>\n      </div>\n    );\n  }\n\n  // Show error if metros failed to load\n  if (metrosError) {\n    return (\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n            Get notifications for events in:\n          </label>\n          <p className=\"text-xs text-red-600\" role=\"alert\">\n            Failed to load metro areas: {metrosError}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div>\n        <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n          Get notifications for events in:\n        </label>\n        <p className=\"text-xs text-gray-500 mb-3\">\n          Select up to {maxSelections} metro areas or receive updates from all locations\n        </p>\n      </div>\n\n      {/* All Locations Checkbox */}\n      <div className=\"mb-4\">\n        <label className=\"flex items-center text-sm text-gray-700 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={receiveAllLocations}\n            onChange={(e) => handleReceiveAllChange(e.target.checked)}\n            disabled={disabled}\n            className=\"mr-2 w-4 h-4 rounded border-gray-300 text-[#FF7900] focus:ring-2 focus:ring-[#FF7900]\"\n          />\n          <span className=\"font-medium\">Send me events from all locations</span>\n        </label>\n      </div>\n\n      {/* Metro Areas Selection (hidden when \"all locations\" is selected) */}\n      {!receiveAllLocations && (\n        <div className=\"space-y-3\">\n          {/* TreeDropdown Component */}\n          <TreeDropdown\n            nodes={treeNodes}\n            selectedIds={selectedMetroIds}\n            onSelectionChange={handleSelectionChange}\n            placeholder=\"Select metro areas\"\n            maxSelections={maxSelections}\n            disabled={disabled}\n          />\n\n          {/* Validation Error */}\n          {validationError && (\n            <p className=\"text-xs text-red-600\" role=\"alert\">\n              {validationError}\n            </p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/layout/Footer.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { Logo } from '../atoms/Logo';\r\nimport { NewsletterMetroSelector } from '../features/newsletter/NewsletterMetroSelector';\r\nimport { Facebook, Twitter, Instagram, Youtube, Mail } from 'lucide-react';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\n\r\ninterface FooterLinkProps {\r\n  href: string;\r\n  children: React.ReactNode;\r\n  external?: boolean;\r\n}\r\n\r\nconst FooterLink: React.FC<FooterLinkProps> = ({ href, children, external = false }) => {\r\n  const linkClasses = \"text-white/80 hover:text-white transition-colors duration-200 text-sm\";\r\n\r\n  if (external) {\r\n    return (\r\n      <a\r\n        href={href}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className={linkClasses}\r\n        aria-label={`${children} (opens in new tab)`}\r\n      >\r\n        {children}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Link href={href} className={linkClasses}>\r\n      {children}\r\n    </Link>\r\n  );\r\n};\r\n\r\ninterface LinkCategory {\r\n  title: string;\r\n  links: Array<{\r\n    label: string;\r\n    href: string;\r\n    external?: boolean;\r\n  }>;\r\n}\r\n\r\nconst Footer: React.FC = () => {\r\n  const { isAuthenticated } = useAuthStore();\r\n  const [email, setEmail] = useState('');\r\n  const [subscribeStatus, setSubscribeStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');\r\n  const [selectedMetroIds, setSelectedMetroIds] = useState<string[]>([]);\r\n  const [receiveAllLocations, setReceiveAllLocations] = useState(false);\r\n  const [currentYear, setCurrentYear] = useState<number>(2025);\r\n\r\n  // Set current year on client side only to avoid hydration mismatch\r\n  React.useEffect(() => {\r\n    setCurrentYear(new Date().getFullYear());\r\n  }, []);\r\n\r\n  const linkCategories: LinkCategory[] = [\r\n    {\r\n      title: 'Community',\r\n      links: [\r\n        { label: 'Events', href: '/events' },\r\n        { label: 'Forums', href: '/forums' },\r\n        { label: 'Cultural Hub', href: '/culture' },\r\n        ...(isAuthenticated ? [{ label: 'Dashboard', href: '/dashboard' }] : []),\r\n      ],\r\n    },\r\n    {\r\n      title: 'Marketplace',\r\n      links: [\r\n        { label: 'Browse Listings', href: '/marketplace' },\r\n        { label: 'Businesses', href: '/business' },\r\n        { label: 'Services', href: '/services' },\r\n        { label: 'Sell Items', href: '/marketplace/sell' },\r\n      ],\r\n    },\r\n    {\r\n      title: 'Resources',\r\n      links: [\r\n        { label: 'Help Center', href: '/help' },\r\n        { label: 'Guidelines', href: '/guidelines' },\r\n        { label: 'Safety', href: '/safety' },\r\n        { label: 'Blog', href: '/blog' },\r\n      ],\r\n    },\r\n    {\r\n      title: 'About',\r\n      links: [\r\n        { label: 'Our Story', href: '/about' },\r\n        { label: 'Contact Us', href: '/contact' },\r\n        { label: 'Careers', href: '/careers' },\r\n        { label: 'Press', href: '/press' },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const handleNewsletterSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    console.log('[Footer] Newsletter form submitted:');\r\n    console.log('  Email:', email);\r\n    console.log('  Receive all locations:', receiveAllLocations);\r\n    console.log('  Selected metro IDs:', selectedMetroIds);\r\n    console.log('  Selected metro count:', selectedMetroIds.length);\r\n\r\n    if (!email || !email.includes('@')) {\r\n      console.log('[Footer] ‚ùå Validation failed: Invalid email');\r\n      setSubscribeStatus('error');\r\n      return;\r\n    }\r\n\r\n    if (!receiveAllLocations && selectedMetroIds.length === 0) {\r\n      console.log('[Footer] ‚ùå Validation failed: No metros selected and not receiving all locations');\r\n      setSubscribeStatus('error');\r\n      return;\r\n    }\r\n\r\n    console.log('[Footer] ‚úÖ Validation passed, submitting...');\r\n\r\n    setSubscribeStatus('loading');\r\n\r\n    try {\r\n      // Call .NET backend API\r\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'https://lankaconnect-api-staging.politebay-79d6e8a2.eastus2.azurecontainerapps.io/api';\r\n      const response = await fetch(`${apiUrl}/newsletter/subscribe`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          Email: email,\r\n          MetroAreaIds: receiveAllLocations ? [] : selectedMetroIds,\r\n          ReceiveAllLocations: receiveAllLocations,\r\n          Timestamp: new Date().toISOString(),\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      console.log('[Footer] Backend response:', response.status, data);\r\n\r\n      if (data.success || data.Success) {\r\n        setSubscribeStatus('success');\r\n        setEmail('');\r\n        setSelectedMetroIds([]);\r\n        setReceiveAllLocations(false);\r\n\r\n        // Reset status after 3 seconds\r\n        setTimeout(() => {\r\n          setSubscribeStatus('idle');\r\n        }, 3000);\r\n      } else {\r\n        setSubscribeStatus('error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Newsletter subscription error:', error);\r\n      setSubscribeStatus('error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <footer className=\"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 text-white mt-24 relative overflow-hidden\">\r\n      {/* Decorative Background Pattern */}\r\n      <div className=\"absolute inset-0 opacity-10\">\r\n        <div className=\"absolute inset-0\" style={{\r\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\r\n        }}></div>\r\n      </div>\r\n\r\n      <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        {/* Newsletter Section */}\r\n        <div className=\"bg-white/10 backdrop-blur-sm rounded-2xl p-8 mb-12 border border-white/20\">\r\n          <div className=\"max-w-xl mx-auto\">\r\n            <h3 className=\"text-2xl font-semibold mb-2 text-center\">Stay Connected</h3>\r\n            <p className=\"text-white/90 mb-6 text-center\">Subscribe to our newsletter for the latest events and community updates.</p>\r\n\r\n            <form onSubmit={handleNewsletterSubmit} className=\"space-y-4\">\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"w-full px-4 py-3 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500\"\r\n                aria-label=\"Email address for newsletter\"\r\n                disabled={subscribeStatus === 'loading'}\r\n                required\r\n              />\r\n\r\n              <div className=\"bg-white/95 p-4 rounded-lg text-gray-800\">\r\n                <NewsletterMetroSelector\r\n                  selectedMetroIds={selectedMetroIds}\r\n                  receiveAllLocations={receiveAllLocations}\r\n                  onMetrosChange={setSelectedMetroIds}\r\n                  onReceiveAllChange={setReceiveAllLocations}\r\n                  disabled={subscribeStatus === 'loading'}\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full px-6 py-3 bg-[#FF7900] hover:bg-[#E56D00] text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                disabled={subscribeStatus === 'loading'}\r\n                aria-label=\"Subscribe to newsletter\"\r\n              >\r\n                {subscribeStatus === 'loading' ? 'Subscribing...' : subscribeStatus === 'success' ? 'Subscribed!' : 'Subscribe'}\r\n              </button>\r\n            </form>\r\n\r\n            {subscribeStatus === 'error' && (\r\n              <p className=\"text-red-300 text-sm mt-2 text-center\" role=\"alert\">\r\n                Please enter a valid email address and select at least one location.\r\n              </p>\r\n            )}\r\n            {subscribeStatus === 'success' && (\r\n              <p className=\"text-green-300 text-sm mt-2 text-center\" role=\"alert\">\r\n                Thank you for subscribing!\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Links Grid */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12\">\r\n          {linkCategories.map((category) => (\r\n            <div key={category.title}>\r\n              <h4 className=\"text-white font-semibold mb-4\">{category.title}</h4>\r\n              <ul className=\"space-y-2\" role=\"list\">\r\n                {category.links.map((link) => (\r\n                  <li key={link.label}>\r\n                    <FooterLink href={link.href} external={link.external}>\r\n                      {link.label}\r\n                    </FooterLink>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Bottom Section */}\r\n        <div className=\"pt-8 border-t border-white/20 flex flex-col md:flex-row items-center justify-between gap-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Logo size=\"md\" showText={false} />\r\n            <div>\r\n              <div className=\"text-white font-semibold\">LankaConnect</div>\r\n              <div className=\"text-white/80 text-sm\">&copy; {currentYear} All rights reserved</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <a\r\n              href=\"https://facebook.com\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors\"\r\n              aria-label=\"Facebook\"\r\n            >\r\n              <Facebook className=\"h-5 w-5\" />\r\n            </a>\r\n            <a\r\n              href=\"https://twitter.com\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors\"\r\n              aria-label=\"Twitter\"\r\n            >\r\n              <Twitter className=\"h-5 w-5\" />\r\n            </a>\r\n            <a\r\n              href=\"https://instagram.com\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors\"\r\n              aria-label=\"Instagram\"\r\n            >\r\n              <Instagram className=\"h-5 w-5\" />\r\n            </a>\r\n            <a\r\n              href=\"https://youtube.com\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors\"\r\n              aria-label=\"YouTube\"\r\n            >\r\n              <Youtube className=\"h-5 w-5\" />\r\n            </a>\r\n            <a\r\n              href=\"mailto:contact@lankaconnect.com\"\r\n              className=\"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors\"\r\n              aria-label=\"Email\"\r\n            >\r\n              <Mail className=\"h-5 w-5\" />\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4871, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/Card.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\n/**\r\n * Card Component\r\n * Reusable card container with header, content, and footer sections\r\n * Follows UI/UX best practices for content grouping\r\n */\r\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      className={cn('rounded-lg border bg-card text-card-foreground shadow-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nCard.displayName = 'Card';\r\n\r\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('flex flex-col space-y-1.5 p-6', className)} {...props} />\r\n  )\r\n);\r\nCardHeader.displayName = 'CardHeader';\r\n\r\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <h3\r\n      ref={ref}\r\n      className={cn('text-2xl font-semibold leading-none tracking-tight', className)}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nCardTitle.displayName = 'CardTitle';\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p ref={ref} className={cn('text-sm text-muted-foreground', className)} {...props} />\r\n));\r\nCardDescription.displayName = 'CardDescription';\r\n\r\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n  )\r\n);\r\nCardContent.displayName = 'CardContent';\r\n\r\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('flex items-center p-6 pt-0', className)} {...props} />\r\n  )\r\n);\r\nCardFooter.displayName = 'CardFooter';\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA;;;;CAIC,GACD,MAAM,qBAAO,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yIAAE,EAAC,4DAA4D;QACzE,GAAG,KAAK;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAGvF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yIAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAE,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAEnF,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;AAGpF,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 4960, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/Badge.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/presentation/lib/utils';\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors',\n  {\n    variants: {\n      variant: {\n        default: 'bg-gray-100 text-gray-800',\n        cultural: 'bg-saffron-100 text-saffron-800',\n        arts: 'bg-pink-100 text-pink-800',\n        food: 'bg-orange-100 text-orange-800',\n        business: 'bg-cyan-100 text-cyan-800',\n        community: 'bg-purple-100 text-purple-800',\n        featured: 'bg-green-100 text-green-800',\n        new: 'bg-emerald-100 text-emerald-800',\n        hot: 'bg-red-100 text-red-800',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    VariantProps<typeof badgeVariants> {}\n\n/**\n * Badge Component\n *\n * Displays category labels, status indicators, and tags with color-coded variants.\n * Used for event categories, post types, and feature highlighting.\n *\n * @example\n * ```tsx\n * <Badge variant=\"cultural\">Cultural</Badge>\n * <Badge variant=\"hot\">Hot Deal</Badge>\n * ```\n *\n * Variants:\n * - default: Gray background (general use)\n * - cultural: Saffron color (cultural events)\n * - arts: Pink color (arts and performances)\n * - food: Orange color (food and culinary)\n * - business: Cyan color (business listings)\n * - community: Purple color (community events)\n * - featured: Green color (featured items)\n * - new: Emerald color (new items)\n * - hot: Red color (hot deals/trending)\n *\n * Phase: 6C.1 - Landing Page Redesign\n */\nconst Badge = React.forwardRef<HTMLSpanElement, BadgeProps>(\n  ({ className, variant, ...props }, ref) => {\n    return (\n      <span\n        ref={ref}\n        className={cn(badgeVariants({ variant }), className)}\n        {...props}\n      />\n    );\n  }\n);\n\nBadge.displayName = 'Badge';\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,6FACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,UAAU;YACV,MAAM;YACN,MAAM;YACN,UAAU;YACV,WAAW;YACX,UAAU;YACV,KAAK;YACL,KAAK;QACP;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF;;;;;;;;;;;;;;;;;;;;;;;;CAwBC,GACD,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACjC,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yIAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 5035, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/repositories/events.repository.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\r\nimport type {\r\n  EventDto,\r\n  RsvpDto,\r\n  EventSearchResultDto,\r\n  WaitingListEntryDto,\r\n  GetEventsRequest,\r\n  SearchEventsRequest,\r\n  GetNearbyEventsRequest,\r\n  CreateEventRequest,\r\n  UpdateEventRequest,\r\n  RsvpRequest,\r\n  AnonymousRegistrationRequest,\r\n  UpdateRsvpRequest,\r\n  CancelEventRequest,\r\n  PostponeEventRequest,\r\n  CreateEventResponse,\r\n  EventImageDto,\r\n  SignUpListDto,\r\n  AddSignUpListRequest,\r\n  CommitToSignUpRequest,\r\n  CancelCommitmentRequest,\r\n  AddSignUpListWithCategoriesRequest,\r\n  AddSignUpItemRequest,\r\n  CommitToSignUpItemRequest,\r\n} from '../types/events.types';\r\nimport type { PagedResult } from '../types/common.types';\r\n\r\n/**\r\n * EventsRepository\r\n * Handles all event-related API calls following the repository pattern\r\n *\r\n * Backend endpoints from EventsController.cs:\r\n * - GET /api/events - Get all events with filters\r\n * - GET /api/events/{id} - Get event by ID\r\n * - GET /api/events/search - Full-text search\r\n * - GET /api/events/nearby - Geospatial search\r\n * - POST /api/events - Create event\r\n * - PUT /api/events/{id} - Update event\r\n * - DELETE /api/events/{id} - Delete event\r\n * - POST /api/events/{id}/rsvp - RSVP to event\r\n * - DELETE /api/events/{id}/rsvp - Cancel RSVP\r\n * - PUT /api/events/{id}/rsvp - Update RSVP\r\n * - GET /api/events/my-rsvps - Get user's RSVPs\r\n * - POST /api/events/{id}/images - Upload image\r\n */\r\nexport class EventsRepository {\r\n  private readonly basePath = '/events';\r\n\r\n  // ==================== PUBLIC QUERIES ====================\r\n\r\n  /**\r\n   * Get all events with optional filtering and location-based sorting\r\n   * Maps to backend GetEventsQuery\r\n   *\r\n   * Location-based sorting:\r\n   * - For authenticated users: Pass userId to sort by preferred metros or home location\r\n   * - For anonymous users: Pass latitude + longitude to sort by coordinates\r\n   * - For specific metro filter: Pass metroAreaIds\r\n   */\r\n  async getEvents(filters: GetEventsRequest = {}): Promise<EventDto[]> {\r\n    const params = new URLSearchParams();\r\n\r\n    // Traditional filters\r\n    if (filters.status !== undefined) params.append('status', String(filters.status));\r\n    if (filters.category !== undefined) params.append('category', String(filters.category));\r\n    if (filters.startDateFrom) params.append('startDateFrom', filters.startDateFrom);\r\n    if (filters.startDateTo) params.append('startDateTo', filters.startDateTo);\r\n    if (filters.isFreeOnly !== undefined) params.append('isFreeOnly', String(filters.isFreeOnly));\r\n    if (filters.city) params.append('city', filters.city);\r\n\r\n    // NEW: Location-based sorting parameters\r\n    if (filters.state) params.append('state', filters.state);\r\n    if (filters.userId) params.append('userId', filters.userId);\r\n    if (filters.latitude !== undefined) params.append('latitude', String(filters.latitude));\r\n    if (filters.longitude !== undefined) params.append('longitude', String(filters.longitude));\r\n    if (filters.metroAreaIds && filters.metroAreaIds.length > 0) {\r\n      // Add each metro area ID as a separate query parameter\r\n      filters.metroAreaIds.forEach(id => params.append('metroAreaIds', id));\r\n    }\r\n\r\n    const queryString = params.toString();\r\n    const url = queryString ? `${this.basePath}?${queryString}` : this.basePath;\r\n\r\n    return await apiClient.get<EventDto[]>(url);\r\n  }\r\n\r\n  /**\r\n   * Get event by ID\r\n   * Maps to backend GetEventByIdQuery\r\n   */\r\n  async getEventById(id: string): Promise<EventDto> {\r\n    return await apiClient.get<EventDto>(`${this.basePath}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Search events using full-text search (PostgreSQL FTS)\r\n   * Returns paginated results with relevance scores\r\n   */\r\n  async searchEvents(request: SearchEventsRequest): Promise<PagedResult<EventSearchResultDto>> {\r\n    const params = new URLSearchParams({\r\n      searchTerm: request.searchTerm,\r\n      page: String(request.page ?? 1),\r\n      pageSize: String(request.pageSize ?? 20),\r\n    });\r\n\r\n    if (request.category !== undefined) params.append('category', String(request.category));\r\n    if (request.isFreeOnly !== undefined) params.append('isFreeOnly', String(request.isFreeOnly));\r\n    if (request.startDateFrom) params.append('startDateFrom', request.startDateFrom);\r\n\r\n    return await apiClient.get<PagedResult<EventSearchResultDto>>(\r\n      `${this.basePath}/search?${params.toString()}`\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get nearby events using geospatial query\r\n   * Maps to backend GetNearbyEventsQuery\r\n   */\r\n  async getNearbyEvents(request: GetNearbyEventsRequest): Promise<EventDto[]> {\r\n    const params = new URLSearchParams({\r\n      latitude: String(request.latitude),\r\n      longitude: String(request.longitude),\r\n      radiusKm: String(request.radiusKm),\r\n    });\r\n\r\n    if (request.category !== undefined) params.append('category', String(request.category));\r\n    if (request.isFreeOnly !== undefined) params.append('isFreeOnly', String(request.isFreeOnly));\r\n    if (request.startDateFrom) params.append('startDateFrom', request.startDateFrom);\r\n\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/nearby?${params.toString()}`);\r\n  }\r\n\r\n  /**\r\n   * Get featured events for landing page\r\n   * Returns up to 4 events sorted by location relevance\r\n   * For authenticated users: Uses preferred metro areas\r\n   * For anonymous users: Uses provided coordinates or default location\r\n   */\r\n  async getFeaturedEvents(\r\n    userId?: string,\r\n    latitude?: number,\r\n    longitude?: number\r\n  ): Promise<EventDto[]> {\r\n    const params = new URLSearchParams();\r\n\r\n    if (userId) params.append('userId', userId);\r\n    if (latitude !== undefined) params.append('latitude', String(latitude));\r\n    if (longitude !== undefined) params.append('longitude', String(longitude));\r\n\r\n    const queryString = params.toString();\r\n    const url = queryString ? `${this.basePath}/featured?${queryString}` : `${this.basePath}/featured`;\r\n\r\n    return await apiClient.get<EventDto[]>(url);\r\n  }\r\n\r\n  // ==================== AUTHENTICATED QUERIES ====================\r\n\r\n  // ==================== AUTHENTICATED MUTATIONS ====================\r\n\r\n  /**\r\n   * Create a new event\r\n   * Requires authentication\r\n   * Maps to backend CreateEventCommand\r\n   * Backend returns the event ID as a plain JSON string\r\n   */\r\n  async createEvent(data: CreateEventRequest): Promise<string> {\r\n    // Backend returns event ID as a plain JSON string (e.g., \"40b297c9-2867-4f6b-900c-b5d0f230efe8\")\r\n    const eventId = await apiClient.post<string>(this.basePath, data);\r\n    return eventId;\r\n  }\r\n\r\n  /**\r\n   * Update an existing event\r\n   * Requires authentication and ownership\r\n   * Maps to backend UpdateEventCommand\r\n   */\r\n  async updateEvent(id: string, data: UpdateEventRequest): Promise<void> {\r\n    await apiClient.put<void>(`${this.basePath}/${id}`, data);\r\n  }\r\n\r\n  /**\r\n   * Delete an event\r\n   * Requires authentication and ownership\r\n   * Only allowed for Draft/Cancelled events\r\n   */\r\n  async deleteEvent(id: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Submit event for approval (if approval workflow is enabled)\r\n   */\r\n  async submitForApproval(id: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${id}/submit`);\r\n  }\r\n\r\n  /**\r\n   * Publish event (make it visible to public)\r\n   * Requires authentication and ownership\r\n   */\r\n  async publishEvent(id: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${id}/publish`);\r\n  }\r\n\r\n  /**\r\n   * Cancel event with reason\r\n   * Notifies all registered users\r\n   */\r\n  async cancelEvent(id: string, reason: string): Promise<void> {\r\n    const request: CancelEventRequest = { reason };\r\n    await apiClient.post<void>(`${this.basePath}/${id}/cancel`, request);\r\n  }\r\n\r\n  /**\r\n   * Postpone event with reason\r\n   * Changes status to Postponed\r\n   */\r\n  async postponeEvent(id: string, reason: string): Promise<void> {\r\n    const request: PostponeEventRequest = { reason };\r\n    await apiClient.post<void>(`${this.basePath}/${id}/postpone`, request);\r\n  }\r\n\r\n  // ==================== RSVP OPERATIONS ====================\r\n\r\n  /**\r\n   * RSVP to an event\r\n   * Creates a registration for the user\r\n   * Maps to backend RsvpToEventCommand\r\n   * NOTE: Backend RsvpRequest only needs userId and quantity (eventId is in URL path)\r\n   */\r\n  async rsvpToEvent(eventId: string, userId: string, quantity: number = 1): Promise<void> {\r\n    const request = { userId, quantity };\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/rsvp`, request);\r\n  }\r\n\r\n  /**\r\n   * Cancel RSVP\r\n   * Removes registration and frees up capacity\r\n   */\r\n  async cancelRsvp(eventId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/rsvp`);\r\n  }\r\n\r\n  /**\r\n   * Update RSVP quantity\r\n   * Changes number of attendees for registration\r\n   */\r\n  async updateRsvp(eventId: string, userId: string, newQuantity: number): Promise<void> {\r\n    const request: UpdateRsvpRequest = { userId, newQuantity };\r\n    await apiClient.put<void>(`${this.basePath}/${eventId}/rsvp`, request);\r\n  }\r\n\r\n  /**\r\n   * Register anonymous attendee for an event\r\n   * No authentication required - for users without accounts\r\n   * Maps to backend RegisterAnonymousAttendeeCommand\r\n   */\r\n  async registerAnonymous(eventId: string, request: AnonymousRegistrationRequest): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/register-anonymous`, request);\r\n  }\r\n\r\n  /**\r\n   * Get current user's RSVPs\r\n   * Epic 1: Backend now returns full EventDto[] instead of RsvpDto[] for better UX\r\n   * Returns all events user has registered for\r\n   */\r\n  async getUserRsvps(): Promise<EventDto[]> {\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/my-rsvps`);\r\n  }\r\n\r\n  /**\r\n   * Get upcoming events for user\r\n   * Returns events happening in the future\r\n   */\r\n  async getUpcomingEvents(): Promise<EventDto[]> {\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/upcoming`);\r\n  }\r\n\r\n  /**\r\n   * Get events created by current user\r\n   * Returns all events user has created as organizer\r\n   */\r\n  async getUserCreatedEvents(): Promise<EventDto[]> {\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/my-events`);\r\n  }\r\n\r\n  // ==================== WAITING LIST ====================\r\n\r\n  /**\r\n   * Add user to waiting list\r\n   * Used when event is at capacity\r\n   */\r\n  async addToWaitingList(eventId: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/waiting-list`);\r\n  }\r\n\r\n  /**\r\n   * Remove user from waiting list\r\n   */\r\n  async removeFromWaitingList(eventId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/waiting-list`);\r\n  }\r\n\r\n  /**\r\n   * Get waiting list for event\r\n   * Returns list of users waiting for spots\r\n   */\r\n  async getWaitingList(eventId: string): Promise<WaitingListEntryDto[]> {\r\n    return await apiClient.get<WaitingListEntryDto[]>(`${this.basePath}/${eventId}/waiting-list`);\r\n  }\r\n\r\n  // ==================== SIGN-UP MANAGEMENT ====================\r\n\r\n  /**\r\n   * Get all sign-up lists for an event\r\n   * Returns sign-up lists with commitments\r\n   * Maps to backend GET /api/events/{id}/signups\r\n   */\r\n  async getEventSignUpLists(eventId: string): Promise<SignUpListDto[]> {\r\n    return await apiClient.get<SignUpListDto[]>(`${this.basePath}/${eventId}/signups`);\r\n  }\r\n\r\n  /**\r\n   * Add a sign-up list to event\r\n   * Organizer-only operation\r\n   * Maps to backend POST /api/events/{id}/signups\r\n   */\r\n  async addSignUpList(eventId: string, request: AddSignUpListRequest): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/signups`, request);\r\n  }\r\n\r\n  /**\r\n   * Remove a sign-up list from event\r\n   * Organizer-only operation\r\n   * Maps to backend DELETE /api/events/{eventId}/signups/{signupId}\r\n   */\r\n  async removeSignUpList(eventId: string, signupId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/signups/${signupId}`);\r\n  }\r\n\r\n  /**\r\n   * Commit to bringing an item to event\r\n   * User commits to sign-up list\r\n   * Maps to backend POST /api/events/{eventId}/signups/{signupId}/commit\r\n   */\r\n  async commitToSignUp(\r\n    eventId: string,\r\n    signupId: string,\r\n    request: CommitToSignUpRequest\r\n  ): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/signups/${signupId}/commit`, request);\r\n  }\r\n\r\n  /**\r\n   * Cancel user's commitment to sign-up list\r\n   * Maps to backend DELETE /api/events/{eventId}/signups/{signupId}/commit\r\n   */\r\n  async cancelCommitment(\r\n    eventId: string,\r\n    signupId: string,\r\n    request: CancelCommitmentRequest\r\n  ): Promise<void> {\r\n    await apiClient.delete<void>(\r\n      `${this.basePath}/${eventId}/signups/${signupId}/commit`,\r\n      { data: request }\r\n    );\r\n  }\r\n\r\n  // ==================== CATEGORY-BASED SIGN-UP MANAGEMENT ====================\r\n\r\n  /**\r\n   * Add a category-based sign-up list to event\r\n   * Organizer-only operation\r\n   * Maps to backend POST /api/events/{id}/signups/categories\r\n   */\r\n  async addSignUpListWithCategories(\r\n    eventId: string,\r\n    request: AddSignUpListWithCategoriesRequest\r\n  ): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/signups/categories`, request);\r\n  }\r\n\r\n  /**\r\n   * Add an item to a category-based sign-up list\r\n   * Organizer-only operation\r\n   * Maps to backend POST /api/events/{eventId}/signups/{signupId}/items\r\n   */\r\n  async addSignUpItem(\r\n    eventId: string,\r\n    signupId: string,\r\n    request: AddSignUpItemRequest\r\n  ): Promise<string> {\r\n    return await apiClient.post<string>(`${this.basePath}/${eventId}/signups/${signupId}/items`, request);\r\n  }\r\n\r\n  /**\r\n   * Remove an item from a category-based sign-up list\r\n   * Organizer-only operation\r\n   * Maps to backend DELETE /api/events/{eventId}/signups/{signupId}/items/{itemId}\r\n   */\r\n  async removeSignUpItem(\r\n    eventId: string,\r\n    signupId: string,\r\n    itemId: string\r\n  ): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/signups/${signupId}/items/${itemId}`);\r\n  }\r\n\r\n  /**\r\n   * User commits to bringing a specific item\r\n   * Maps to backend POST /api/events/{eventId}/signups/{signupId}/items/{itemId}/commit\r\n   */\r\n  async commitToSignUpItem(\r\n    eventId: string,\r\n    signupId: string,\r\n    itemId: string,\r\n    request: CommitToSignUpItemRequest\r\n  ): Promise<void> {\r\n    await apiClient.post<void>(\r\n      `${this.basePath}/${eventId}/signups/${signupId}/items/${itemId}/commit`,\r\n      request\r\n    );\r\n  }\r\n\r\n  // ==================== MEDIA OPERATIONS ====================\r\n\r\n  /**\r\n   * Upload image to event gallery\r\n   * Uses multipart/form-data for file upload\r\n   */\r\n  async uploadEventImage(eventId: string, file: File): Promise<EventImageDto> {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    return await apiClient.postMultipart<EventImageDto>(\r\n      `${this.basePath}/${eventId}/images`,\r\n      formData\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Delete image from event gallery\r\n   */\r\n  async deleteEventImage(eventId: string, imageId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/images/${imageId}`);\r\n  }\r\n\r\n  // ==================== UTILITY OPERATIONS ====================\r\n\r\n  /**\r\n   * Export event as ICS calendar file\r\n   * Returns blob for download\r\n   */\r\n  async getEventIcs(eventId: string): Promise<Blob> {\r\n    // Note: This endpoint returns a file, not JSON\r\n    // Using fetch directly instead of apiClient\r\n    const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\r\n    const response = await fetch(`${baseURL}${this.basePath}/${eventId}/ics`);\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to download ICS file');\r\n    }\r\n\r\n    return await response.blob();\r\n  }\r\n\r\n  /**\r\n   * Record social share for analytics\r\n   * Tracks event sharing on social media\r\n   */\r\n  async recordEventShare(eventId: string, platform?: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/share`, { platform });\r\n  }\r\n\r\n  // ==================== MEDIA MANAGEMENT ====================\r\n\r\n  /**\r\n   * Upload an image to an event\r\n   * Maps to backend POST /api/events/{id}/images\r\n   *\r\n   * @param eventId - Event ID (GUID)\r\n   * @param file - Image file to upload (max 10MB, jpg/png/gif/webp)\r\n   * @returns EventImageDto with image metadata\r\n   */\r\n  async uploadEventImage(eventId: string, file: File): Promise<EventImageDto> {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    // Using fetch directly for multipart/form-data\r\n    const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\r\n    const response = await fetch(`${baseURL}${this.basePath}/${eventId}/images`, {\r\n      method: 'POST',\r\n      body: formData,\r\n      credentials: 'include', // Include cookies for authentication\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({ message: 'Upload failed' }));\r\n      throw new Error(error.message || `Upload failed with status ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  }\r\n\r\n  /**\r\n   * Delete an image from an event\r\n   * Maps to backend DELETE /api/events/{eventId}/images/{imageId}\r\n   *\r\n   * @param eventId - Event ID (GUID)\r\n   * @param imageId - Image ID (GUID)\r\n   */\r\n  async deleteEventImage(eventId: string, imageId: string): Promise<void> {\r\n    await apiClient.delete(`${this.basePath}/${eventId}/images/${imageId}`);\r\n  }\r\n\r\n  /**\r\n   * Replace an existing event image\r\n   * Maps to backend PUT /api/events/{eventId}/images/{imageId}\r\n   *\r\n   * @param eventId - Event ID (GUID)\r\n   * @param imageId - Image ID (GUID) to replace\r\n   * @param file - New image file\r\n   * @returns Updated EventImageDto\r\n   */\r\n  async replaceEventImage(eventId: string, imageId: string, file: File): Promise<EventImageDto> {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\r\n    const response = await fetch(`${baseURL}${this.basePath}/${eventId}/images/${imageId}`, {\r\n      method: 'PUT',\r\n      body: formData,\r\n      credentials: 'include',\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({ message: 'Replace failed' }));\r\n      throw new Error(error.message || `Replace failed with status ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  }\r\n\r\n  /**\r\n   * Reorder event images\r\n   * Maps to backend PUT /api/events/{id}/images/reorder\r\n   *\r\n   * @param eventId - Event ID (GUID)\r\n   * @param newOrders - Map of image ID to new display order (1-indexed)\r\n   */\r\n  async reorderEventImages(eventId: string, newOrders: Record<string, number>): Promise<void> {\r\n    await apiClient.put(`${this.basePath}/${eventId}/images/reorder`, { newOrders });\r\n  }\r\n}\r\n\r\n/**\r\n * Singleton instance of the events repository\r\n * Export for use in React components and hooks\r\n */\r\nexport const eventsRepository = new EventsRepository();\r\n"],"names":[],"mappings":";;;;;;AAAA;;AA8CO,MAAM;IACM,WAAW,UAAU;IAEtC,2DAA2D;IAE3D;;;;;;;;GAQC,GACD,MAAM,UAAU,UAA4B,CAAC,CAAC,EAAuB;QACnE,MAAM,SAAS,IAAI;QAEnB,sBAAsB;QACtB,IAAI,QAAQ,MAAM,KAAK,WAAW,OAAO,MAAM,CAAC,UAAU,OAAO,QAAQ,MAAM;QAC/E,IAAI,QAAQ,QAAQ,KAAK,WAAW,OAAO,MAAM,CAAC,YAAY,OAAO,QAAQ,QAAQ;QACrF,IAAI,QAAQ,aAAa,EAAE,OAAO,MAAM,CAAC,iBAAiB,QAAQ,aAAa;QAC/E,IAAI,QAAQ,WAAW,EAAE,OAAO,MAAM,CAAC,eAAe,QAAQ,WAAW;QACzE,IAAI,QAAQ,UAAU,KAAK,WAAW,OAAO,MAAM,CAAC,cAAc,OAAO,QAAQ,UAAU;QAC3F,IAAI,QAAQ,IAAI,EAAE,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI;QAEpD,yCAAyC;QACzC,IAAI,QAAQ,KAAK,EAAE,OAAO,MAAM,CAAC,SAAS,QAAQ,KAAK;QACvD,IAAI,QAAQ,MAAM,EAAE,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM;QAC1D,IAAI,QAAQ,QAAQ,KAAK,WAAW,OAAO,MAAM,CAAC,YAAY,OAAO,QAAQ,QAAQ;QACrF,IAAI,QAAQ,SAAS,KAAK,WAAW,OAAO,MAAM,CAAC,aAAa,OAAO,QAAQ,SAAS;QACxF,IAAI,QAAQ,YAAY,IAAI,QAAQ,YAAY,CAAC,MAAM,GAAG,GAAG;YAC3D,uDAAuD;YACvD,QAAQ,YAAY,CAAC,OAAO,CAAC,CAAA,KAAM,OAAO,MAAM,CAAC,gBAAgB;QACnE;QAEA,MAAM,cAAc,OAAO,QAAQ;QACnC,MAAM,MAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,aAAa,GAAG,IAAI,CAAC,QAAQ;QAE3E,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAa;IACzC;IAEA;;;GAGC,GACD,MAAM,aAAa,EAAU,EAAqB;QAChD,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI;IAC/D;IAEA;;;GAGC,GACD,MAAM,aAAa,OAA4B,EAA8C;QAC3F,MAAM,SAAS,IAAI,gBAAgB;YACjC,YAAY,QAAQ,UAAU;YAC9B,MAAM,OAAO,QAAQ,IAAI,IAAI;YAC7B,UAAU,OAAO,QAAQ,QAAQ,IAAI;QACvC;QAEA,IAAI,QAAQ,QAAQ,KAAK,WAAW,OAAO,MAAM,CAAC,YAAY,OAAO,QAAQ,QAAQ;QACrF,IAAI,QAAQ,UAAU,KAAK,WAAW,OAAO,MAAM,CAAC,cAAc,OAAO,QAAQ,UAAU;QAC3F,IAAI,QAAQ,aAAa,EAAE,OAAO,MAAM,CAAC,iBAAiB,QAAQ,aAAa;QAE/E,OAAO,MAAM,oKAAS,CAAC,GAAG,CACxB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,QAAQ,IAAI;IAElD;IAEA;;;GAGC,GACD,MAAM,gBAAgB,OAA+B,EAAuB;QAC1E,MAAM,SAAS,IAAI,gBAAgB;YACjC,UAAU,OAAO,QAAQ,QAAQ;YACjC,WAAW,OAAO,QAAQ,SAAS;YACnC,UAAU,OAAO,QAAQ,QAAQ;QACnC;QAEA,IAAI,QAAQ,QAAQ,KAAK,WAAW,OAAO,MAAM,CAAC,YAAY,OAAO,QAAQ,QAAQ;QACrF,IAAI,QAAQ,UAAU,KAAK,WAAW,OAAO,MAAM,CAAC,cAAc,OAAO,QAAQ,UAAU;QAC3F,IAAI,QAAQ,aAAa,EAAE,OAAO,MAAM,CAAC,iBAAiB,QAAQ,aAAa;QAE/E,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,QAAQ,IAAI;IACvF;IAEA;;;;;GAKC,GACD,MAAM,kBACJ,MAAe,EACf,QAAiB,EACjB,SAAkB,EACG;QACrB,MAAM,SAAS,IAAI;QAEnB,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;QACpC,IAAI,aAAa,WAAW,OAAO,MAAM,CAAC,YAAY,OAAO;QAC7D,IAAI,cAAc,WAAW,OAAO,MAAM,CAAC,aAAa,OAAO;QAE/D,MAAM,cAAc,OAAO,QAAQ;QACnC,MAAM,MAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,aAAa,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;QAElG,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAa;IACzC;IAEA,kEAAkE;IAElE,oEAAoE;IAEpE;;;;;GAKC,GACD,MAAM,YAAY,IAAwB,EAAmB;QAC3D,iGAAiG;QACjG,MAAM,UAAU,MAAM,oKAAS,CAAC,IAAI,CAAS,IAAI,CAAC,QAAQ,EAAE;QAC5D,OAAO;IACT;IAEA;;;;GAIC,GACD,MAAM,YAAY,EAAU,EAAE,IAAwB,EAAiB;QACrE,MAAM,oKAAS,CAAC,GAAG,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE;IACtD;IAEA;;;;GAIC,GACD,MAAM,YAAY,EAAU,EAAiB;QAC3C,MAAM,oKAAS,CAAC,MAAM,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI;IACvD;IAEA;;GAEC,GACD,MAAM,kBAAkB,EAAU,EAAiB;QACjD,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,OAAO,CAAC;IAC5D;IAEA;;;GAGC,GACD,MAAM,aAAa,EAAU,EAAiB;QAC5C,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,QAAQ,CAAC;IAC7D;IAEA;;;GAGC,GACD,MAAM,YAAY,EAAU,EAAE,MAAc,EAAiB;QAC3D,MAAM,UAA8B;YAAE;QAAO;QAC7C,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE;IAC9D;IAEA;;;GAGC,GACD,MAAM,cAAc,EAAU,EAAE,MAAc,EAAiB;QAC7D,MAAM,UAAgC;YAAE;QAAO;QAC/C,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;IAChE;IAEA,4DAA4D;IAE5D;;;;;GAKC,GACD,MAAM,YAAY,OAAe,EAAE,MAAc,EAAE,WAAmB,CAAC,EAAiB;QACtF,MAAM,UAAU;YAAE;YAAQ;QAAS;QACnC,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,EAAE;IACjE;IAEA;;;GAGC,GACD,MAAM,WAAW,OAAe,EAAiB;QAC/C,MAAM,oKAAS,CAAC,MAAM,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC;IACjE;IAEA;;;GAGC,GACD,MAAM,WAAW,OAAe,EAAE,MAAc,EAAE,WAAmB,EAAiB;QACpF,MAAM,UAA6B;YAAE;YAAQ;QAAY;QACzD,MAAM,oKAAS,CAAC,GAAG,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,EAAE;IAChE;IAEA;;;;GAIC,GACD,MAAM,kBAAkB,OAAe,EAAE,OAAqC,EAAiB;QAC7F,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,mBAAmB,CAAC,EAAE;IAC/E;IAEA;;;;GAIC,GACD,MAAM,eAAoC;QACxC,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;IACpE;IAEA;;;GAGC,GACD,MAAM,oBAAyC;QAC7C,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;IACpE;IAEA;;;GAGC,GACD,MAAM,uBAA4C;QAChD,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;IACrE;IAEA,yDAAyD;IAEzD;;;GAGC,GACD,MAAM,iBAAiB,OAAe,EAAiB;QACrD,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,aAAa,CAAC;IACvE;IAEA;;GAEC,GACD,MAAM,sBAAsB,OAAe,EAAiB;QAC1D,MAAM,oKAAS,CAAC,MAAM,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,aAAa,CAAC;IACzE;IAEA;;;GAGC,GACD,MAAM,eAAe,OAAe,EAAkC;QACpE,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAwB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,aAAa,CAAC;IAC9F;IAEA,+DAA+D;IAE/D;;;;GAIC,GACD,MAAM,oBAAoB,OAAe,EAA4B;QACnE,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,QAAQ,CAAC;IACnF;IAEA;;;;GAIC,GACD,MAAM,cAAc,OAAe,EAAE,OAA6B,EAAiB;QACjF,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,QAAQ,CAAC,EAAE;IACpE;IAEA;;;;GAIC,GACD,MAAM,iBAAiB,OAAe,EAAE,QAAgB,EAAiB;QACvE,MAAM,oKAAS,CAAC,MAAM,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,UAAU;IAChF;IAEA;;;;GAIC,GACD,MAAM,eACJ,OAAe,EACf,QAAgB,EAChB,OAA8B,EACf;QACf,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,SAAS,OAAO,CAAC,EAAE;IACvF;IAEA;;;GAGC,GACD,MAAM,iBACJ,OAAe,EACf,QAAgB,EAChB,OAAgC,EACjB;QACf,MAAM,oKAAS,CAAC,MAAM,CACpB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,SAAS,OAAO,CAAC,EACxD;YAAE,MAAM;QAAQ;IAEpB;IAEA,8EAA8E;IAE9E;;;;GAIC,GACD,MAAM,4BACJ,OAAe,EACf,OAA2C,EAC5B;QACf,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,mBAAmB,CAAC,EAAE;IAC/E;IAEA;;;;GAIC,GACD,MAAM,cACJ,OAAe,EACf,QAAgB,EAChB,OAA6B,EACZ;QACjB,OAAO,MAAM,oKAAS,CAAC,IAAI,CAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,SAAS,MAAM,CAAC,EAAE;IAC/F;IAEA;;;;GAIC,GACD,MAAM,iBACJ,OAAe,EACf,QAAgB,EAChB,MAAc,EACC;QACf,MAAM,oKAAS,CAAC,MAAM,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,SAAS,OAAO,EAAE,QAAQ;IAChG;IAEA;;;GAGC,GACD,MAAM,mBACJ,OAAe,EACf,QAAgB,EAChB,MAAc,EACd,OAAkC,EACnB;QACf,MAAM,oKAAS,CAAC,IAAI,CAClB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,SAAS,OAAO,EAAE,OAAO,OAAO,CAAC,EACxE;IAEJ;IAEA,6DAA6D;IAE7D;;;GAGC,GACD,MAAM,iBAAiB,OAAe,EAAE,IAAU,EAA0B;QAC1E,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS;QAEzB,OAAO,MAAM,oKAAS,CAAC,aAAa,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,OAAO,CAAC,EACpC;IAEJ;IAEA;;GAEC,GACD,MAAM,iBAAiB,OAAe,EAAE,OAAe,EAAiB;QACtE,MAAM,oKAAS,CAAC,MAAM,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,QAAQ,EAAE,SAAS;IAC9E;IAEA,+DAA+D;IAE/D;;;GAGC,GACD,MAAM,YAAY,OAAe,EAAiB;QAChD,+CAA+C;QAC/C,4CAA4C;QAC5C,MAAM,UAAU,6HAAmC;QACnD,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,IAAI,CAAC;QAExE,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B;IAEA;;;GAGC,GACD,MAAM,iBAAiB,OAAe,EAAE,QAAiB,EAAiB;QACxE,MAAM,oKAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,MAAM,CAAC,EAAE;YAAE;QAAS;IAC7E;IAEA,6DAA6D;IAE7D;;;;;;;GAOC,GACD,MAAM,iBAAiB,OAAe,EAAE,IAAU,EAA0B;QAC1E,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS;QAEzB,+CAA+C;QAC/C,MAAM,UAAU,6HAAmC;QACnD,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,OAAO,CAAC,EAAE;YAC3E,QAAQ;YACR,MAAM;YACN,aAAa;QACf;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;oBAAE,SAAS;gBAAgB,CAAC;YAC7E,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI,CAAC,0BAA0B,EAAE,SAAS,MAAM,EAAE;QACjF;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B;IAEA;;;;;;GAMC,GACD,MAAM,iBAAiB,OAAe,EAAE,OAAe,EAAiB;QACtE,MAAM,oKAAS,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,QAAQ,EAAE,SAAS;IACxE;IAEA;;;;;;;;GAQC,GACD,MAAM,kBAAkB,OAAe,EAAE,OAAe,EAAE,IAAU,EAA0B;QAC5F,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS;QAEzB,MAAM,UAAU,6HAAmC;QACnD,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,QAAQ,EAAE,SAAS,EAAE;YACtF,QAAQ;YACR,MAAM;YACN,aAAa;QACf;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;oBAAE,SAAS;gBAAiB,CAAC;YAC9E,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI,CAAC,2BAA2B,EAAE,SAAS,MAAM,EAAE;QAClF;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B;IAEA;;;;;;GAMC,GACD,MAAM,mBAAmB,OAAe,EAAE,SAAiC,EAAiB;QAC1F,MAAM,oKAAS,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,eAAe,CAAC,EAAE;YAAE;QAAU;IAChF;AACF;AAMO,MAAM,mBAAmB,IAAI","debugId":null}},
    {"offset": {"line": 5430, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/hooks/useEvents.ts"],"sourcesContent":["/**\r\n * Events React Query Hooks\r\n *\r\n * Provides React Query hooks for Events API integration\r\n * Implements caching, optimistic updates, and proper error handling\r\n *\r\n * PREREQUISITES:\r\n * - events.repository.ts must be created in infrastructure/repositories/\r\n * - events.types.ts must be created in infrastructure/api/types/\r\n *\r\n * @requires @tanstack/react-query\r\n * @requires eventsRepository from infrastructure/repositories/events.repository\r\n * @requires Event types from infrastructure/api/types/events.types\r\n */\r\n\r\nimport {\r\n  useQuery,\r\n  useMutation,\r\n  useQueryClient,\r\n  UseQueryOptions,\r\n  UseMutationOptions,\r\n} from '@tanstack/react-query';\r\n\r\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\r\nimport type {\r\n  EventDto,\r\n  GetEventsRequest,\r\n  CreateEventRequest,\r\n  UpdateEventRequest,\r\n  RsvpRequest,\r\n} from '@/infrastructure/api/types/events.types';\r\n\r\nimport { ApiError } from '@/infrastructure/api/client/api-errors';\r\n\r\n/**\r\n * Query Keys for Events\r\n * Centralized query key management for cache invalidation\r\n */\r\nexport const eventKeys = {\r\n  all: ['events'] as const,\r\n  lists: () => [...eventKeys.all, 'list'] as const,\r\n  list: (filters: any) => [...eventKeys.lists(), filters] as const,\r\n  details: () => [...eventKeys.all, 'detail'] as const,\r\n  detail: (id: string) => [...eventKeys.details(), id] as const,\r\n  search: (searchTerm: string) => [...eventKeys.all, 'search', searchTerm] as const,\r\n  featured: (userId?: string, lat?: number, lng?: number) => [...eventKeys.all, 'featured', { userId, lat, lng }] as const,\r\n};\r\n\r\n/**\r\n * useEvents Hook\r\n *\r\n * Fetches a list of events with optional filters\r\n *\r\n * Features:\r\n * - Automatic caching with 5-minute stale time\r\n * - Refetch on window focus\r\n * - Proper error handling with ApiError types\r\n * - Query key includes filters for granular cache control\r\n *\r\n * @param filters - Optional filters for events (location, date, category, etc.)\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * const { data, isLoading, error } = useEvents({\r\n *   metroArea: 'colombo',\r\n *   startDate: '2024-01-01',\r\n *   category: 'cultural'\r\n * });\r\n * ```\r\n */\r\nexport function useEvents(\r\n  filters?: GetEventsRequest,\r\n  options?: Omit<UseQueryOptions<EventDto[], ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.list(filters || {}),\r\n    queryFn: async () => {\r\n      const result = await eventsRepository.getEvents(filters);\r\n      return result;\r\n    },\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n    refetchOnWindowFocus: true,\r\n    retry: 1, // Only retry once\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useEventById Hook\r\n *\r\n * Fetches a single event by ID\r\n *\r\n * Features:\r\n * - Caches individual event details\r\n * - Longer stale time (10 minutes) for detail pages\r\n * - Automatic refetch on window focus\r\n * - Enabled only when ID is provided\r\n *\r\n * @param id - Event ID (GUID)\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * const { data: event, isLoading } = useEventById(eventId);\r\n * ```\r\n */\r\nexport function useEventById(\r\n  id: string | undefined,\r\n  options?: Omit<UseQueryOptions<EventDto, ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.detail(id || ''),\r\n    queryFn: () => eventsRepository.getEventById(id!),\r\n    enabled: !!id, // Only fetch when ID is provided\r\n    staleTime: 10 * 60 * 1000, // 10 minutes\r\n    refetchOnWindowFocus: true,\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useSearchEvents Hook\r\n *\r\n * Searches events by search term\r\n *\r\n * Features:\r\n * - Debounced search (implement debouncing in component)\r\n * - Separate cache for search results\r\n * - 2-minute stale time for search results\r\n * - Only enabled when search term is provided\r\n *\r\n * @param searchTerm - Search query string\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * const debouncedSearch = useDebounce(searchTerm, 500);\r\n * const { data: results } = useSearchEvents(debouncedSearch);\r\n * ```\r\n */\r\nexport function useSearchEvents(\r\n  searchTerm: string | undefined,\r\n  options?: Omit<UseQueryOptions<any, ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.search(searchTerm || ''),\r\n    queryFn: () => eventsRepository.searchEvents({\r\n      searchTerm: searchTerm!,\r\n      page: 1,\r\n      pageSize: 20\r\n    }),\r\n    enabled: !!searchTerm && searchTerm.length >= 2, // Only search with 2+ characters\r\n    staleTime: 2 * 60 * 1000, // 2 minutes\r\n    refetchOnWindowFocus: false, // Don't refetch searches on focus\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useFeaturedEvents Hook\r\n *\r\n * Fetches featured events for the landing page\r\n *\r\n * Features:\r\n * - Returns up to 4 events sorted by location relevance\r\n * - For authenticated users: Uses preferred metro areas\r\n * - For anonymous users: Uses provided coordinates or default location\r\n * - 5-minute stale time for landing page performance\r\n * - Automatic refetch on window focus\r\n *\r\n * @param userId - Optional authenticated user ID\r\n * @param latitude - Optional latitude for anonymous users\r\n * @param longitude - Optional longitude for anonymous users\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * // Authenticated user\r\n * const { data: events } = useFeaturedEvents(user?.userId);\r\n *\r\n * // Anonymous user with location\r\n * const { data: events } = useFeaturedEvents(undefined, 34.0522, -118.2437);\r\n * ```\r\n */\r\nexport function useFeaturedEvents(\r\n  userId?: string,\r\n  latitude?: number,\r\n  longitude?: number,\r\n  options?: Omit<UseQueryOptions<EventDto[], ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.featured(userId, latitude, longitude),\r\n    queryFn: () => eventsRepository.getFeaturedEvents(userId, latitude, longitude),\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n    refetchOnWindowFocus: true,\r\n    retry: 1,\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useCreateEvent Hook\r\n *\r\n * Mutation hook for creating a new event\r\n *\r\n * Features:\r\n * - Optimistic updates (optional)\r\n * - Automatic cache invalidation after success\r\n * - Proper error handling\r\n * - Success/error callbacks\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const createEvent = useCreateEvent();\r\n *\r\n * await createEvent.mutateAsync({\r\n *   title: 'New Event',\r\n *   date: '2024-12-01',\r\n *   location: 'Colombo'\r\n * });\r\n * ```\r\n */\r\nexport function useCreateEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (data: CreateEventRequest) => eventsRepository.createEvent(data),\r\n    onSuccess: () => {\r\n      // Invalidate all event lists to refetch with new event\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.lists() });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * useUpdateEvent Hook\r\n *\r\n * Mutation hook for updating an existing event\r\n *\r\n * Features:\r\n * - Optimistic updates\r\n * - Automatic cache invalidation\r\n * - Rollback on error\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const updateEvent = useUpdateEvent();\r\n *\r\n * await updateEvent.mutateAsync({\r\n *   id: 'event-123',\r\n *   title: 'Updated Title'\r\n * });\r\n * ```\r\n */\r\nexport function useUpdateEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({ id, ...data }: { id: string } & UpdateEventRequest) =>\r\n      eventsRepository.updateEvent(id, data),\r\n    onMutate: async ({ id, ...newData }) => {\r\n      // Cancel outgoing refetches\r\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(id) });\r\n\r\n      // Snapshot previous value for rollback\r\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(id));\r\n\r\n      // Optimistically update\r\n      queryClient.setQueryData(eventKeys.detail(id), (old: EventDto | undefined) => {\r\n        if (!old) return old;\r\n        return {\r\n          ...old,\r\n          ...newData,\r\n        };\r\n      });\r\n\r\n      return { previousEvent };\r\n    },\r\n    onError: (err, { id }, context) => {\r\n      // Rollback on error\r\n      if (context?.previousEvent) {\r\n        queryClient.setQueryData(eventKeys.detail(id), context.previousEvent);\r\n      }\r\n    },\r\n    onSuccess: (_data, variables) => {\r\n      // Invalidate affected queries\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.id) });\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.lists() });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * useDeleteEvent Hook\r\n *\r\n * Mutation hook for deleting an event\r\n *\r\n * Features:\r\n * - Immediate cache removal\r\n * - Automatic list invalidation\r\n * - Rollback on error\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const deleteEvent = useDeleteEvent();\r\n *\r\n * await deleteEvent.mutateAsync('event-123');\r\n * ```\r\n */\r\nexport function useDeleteEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (id: string) => eventsRepository.deleteEvent(id),\r\n    onMutate: async (id) => {\r\n      // Cancel queries\r\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(id) });\r\n\r\n      // Snapshot for rollback\r\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(id));\r\n\r\n      // Remove from cache immediately\r\n      queryClient.removeQueries({ queryKey: eventKeys.detail(id) });\r\n\r\n      return { previousEvent };\r\n    },\r\n    onError: (err, id, context) => {\r\n      // Restore on error\r\n      if (context?.previousEvent) {\r\n        queryClient.setQueryData(eventKeys.detail(id), context.previousEvent);\r\n      }\r\n    },\r\n    onSuccess: () => {\r\n      // Invalidate lists\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.lists() });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * useRsvpToEvent Hook\r\n *\r\n * Mutation hook for RSVPing to an event\r\n *\r\n * Features:\r\n * - Optimistic RSVP count update\r\n * - Automatic event detail refetch\r\n * - Rollback on error\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const rsvpToEvent = useRsvpToEvent();\r\n *\r\n * await rsvpToEvent.mutateAsync({\r\n *   eventId: 'event-123',\r\n *   userId: 'user-456',\r\n *   quantity: 1\r\n * });\r\n * ```\r\n */\r\nexport function useRsvpToEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (data: { eventId: string; userId: string; quantity?: number }) =>\r\n      eventsRepository.rsvpToEvent(data.eventId, data.userId, data.quantity),\r\n    onMutate: async ({ eventId }) => {\r\n      // Cancel queries\r\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(eventId) });\r\n\r\n      // Snapshot\r\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(eventId));\r\n\r\n      // Optimistically update RSVP count\r\n      queryClient.setQueryData(eventKeys.detail(eventId), (old: EventDto | undefined) => {\r\n        if (!old) return old;\r\n\r\n        return {\r\n          ...old,\r\n          currentRegistrations: old.currentRegistrations + 1,\r\n        };\r\n      });\r\n\r\n      return { previousEvent };\r\n    },\r\n    onError: (err, { eventId }, context) => {\r\n      // Rollback\r\n      if (context?.previousEvent) {\r\n        queryClient.setQueryData(eventKeys.detail(eventId), context.previousEvent);\r\n      }\r\n    },\r\n    onSuccess: (_data, variables) => {\r\n      // Refetch to get accurate data from server\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * usePrefetchEvent Hook\r\n *\r\n * Utility hook to prefetch an event for better UX\r\n * Useful for hover states or predictive loading\r\n *\r\n * @example\r\n * ```tsx\r\n * const prefetchEvent = usePrefetchEvent();\r\n *\r\n * <Link\r\n *   onMouseEnter={() => prefetchEvent(eventId)}\r\n * >\r\n *   Event Details\r\n * </Link>\r\n * ```\r\n */\r\nexport function usePrefetchEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return (id: string) => {\r\n    queryClient.prefetchQuery({\r\n      queryKey: eventKeys.detail(id),\r\n      queryFn: () => eventsRepository.getEventById(id),\r\n      staleTime: 10 * 60 * 1000,\r\n    });\r\n  };\r\n}\r\n\r\n/**\r\n * useInvalidateEvents Hook\r\n *\r\n * Utility hook to manually invalidate event queries\r\n * Useful for force refresh scenarios\r\n *\r\n * @example\r\n * ```tsx\r\n * const invalidateEvents = useInvalidateEvents();\r\n *\r\n * <button onClick={() => invalidateEvents.all()}>\r\n *   Refresh All Events\r\n * </button>\r\n * ```\r\n */\r\nexport function useInvalidateEvents() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return {\r\n    all: () => queryClient.invalidateQueries({ queryKey: eventKeys.all }),\r\n    lists: () => queryClient.invalidateQueries({ queryKey: eventKeys.lists() }),\r\n    detail: (id: string) => queryClient.invalidateQueries({ queryKey: eventKeys.detail(id) }),\r\n  };\r\n}\r\n\r\n/**\r\n * Export all hooks\r\n */\r\nexport default {\r\n  useEvents,\r\n  useEventById,\r\n  useSearchEvents,\r\n  useFeaturedEvents,\r\n  useCreateEvent,\r\n  useUpdateEvent,\r\n  useDeleteEvent,\r\n  useRsvpToEvent,\r\n  usePrefetchEvent,\r\n  useInvalidateEvents,\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5719, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/hooks/useEventSignUps.ts"],"sourcesContent":["/**\n * Event Sign-Up Management React Query Hooks\n *\n * Provides React Query hooks for Event Sign-Up Lists API integration\n * Implements caching, optimistic updates, and proper error handling\n *\n * @requires @tanstack/react-query\n * @requires eventsRepository from infrastructure/repositories/events.repository\n * @requires SignUp types from infrastructure/api/types/events.types\n */\n\nimport {\n  useQuery,\n  useMutation,\n  useQueryClient,\n  UseQueryOptions,\n} from '@tanstack/react-query';\n\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\nimport type {\n  SignUpListDto,\n  AddSignUpListRequest,\n  CommitToSignUpRequest,\n  CancelCommitmentRequest,\n  AddSignUpListWithCategoriesRequest,\n  AddSignUpItemRequest,\n  CommitToSignUpItemRequest,\n} from '@/infrastructure/api/types/events.types';\n\nimport { ApiError } from '@/infrastructure/api/client/api-errors';\nimport { eventKeys } from './useEvents';\n\n/**\n * Query Keys for Event Sign-Ups\n * Centralized query key management for cache invalidation\n */\nexport const signUpKeys = {\n  all: ['signups'] as const,\n  lists: () => [...signUpKeys.all, 'list'] as const,\n  list: (eventId: string) => [...signUpKeys.lists(), eventId] as const,\n};\n\n/**\n * useEventSignUps Hook\n *\n * Fetches all sign-up lists for a specific event\n *\n * Features:\n * - Automatic caching with 5-minute stale time\n * - Refetch on window focus\n * - Proper error handling with ApiError types\n * - Only enabled when eventId is provided\n *\n * @param eventId - Event ID (GUID)\n * @param options - Additional React Query options\n *\n * @example\n * ```tsx\n * const { data: signUpLists, isLoading, error } = useEventSignUps(eventId);\n * ```\n */\nexport function useEventSignUps(\n  eventId: string | undefined,\n  options?: Omit<UseQueryOptions<SignUpListDto[], ApiError>, 'queryKey' | 'queryFn'>\n) {\n  return useQuery({\n    queryKey: signUpKeys.list(eventId || ''),\n    queryFn: () => eventsRepository.getEventSignUpLists(eventId!),\n    enabled: !!eventId, // Only fetch when eventId is provided\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    refetchOnWindowFocus: true,\n    retry: 1,\n    ...options,\n  });\n}\n\n/**\n * useAddSignUpList Hook\n *\n * Mutation hook for adding a sign-up list to an event (organizer only)\n *\n * Features:\n * - Automatic cache invalidation after success\n * - Proper error handling\n * - Invalidates both sign-up lists and event detail\n *\n * @example\n * ```tsx\n * const addSignUpList = useAddSignUpList();\n *\n * await addSignUpList.mutateAsync({\n *   eventId: 'event-123',\n *   category: 'Food & Drinks',\n *   description: 'Please bring items for the potluck',\n *   signUpType: SignUpType.Predefined,\n *   predefinedItems: ['Appetizers', 'Main Course', 'Desserts']\n * });\n * ```\n */\nexport function useAddSignUpList() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ eventId, ...data }: { eventId: string } & AddSignUpListRequest) =>\n      eventsRepository.addSignUpList(eventId, data),\n    onSuccess: (_data, variables) => {\n      // Invalidate sign-up lists for this event\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n      // Invalidate event detail to reflect updated event\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useRemoveSignUpList Hook\n *\n * Mutation hook for removing a sign-up list from an event (organizer only)\n *\n * Features:\n * - Optimistic update (removes from cache immediately)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const removeSignUpList = useRemoveSignUpList();\n *\n * await removeSignUpList.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456'\n * });\n * ```\n */\nexport function useRemoveSignUpList() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ eventId, signupId }: { eventId: string; signupId: string }) =>\n      eventsRepository.removeSignUpList(eventId, signupId),\n    onMutate: async ({ eventId, signupId }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      // Snapshot for rollback\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically remove from cache\n      queryClient.setQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId),\n        (old) => old?.filter((s) => s.id !== signupId) || []\n      );\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      // Invalidate to ensure consistency\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useCommitToSignUp Hook\n *\n * Mutation hook for user to commit to bringing an item\n *\n * Features:\n * - Optimistic update (adds commitment to cache immediately)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const commitToSignUp = useCommitToSignUp();\n *\n * await commitToSignUp.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   userId: 'user-789',\n *   itemDescription: 'Vegetable Salad',\n *   quantity: 1\n * });\n * ```\n */\nexport function useCommitToSignUp() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n    } & CommitToSignUpRequest) => eventsRepository.commitToSignUp(eventId, signupId, data),\n    onMutate: async ({ eventId, signupId, userId, itemDescription, quantity }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      // Snapshot for rollback\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically add commitment\n      queryClient.setQueryData<SignUpListDto[]>(signUpKeys.list(eventId), (old) => {\n        if (!old) return old;\n\n        return old.map((signUp) => {\n          if (signUp.id !== signupId) return signUp;\n\n          return {\n            ...signUp,\n            commitments: [\n              ...signUp.commitments,\n              {\n                id: `temp-${Date.now()}`, // Temporary ID until server responds\n                userId,\n                itemDescription,\n                quantity,\n                committedAt: new Date().toISOString(),\n              },\n            ],\n            commitmentCount: signUp.commitmentCount + 1,\n          };\n        });\n      });\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      // Refetch to get accurate data from server (with real IDs)\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useCancelCommitment Hook\n *\n * Mutation hook for user to cancel their commitment\n *\n * Features:\n * - Optimistic update (removes commitment from cache immediately)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const cancelCommitment = useCancelCommitment();\n *\n * await cancelCommitment.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   userId: 'user-789'\n * });\n * ```\n */\nexport function useCancelCommitment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n    } & CancelCommitmentRequest) => eventsRepository.cancelCommitment(eventId, signupId, data),\n    onMutate: async ({ eventId, signupId, userId }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      // Snapshot for rollback\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically remove commitment\n      queryClient.setQueryData<SignUpListDto[]>(signUpKeys.list(eventId), (old) => {\n        if (!old) return old;\n\n        return old.map((signUp) => {\n          if (signUp.id !== signupId) return signUp;\n\n          return {\n            ...signUp,\n            commitments: signUp.commitments.filter((c) => c.userId !== userId),\n            commitmentCount: Math.max(0, signUp.commitmentCount - 1),\n          };\n        });\n      });\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      // Refetch to ensure consistency\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n// ==================== CATEGORY-BASED SIGN-UP HOOKS ====================\n\n/**\n * useAddSignUpListWithCategories Hook\n *\n * Mutation hook for adding a category-based sign-up list (organizer only)\n *\n * Features:\n * - Automatic cache invalidation after success\n * - Proper error handling\n * - Invalidates sign-up lists and event detail\n *\n * @example\n * ```tsx\n * const addCategoryList = useAddSignUpListWithCategories();\n *\n * await addCategoryList.mutateAsync({\n *   eventId: 'event-123',\n *   category: 'Potluck Items',\n *   description: 'Bring food for the community potluck',\n *   hasMandatoryItems: true,\n *   hasPreferredItems: true,\n *   hasSuggestedItems: false\n * });\n * ```\n */\nexport function useAddSignUpListWithCategories() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      ...data\n    }: { eventId: string } & AddSignUpListWithCategoriesRequest) =>\n      eventsRepository.addSignUpListWithCategories(eventId, data),\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useAddSignUpItem Hook\n *\n * Mutation hook for adding an item to a category-based sign-up list (organizer only)\n *\n * Features:\n * - Returns the newly created item ID\n * - Optimistic update adds item to cache\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const addItem = useAddSignUpItem();\n *\n * const itemId = await addItem.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   itemDescription: 'Rice (5 cups)',\n *   quantity: 2,\n *   itemCategory: SignUpItemCategory.Mandatory,\n *   notes: 'Basmati preferred'\n * });\n * ```\n */\nexport function useAddSignUpItem() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n    } & AddSignUpItemRequest) => eventsRepository.addSignUpItem(eventId, signupId, data),\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useRemoveSignUpItem Hook\n *\n * Mutation hook for removing an item from a category-based sign-up list (organizer only)\n *\n * Features:\n * - Optimistic update removes item from cache\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const removeItem = useRemoveSignUpItem();\n *\n * await removeItem.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   itemId: 'item-789'\n * });\n * ```\n */\nexport function useRemoveSignUpItem() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      itemId,\n    }: {\n      eventId: string;\n      signupId: string;\n      itemId: string;\n    }) => eventsRepository.removeSignUpItem(eventId, signupId, itemId),\n    onMutate: async ({ eventId, signupId, itemId }) => {\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically remove item\n      queryClient.setQueryData<SignUpListDto[]>(signUpKeys.list(eventId), (old) => {\n        if (!old) return old;\n\n        return old.map((signUp) => {\n          if (signUp.id !== signupId) return signUp;\n\n          return {\n            ...signUp,\n            items: signUp.items.filter((item) => item.id !== itemId),\n          };\n        });\n      });\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useCommitToSignUpItem Hook\n *\n * Mutation hook for user to commit to bringing a specific item\n *\n * Features:\n * - Optimistic update adds commitment to item\n * - Updates remaining quantity\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const commitToItem = useCommitToSignUpItem();\n *\n * await commitToItem.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   itemId: 'item-789',\n *   userId: 'user-abc',\n *   quantity: 1,\n *   notes: 'Will bring brown rice'\n * });\n * ```\n */\nexport function useCommitToSignUpItem() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      itemId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n      itemId: string;\n    } & CommitToSignUpItemRequest) =>\n      eventsRepository.commitToSignUpItem(eventId, signupId, itemId, data),\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * Export all hooks\n */\nexport default {\n  useEventSignUps,\n  useAddSignUpList,\n  useRemoveSignUpList,\n  useCommitToSignUp,\n  useCancelCommitment,\n  useAddSignUpListWithCategories,\n  useAddSignUpItem,\n  useRemoveSignUpItem,\n  useCommitToSignUpItem,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6012, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/types/events.types.ts"],"sourcesContent":["/**\r\n * Events API Type Definitions\r\n * DTOs matching backend API contracts (LankaConnect.Application.Events.Common)\r\n */\r\n\r\n// ==================== Enums ====================\r\n\r\n/**\r\n * Event status enum matching backend LankaConnect.Domain.Events.Enums.EventStatus\r\n */\r\nexport enum EventStatus {\r\n  Draft = 0,\r\n  Published = 1,\r\n  Active = 2,\r\n  Postponed = 3,\r\n  Cancelled = 4,\r\n  Completed = 5,\r\n  Archived = 6,\r\n  UnderReview = 7,\r\n}\r\n\r\n/**\r\n * Event category enum matching backend LankaConnect.Domain.Events.Enums.EventCategory\r\n */\r\nexport enum EventCategory {\r\n  Religious = 0,\r\n  Cultural = 1,\r\n  Community = 2,\r\n  Educational = 3,\r\n  Social = 4,\r\n  Business = 5,\r\n  Charity = 6,\r\n  Entertainment = 7,\r\n}\r\n\r\n/**\r\n * Registration status enum matching backend LankaConnect.Domain.Events.Enums.RegistrationStatus\r\n */\r\nexport enum RegistrationStatus {\r\n  Pending = 0,\r\n  Confirmed = 1,\r\n  Waitlisted = 2,\r\n  CheckedIn = 3,\r\n  Completed = 4,\r\n  Cancelled = 5,\r\n  Refunded = 6,\r\n}\r\n\r\n/**\r\n * Currency enum matching backend LankaConnect.Domain.Shared.Enums.Currency\r\n */\r\nexport enum Currency {\r\n  USD = 1,\r\n  LKR = 2,\r\n  GBP = 3,\r\n  EUR = 4,\r\n  CAD = 5,\r\n  AUD = 6,\r\n}\r\n\r\n// ==================== Event DTOs ====================\r\n\r\n/**\r\n * Event image DTO\r\n * Matches backend EventImageDto\r\n */\r\nexport interface EventImageDto {\r\n  id: string;\r\n  imageUrl: string;\r\n  displayOrder: number;\r\n  uploadedAt: string;\r\n}\r\n\r\n/**\r\n * Event video DTO\r\n * Matches backend EventVideoDto\r\n */\r\nexport interface EventVideoDto {\r\n  id: string;\r\n  videoUrl: string;\r\n  thumbnailUrl: string;\r\n  duration?: string | null; // ISO 8601 duration (e.g., PT1H30M)\r\n  format: string;\r\n  fileSizeBytes: number;\r\n  displayOrder: number;\r\n  uploadedAt: string;\r\n}\r\n\r\n/**\r\n * Main Event DTO\r\n * Matches backend EventDto from LankaConnect.Application.Events.Common\r\n */\r\nexport interface EventDto {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  startDate: string; // ISO 8601 date-time\r\n  endDate: string; // ISO 8601 date-time\r\n  organizerId: string;\r\n  capacity: number;\r\n  currentRegistrations: number;\r\n  status: EventStatus;\r\n  category: EventCategory;\r\n  createdAt: string;\r\n  updatedAt?: string | null;\r\n\r\n  // Location information (nullable - not all events have physical locations)\r\n  address?: string | null;\r\n  city?: string | null;\r\n  state?: string | null;\r\n  zipCode?: string | null;\r\n  country?: string | null;\r\n  latitude?: number | null;\r\n  longitude?: number | null;\r\n\r\n  // Ticket pricing (nullable - free events)\r\n  ticketPriceAmount?: number | null;\r\n  ticketPriceCurrency?: Currency | null;\r\n  isFree: boolean;\r\n\r\n  // Media galleries (Epic 2 Phase 2)\r\n  images: readonly EventImageDto[];\r\n  videos: readonly EventVideoDto[];\r\n}\r\n\r\n/**\r\n * Event search result DTO with relevance score\r\n * Matches backend EventSearchResultDto\r\n */\r\nexport interface EventSearchResultDto extends EventDto {\r\n  searchRank: number; // PostgreSQL FTS relevance score\r\n}\r\n\r\n/**\r\n * RSVP/Registration DTO\r\n */\r\nexport interface RsvpDto {\r\n  id: string;\r\n  eventId: string;\r\n  userId: string;\r\n  quantity: number;\r\n  status: RegistrationStatus;\r\n  createdAt: string;\r\n  updatedAt?: string | null;\r\n\r\n  // Denormalized event info (optional)\r\n  eventTitle?: string | null;\r\n  eventStartDate?: string | null;\r\n  eventEndDate?: string | null;\r\n  eventStatus?: EventStatus | null;\r\n}\r\n\r\n/**\r\n * Waiting list entry DTO\r\n */\r\nexport interface WaitingListEntryDto {\r\n  id: string;\r\n  eventId: string;\r\n  userId: string;\r\n  addedAt: string;\r\n  position: number;\r\n}\r\n\r\n// ==================== Sign-Up Management ====================\r\n\r\n/**\r\n * Sign-up type enum matching backend SignUpType\r\n */\r\nexport enum SignUpType {\r\n  Open = 0,\r\n  Predefined = 1,\r\n}\r\n\r\n/**\r\n * Sign-up item category enum matching backend SignUpItemCategory\r\n * For category-based sign-up lists\r\n */\r\nexport enum SignUpItemCategory {\r\n  Mandatory = 0,\r\n  Preferred = 1,\r\n  Suggested = 2,\r\n}\r\n\r\n/**\r\n * Sign-up commitment DTO\r\n * Represents a user's commitment to bring an item to an event\r\n */\r\nexport interface SignUpCommitmentDto {\r\n  id: string;\r\n  signUpItemId?: string | null; // Null for legacy Open sign-ups\r\n  userId: string;\r\n  itemDescription: string;\r\n  quantity: number;\r\n  committedAt: string; // ISO 8601 date-time\r\n  notes?: string | null;\r\n}\r\n\r\n/**\r\n * Sign-up item DTO\r\n * Represents a specific item in a category-based sign-up list\r\n */\r\nexport interface SignUpItemDto {\r\n  id: string;\r\n  itemDescription: string;\r\n  quantity: number;\r\n  remainingQuantity: number;\r\n  itemCategory: SignUpItemCategory;\r\n  notes?: string | null;\r\n  commitments: SignUpCommitmentDto[];\r\n  isFullyCommitted: boolean;\r\n  committedQuantity: number;\r\n}\r\n\r\n/**\r\n * Sign-up list DTO\r\n * Matches backend SignUpListDto - supports both legacy and category-based models\r\n */\r\nexport interface SignUpListDto {\r\n  id: string;\r\n  category: string;\r\n  description: string;\r\n  signUpType: SignUpType;\r\n\r\n  // Legacy fields (for Open/Predefined sign-ups)\r\n  predefinedItems: string[];\r\n  commitments: SignUpCommitmentDto[];\r\n  commitmentCount: number;\r\n\r\n  // New category-based fields\r\n  hasMandatoryItems: boolean;\r\n  hasPreferredItems: boolean;\r\n  hasSuggestedItems: boolean;\r\n  items: SignUpItemDto[];\r\n}\r\n\r\n// ==================== Request DTOs ====================\r\n\r\n/**\r\n * Get events query filters\r\n * Matches backend GetEventsQuery parameters\r\n *\r\n * Location-based sorting parameters:\r\n * - For authenticated users with preferred metros: userId (uses user's preferred metro areas)\r\n * - For authenticated users without preferences: userId (uses user's home location)\r\n * - For anonymous users: latitude + longitude (uses provided coordinates)\r\n * - For specific metro filter: metroAreaIds\r\n */\r\nexport interface GetEventsRequest {\r\n  status?: EventStatus;\r\n  category?: EventCategory;\r\n  startDateFrom?: string; // ISO 8601 date\r\n  startDateTo?: string; // ISO 8601 date\r\n  isFreeOnly?: boolean;\r\n  city?: string;\r\n  state?: string; // NEW: State filter for location-based filtering\r\n  userId?: string; // NEW: Authenticated user ID for location-based sorting\r\n  latitude?: number; // NEW: Latitude for anonymous user location-based sorting\r\n  longitude?: number; // NEW: Longitude for anonymous user location-based sorting\r\n  metroAreaIds?: string[]; // NEW: Specific metro area IDs filter\r\n}\r\n\r\n/**\r\n * Search events request with pagination\r\n */\r\nexport interface SearchEventsRequest {\r\n  searchTerm: string;\r\n  page?: number;\r\n  pageSize?: number;\r\n  category?: EventCategory;\r\n  isFreeOnly?: boolean;\r\n  startDateFrom?: string;\r\n}\r\n\r\n/**\r\n * Get nearby events request (geospatial query)\r\n */\r\nexport interface GetNearbyEventsRequest {\r\n  latitude: number;\r\n  longitude: number;\r\n  radiusKm: number;\r\n  category?: EventCategory;\r\n  isFreeOnly?: boolean;\r\n  startDateFrom?: string;\r\n}\r\n\r\n/**\r\n * Create event request\r\n * Matches backend CreateEventCommand\r\n */\r\nexport interface CreateEventRequest {\r\n  title: string;\r\n  description: string;\r\n  startDate: string;\r\n  endDate: string;\r\n  organizerId: string;\r\n  capacity: number;\r\n  category?: EventCategory;\r\n\r\n  // Location (optional)\r\n  locationAddress?: string;\r\n  locationCity?: string;\r\n  locationState?: string;\r\n  locationZipCode?: string;\r\n  locationCountry?: string;\r\n  locationLatitude?: number;\r\n  locationLongitude?: number;\r\n\r\n  // Ticket Price (optional)\r\n  ticketPriceAmount?: number;\r\n  ticketPriceCurrency?: Currency;\r\n}\r\n\r\n/**\r\n * Update event request\r\n * Matches backend UpdateEventCommand signature exactly\r\n */\r\nexport interface UpdateEventRequest {\r\n  eventId: string;\r\n  title?: string;\r\n  description?: string;\r\n  startDate?: string;\r\n  endDate?: string;\r\n  capacity?: number;\r\n  category?: EventCategory;\r\n\r\n  // Location (with \"Location\" prefix to match backend)\r\n  locationAddress?: string | null;\r\n  locationCity?: string | null;\r\n  locationState?: string | null;\r\n  locationZipCode?: string | null;\r\n  locationCountry?: string | null;\r\n  locationLatitude?: number | null;\r\n  locationLongitude?: number | null;\r\n\r\n  // Pricing (nullable to match C# decimal? and Currency?)\r\n  ticketPriceAmount?: number | null;\r\n  ticketPriceCurrency?: Currency | null;\r\n  // Note: isFree is NOT in backend UpdateEventCommand - backend infers it from ticketPriceAmount\r\n}\r\n\r\n/**\r\n * RSVP to event request\r\n * Matches backend RsvpRequest (eventId comes from URL path parameter)\r\n */\r\nexport interface RsvpRequest {\r\n  userId: string;\r\n  quantity?: number; // Default: 1\r\n}\r\n\r\n/**\r\n * Anonymous registration request\r\n * Matches backend AnonymousRegistrationRequest for unauthenticated event registration\r\n */\r\nexport interface AnonymousRegistrationRequest {\r\n  name: string;\r\n  age: number;\r\n  address: string;\r\n  email: string;\r\n  phoneNumber: string;\r\n  quantity?: number; // Default: 1\r\n}\r\n\r\n/**\r\n * Update RSVP request\r\n */\r\nexport interface UpdateRsvpRequest {\r\n  userId: string;\r\n  newQuantity: number;\r\n}\r\n\r\n/**\r\n * Cancel event request\r\n */\r\nexport interface CancelEventRequest {\r\n  reason: string;\r\n}\r\n\r\n/**\r\n * Postpone event request\r\n */\r\nexport interface PostponeEventRequest {\r\n  reason: string;\r\n}\r\n\r\n/**\r\n * Add sign-up list to event request\r\n */\r\nexport interface AddSignUpListRequest {\r\n  category: string;\r\n  description: string;\r\n  signUpType: SignUpType;\r\n  predefinedItems?: string[];\r\n}\r\n\r\n/**\r\n * Commit to sign-up request\r\n */\r\nexport interface CommitToSignUpRequest {\r\n  userId: string;\r\n  itemDescription: string;\r\n  quantity: number;\r\n}\r\n\r\n/**\r\n * Cancel sign-up commitment request\r\n */\r\nexport interface CancelCommitmentRequest {\r\n  userId: string;\r\n}\r\n\r\n/**\r\n * Add category-based sign-up list request\r\n */\r\nexport interface AddSignUpListWithCategoriesRequest {\r\n  category: string;\r\n  description: string;\r\n  hasMandatoryItems: boolean;\r\n  hasPreferredItems: boolean;\r\n  hasSuggestedItems: boolean;\r\n}\r\n\r\n/**\r\n * Add sign-up item request\r\n */\r\nexport interface AddSignUpItemRequest {\r\n  itemDescription: string;\r\n  quantity: number;\r\n  itemCategory: SignUpItemCategory;\r\n  notes?: string | null;\r\n}\r\n\r\n/**\r\n * Commit to sign-up item request\r\n */\r\nexport interface CommitToSignUpItemRequest {\r\n  userId: string;\r\n  quantity: number;\r\n  notes?: string | null;\r\n}\r\n\r\n// ==================== Response DTOs ====================\r\n\r\n/**\r\n * Create event response\r\n * Returns the newly created event ID\r\n */\r\nexport interface CreateEventResponse {\r\n  id: string;\r\n}\r\n\r\n/**\r\n * Upload event image response\r\n */\r\nexport interface UploadEventImageResponse {\r\n  id: string;\r\n  imageUrl: string;\r\n  displayOrder: number;\r\n  uploadedAt: string;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,kDAAkD;AAElD;;CAEC;;;;;;;;;;;;;;AACM,IAAA,AAAK,qCAAA;;;;;;;;;WAAA;;AAcL,IAAA,AAAK,uCAAA;;;;;;;;;WAAA;;AAcL,IAAA,AAAK,4CAAA;;;;;;;;WAAA;;AAaL,IAAA,AAAK,kCAAA;;;;;;;WAAA;;AAqHL,IAAA,AAAK,oCAAA;;;WAAA;;AASL,IAAA,AAAK,4CAAA;;;;WAAA","debugId":null}},
    {"offset": {"line": 6088, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/events/SignUpManagementSection.tsx"],"sourcesContent":["/**\n * SignUpManagementSection Component\n *\n * Complete UI for Event Sign-Up Management feature\n * Displays sign-up lists with commitments and allows users to commit or cancel\n *\n * Features:\n * - View all sign-up lists for an event\n * - See existing commitments from other users\n * - Commit to bringing items (authenticated users)\n * - Cancel commitments (own commitments only)\n * - Organizer can add/remove sign-up lists\n * - NEW: Category-based sign-ups (Mandatory, Preferred, Suggested)\n * - Backward compatible with legacy Open/Predefined sign-ups\n *\n * @requires useEventSignUps hook\n * @requires useCommitToSignUp, useCancelCommitment mutations\n * @requires useCommitToSignUpItem mutation (category-based)\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport {\n  useEventSignUps,\n  useCommitToSignUp,\n  useCancelCommitment,\n  useAddSignUpList,\n  useRemoveSignUpList,\n  useCommitToSignUpItem,\n} from '@/presentation/hooks/useEventSignUps';\nimport { SignUpType, SignUpItemCategory } from '@/infrastructure/api/types/events.types';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/presentation/components/ui/Card';\nimport { Button } from '@/presentation/components/ui/Button';\n\n/**\n * Props for SignUpManagementSection\n */\ninterface SignUpManagementSectionProps {\n  eventId: string;\n  userId?: string; // Current user ID (undefined if not logged in)\n  isOrganizer?: boolean; // Is current user the event organizer\n}\n\n/**\n * SignUpManagementSection Component\n */\nexport function SignUpManagementSection({\n  eventId,\n  userId,\n  isOrganizer = false,\n}: SignUpManagementSectionProps) {\n  const [commitDialogOpen, setCommitDialogOpen] = useState(false);\n  const [selectedSignUpId, setSelectedSignUpId] = useState<string | null>(null);\n  const [itemDescription, setItemDescription] = useState('');\n  const [quantity, setQuantity] = useState(1);\n\n  // Category-based sign-up state\n  const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n  const [commitQuantity, setCommitQuantity] = useState(1);\n  const [commitNotes, setCommitNotes] = useState('');\n\n  // Fetch sign-up lists\n  const { data: signUpLists, isLoading, error } = useEventSignUps(eventId);\n\n  // Mutations\n  const commitToSignUp = useCommitToSignUp();\n  const cancelCommitment = useCancelCommitment();\n  const commitToSignUpItem = useCommitToSignUpItem();\n\n  // Handle commit to sign-up\n  const handleCommit = async (signUpId: string) => {\n    if (!userId) {\n      alert('Please log in to commit to items');\n      return;\n    }\n\n    if (!itemDescription.trim()) {\n      alert('Please enter an item description');\n      return;\n    }\n\n    try {\n      await commitToSignUp.mutateAsync({\n        eventId,\n        signupId: signUpId,\n        userId,\n        itemDescription: itemDescription.trim(),\n        quantity,\n      });\n\n      // Reset form\n      setItemDescription('');\n      setQuantity(1);\n      setCommitDialogOpen(false);\n      setSelectedSignUpId(null);\n    } catch (err) {\n      console.error('Failed to commit:', err);\n      alert('Failed to commit. Please try again.');\n    }\n  };\n\n  // Handle cancel commitment\n  const handleCancel = async (signUpId: string) => {\n    if (!userId) {\n      return;\n    }\n\n    if (!confirm('Are you sure you want to cancel your commitment?')) {\n      return;\n    }\n\n    try {\n      await cancelCommitment.mutateAsync({\n        eventId,\n        signupId: signUpId,\n        userId,\n      });\n    } catch (err) {\n      console.error('Failed to cancel commitment:', err);\n      alert('Failed to cancel commitment. Please try again.');\n    }\n  };\n\n  // Handle commit to specific item (category-based)\n  const handleCommitToItem = async (signUpId: string, itemId: string) => {\n    if (!userId) {\n      alert('Please log in to commit to items');\n      return;\n    }\n\n    if (commitQuantity < 1) {\n      alert('Please enter a valid quantity');\n      return;\n    }\n\n    try {\n      await commitToSignUpItem.mutateAsync({\n        eventId,\n        signupId: signUpId,\n        itemId,\n        userId,\n        quantity: commitQuantity,\n        notes: commitNotes.trim() || undefined,\n      });\n\n      // Reset form\n      setSelectedItemId(null);\n      setCommitQuantity(1);\n      setCommitNotes('');\n    } catch (err) {\n      console.error('Failed to commit to item:', err);\n      alert('Failed to commit. Please try again.');\n    }\n  };\n\n  // Get category badge color\n  const getCategoryColor = (category: SignUpItemCategory) => {\n    switch (category) {\n      case SignUpItemCategory.Mandatory:\n        return 'bg-red-100 text-red-800 border-red-300';\n      case SignUpItemCategory.Preferred:\n        return 'bg-blue-100 text-blue-800 border-blue-300';\n      case SignUpItemCategory.Suggested:\n        return 'bg-green-100 text-green-800 border-green-300';\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-300';\n    }\n  };\n\n  // Get category label\n  const getCategoryLabel = (category: SignUpItemCategory) => {\n    switch (category) {\n      case SignUpItemCategory.Mandatory:\n        return 'Mandatory';\n      case SignUpItemCategory.Preferred:\n        return 'Preferred';\n      case SignUpItemCategory.Suggested:\n        return 'Suggested';\n      default:\n        return 'Unknown';\n    }\n  };\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"py-8\">\n        <p className=\"text-center text-muted-foreground\">Loading sign-up lists...</p>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"py-8\">\n        <p className=\"text-center text-destructive\">\n          Failed to load sign-up lists. Please try again.\n        </p>\n      </div>\n    );\n  }\n\n  // No sign-up lists\n  if (!signUpLists || signUpLists.length === 0) {\n    return (\n      <div className=\"py-8\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Sign-Up Lists</CardTitle>\n            <CardDescription>\n              No sign-up lists for this event yet.\n              {isOrganizer && ' Create one to let attendees volunteer to bring items!'}\n            </CardDescription>\n          </CardHeader>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-2xl font-bold\">Sign-Up Lists</h2>\n\n      {signUpLists.map((signUpList) => {\n        // Check if current user has committed to this list\n        const userCommitment = signUpList.commitments.find((c) => c.userId === userId);\n\n        // Check if this is a category-based sign-up (has items)\n        const isCategoryBased = signUpList.items && signUpList.items.length > 0;\n\n        return (\n          <Card key={signUpList.id}>\n            <CardHeader>\n              <CardTitle>{signUpList.category}</CardTitle>\n              <CardDescription>{signUpList.description}</CardDescription>\n              <div className=\"text-sm text-muted-foreground\">\n                {isCategoryBased ? (\n                  <div className=\"flex gap-2 flex-wrap mt-2\">\n                    {signUpList.hasMandatoryItems && (\n                      <span className=\"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800\">\n                        Has Mandatory Items\n                      </span>\n                    )}\n                    {signUpList.hasPreferredItems && (\n                      <span className=\"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800\">\n                        Has Preferred Items\n                      </span>\n                    )}\n                    {signUpList.hasSuggestedItems && (\n                      <span className=\"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800\">\n                        Has Suggested Items\n                      </span>\n                    )}\n                  </div>\n                ) : (\n                  <span>Type: {signUpList.signUpType === SignUpType.Predefined ? 'Predefined Items' : 'Open'}</span>\n                )}\n              </div>\n            </CardHeader>\n\n            <CardContent>\n              {/* CATEGORY-BASED SIGN-UPS (NEW) */}\n              {isCategoryBased ? (\n                <div className=\"space-y-6\">\n                  {/* Group items by category */}\n                  {[SignUpItemCategory.Mandatory, SignUpItemCategory.Preferred, SignUpItemCategory.Suggested].map((category) => {\n                    const categoryItems = signUpList.items.filter(item => item.itemCategory === category);\n\n                    if (categoryItems.length === 0) return null;\n\n                    return (\n                      <div key={category} className=\"space-y-3\">\n                        <h4 className=\"font-semibold flex items-center gap-2\">\n                          <span className={`px-2 py-1 rounded text-xs font-medium border ${getCategoryColor(category)}`}>\n                            {getCategoryLabel(category)}\n                          </span>\n                          <span className=\"text-sm text-muted-foreground\">\n                            ({categoryItems.length} {categoryItems.length === 1 ? 'item' : 'items'})\n                          </span>\n                        </h4>\n\n                        <div className=\"space-y-3\">\n                          {categoryItems.map((item) => {\n                            const userItemCommitment = item.commitments.find(c => c.userId === userId);\n                            const remainingQty = item.remainingQuantity;\n                            const percentCommitted = Math.round((item.committedQuantity / item.quantity) * 100);\n\n                            return (\n                              <div key={item.id} className=\"border rounded-lg p-4 space-y-2\">\n                                <div className=\"flex justify-between items-start\">\n                                  <div className=\"flex-1\">\n                                    <p className=\"font-medium\">{item.itemDescription}</p>\n                                    {item.notes && (\n                                      <p className=\"text-sm text-muted-foreground mt-1\">{item.notes}</p>\n                                    )}\n                                  </div>\n                                  <div className=\"text-right ml-4\">\n                                    <p className={`text-sm font-medium ${remainingQty === 0 ? 'text-green-600' : 'text-blue-600'}`}>\n                                      {item.committedQuantity} of {item.quantity} committed\n                                    </p>\n                                    <p className=\"text-xs text-muted-foreground\">\n                                      {remainingQty} remaining\n                                    </p>\n                                  </div>\n                                </div>\n\n                                {/* Progress bar */}\n                                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                                  <div\n                                    className={`h-2 rounded-full ${\n                                      percentCommitted === 100 ? 'bg-green-500' : 'bg-blue-500'\n                                    }`}\n                                    style={{ width: `${percentCommitted}%` }}\n                                  />\n                                </div>\n\n                                {/* Commitments */}\n                                {item.commitments.length > 0 && (\n                                  <div className=\"space-y-1 mt-2\">\n                                    <p className=\"text-xs font-medium text-muted-foreground\">Commitments:</p>\n                                    {item.commitments.map((commitment) => (\n                                      <div key={commitment.id} className=\"text-sm bg-muted p-2 rounded\">\n                                        <div className=\"flex justify-between items-center\">\n                                          <span>Quantity: {commitment.quantity}</span>\n                                          {commitment.userId === userId && (\n                                            <span className=\"text-xs text-blue-600 font-medium\">(You)</span>\n                                          )}\n                                        </div>\n                                        {commitment.notes && (\n                                          <p className=\"text-xs text-muted-foreground mt-1\">Note: {commitment.notes}</p>\n                                        )}\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n\n                                {/* Commit button */}\n                                {!userItemCommitment && userId && remainingQty > 0 && (\n                                  <div className=\"mt-3\">\n                                    {selectedItemId === item.id ? (\n                                      <div className=\"space-y-2\">\n                                        <div>\n                                          <label className=\"block text-sm font-medium mb-1\">\n                                            Quantity (max: {remainingQty})\n                                          </label>\n                                          <input\n                                            type=\"number\"\n                                            min=\"1\"\n                                            max={remainingQty}\n                                            value={commitQuantity}\n                                            onChange={(e) => setCommitQuantity(Math.min(parseInt(e.target.value) || 1, remainingQty))}\n                                            className=\"w-full px-3 py-2 border rounded-md\"\n                                          />\n                                        </div>\n                                        <div>\n                                          <label className=\"block text-sm font-medium mb-1\">\n                                            Notes (optional)\n                                          </label>\n                                          <textarea\n                                            value={commitNotes}\n                                            onChange={(e) => setCommitNotes(e.target.value)}\n                                            placeholder=\"Any additional details...\"\n                                            rows={2}\n                                            className=\"w-full px-3 py-2 border rounded-md\"\n                                          />\n                                        </div>\n                                        <div className=\"flex gap-2\">\n                                          <Button\n                                            onClick={() => handleCommitToItem(signUpList.id, item.id)}\n                                            disabled={commitToSignUpItem.isPending}\n                                            size=\"sm\"\n                                          >\n                                            {commitToSignUpItem.isPending ? 'Committing...' : 'Confirm Commitment'}\n                                          </Button>\n                                          <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => {\n                                              setSelectedItemId(null);\n                                              setCommitQuantity(1);\n                                              setCommitNotes('');\n                                            }}\n                                          >\n                                            Cancel\n                                          </Button>\n                                        </div>\n                                      </div>\n                                    ) : (\n                                      <Button\n                                        onClick={() => {\n                                          setSelectedItemId(item.id);\n                                          setCommitQuantity(Math.min(1, remainingQty));\n                                        }}\n                                        size=\"sm\"\n                                        variant=\"outline\"\n                                      >\n                                        I can bring this\n                                      </Button>\n                                    )}\n                                  </div>\n                                )}\n\n                                {!userId && remainingQty > 0 && (\n                                  <p className=\"text-xs text-muted-foreground mt-2\">\n                                    Please log in to commit to this item\n                                  </p>\n                                )}\n\n                                {userItemCommitment && (\n                                  <div className=\"mt-2 p-2 bg-blue-50 border border-blue-200 rounded\">\n                                    <p className=\"text-sm font-medium text-blue-800\">\n                                      You committed to bring {userItemCommitment.quantity} of this item\n                                    </p>\n                                  </div>\n                                )}\n\n                                {remainingQty === 0 && !userItemCommitment && (\n                                  <div className=\"mt-2 p-2 bg-green-50 border border-green-200 rounded\">\n                                    <p className=\"text-sm font-medium text-green-800\">\n                                      ‚úì Fully committed - Thank you everyone!\n                                    </p>\n                                  </div>\n                                )}\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : (\n                /* LEGACY OPEN/PREDEFINED SIGN-UPS */\n                <>\n                  {/* Predefined items */}\n                  {signUpList.signUpType === SignUpType.Predefined && signUpList.predefinedItems.length > 0 && (\n                    <div className=\"mb-4\">\n                      <h4 className=\"font-semibold mb-2\">Suggested Items:</h4>\n                      <ul className=\"list-disc list-inside text-sm text-muted-foreground\">\n                        {signUpList.predefinedItems.map((item, index) => (\n                          <li key={index}>{item}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Existing commitments */}\n                  {signUpList.commitments.length > 0 ? (\n                    <div>\n                      <h4 className=\"font-semibold mb-2\">\n                        Commitments ({signUpList.commitmentCount}):\n                      </h4>\n                      <div className=\"space-y-2\">\n                        {signUpList.commitments.map((commitment) => (\n                          <div\n                            key={commitment.id}\n                            className=\"flex justify-between items-center p-2 bg-muted rounded-md\"\n                          >\n                            <div>\n                              <p className=\"font-medium\">{commitment.itemDescription}</p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                Quantity: {commitment.quantity}\n                              </p>\n                            </div>\n                            {commitment.userId === userId && (\n                              <Button\n                                variant=\"destructive\"\n                                size=\"sm\"\n                                onClick={() => handleCancel(signUpList.id)}\n                                disabled={cancelCommitment.isPending}\n                              >\n                                {cancelCommitment.isPending ? 'Canceling...' : 'Cancel'}\n                              </Button>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground\">No commitments yet. Be the first!</p>\n                  )}\n                </>\n              )}\n            </CardContent>\n\n            {/* Footer only for legacy sign-ups */}\n            {!isCategoryBased && (\n              <CardFooter>\n                {!userCommitment && userId && (\n                  <div className=\"w-full space-y-3\">\n                    {selectedSignUpId === signUpList.id ? (\n                      <div className=\"space-y-3\">\n                        <div>\n                          <label className=\"block text-sm font-medium mb-1\">\n                            Item Description *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={itemDescription}\n                            onChange={(e) => setItemDescription(e.target.value)}\n                            placeholder=\"What will you bring?\"\n                            className=\"w-full px-3 py-2 border rounded-md\"\n                          />\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium mb-1\">Quantity</label>\n                          <input\n                            type=\"number\"\n                            min=\"1\"\n                            value={quantity}\n                            onChange={(e) => setQuantity(parseInt(e.target.value) || 1)}\n                            className=\"w-full px-3 py-2 border rounded-md\"\n                          />\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            onClick={() => handleCommit(signUpList.id)}\n                            disabled={commitToSignUp.isPending || !itemDescription.trim()}\n                          >\n                            {commitToSignUp.isPending ? 'Committing...' : 'Confirm'}\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            onClick={() => {\n                              setSelectedSignUpId(null);\n                              setItemDescription('');\n                              setQuantity(1);\n                            }}\n                          >\n                            Cancel\n                          </Button>\n                        </div>\n                      </div>\n                    ) : (\n                      <Button onClick={() => setSelectedSignUpId(signUpList.id)}>\n                        I can bring something\n                      </Button>\n                    )}\n                  </div>\n                )}\n                {!userId && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Please log in to commit to items\n                  </p>\n                )}\n              </CardFooter>\n            )}\n          </Card>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default SignUpManagementSection;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7057, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/hooks/useImageUpload.ts"],"sourcesContent":["/**\n * Image Upload React Query Hook\n * Phase 6A.9: Azure Blob Image Upload System\n *\n * Provides React Query hooks for image upload/delete operations\n * Integrates with Azure Blob Storage via events repository\n *\n * Features:\n * - File validation (size, type, magic numbers)\n * - Optimistic UI updates\n * - Progress tracking\n * - Error handling with rollback\n * - Automatic cache invalidation\n *\n * @requires @tanstack/react-query\n * @requires eventsRepository from infrastructure/api/repositories/events.repository\n * @requires Image upload types from infrastructure/api/types/image-upload.types\n */\n\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useState, useCallback } from 'react';\n\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\nimport { eventKeys } from './useEvents';\nimport type {\n  IMAGE_UPLOAD_CONSTRAINTS,\n  ImageValidationResult,\n  UseImageUploadOptions,\n} from '@/infrastructure/api/types/image-upload.types';\nimport type { EventImageDto } from '@/infrastructure/api/types/events.types';\n\n/**\n * Image upload validation constraints\n * Matches backend validation rules (ImageService.cs)\n */\nconst VALIDATION_CONSTRAINTS = {\n  MAX_FILE_SIZE: 10 * 1024 * 1024, // 10 MB\n  ALLOWED_MIME_TYPES: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\n  ALLOWED_EXTENSIONS: ['.jpg', '.jpeg', '.png', '.gif', '.webp'],\n  MAX_IMAGES_PER_EVENT: 10,\n};\n\n/**\n * Validates image file before upload\n * Checks file size, MIME type, and extension\n *\n * @param file - File to validate\n * @returns Validation result with errors if any\n */\nfunction validateImageFile(file: File): ImageValidationResult {\n  const errors: string[] = [];\n\n  // Check file size\n  if (file.size > VALIDATION_CONSTRAINTS.MAX_FILE_SIZE) {\n    const sizeMB = VALIDATION_CONSTRAINTS.MAX_FILE_SIZE / (1024 * 1024);\n    errors.push(`File size exceeds maximum allowed size of ${sizeMB} MB`);\n  }\n\n  // Check MIME type\n  if (!VALIDATION_CONSTRAINTS.ALLOWED_MIME_TYPES.includes(file.type)) {\n    errors.push(\n      `Invalid file type. Allowed types: ${VALIDATION_CONSTRAINTS.ALLOWED_MIME_TYPES.join(', ')}`\n    );\n  }\n\n  // Check file extension\n  const extension = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();\n  if (!VALIDATION_CONSTRAINTS.ALLOWED_EXTENSIONS.includes(extension)) {\n    errors.push(\n      `Invalid file extension. Allowed extensions: ${VALIDATION_CONSTRAINTS.ALLOWED_EXTENSIONS.join(', ')}`\n    );\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Validates multiple image files\n *\n * @param files - Files to validate\n * @returns Validation result for all files\n */\nfunction validateImageFiles(files: File[]): ImageValidationResult {\n  const allErrors: string[] = [];\n\n  // Check if too many files\n  if (files.length > VALIDATION_CONSTRAINTS.MAX_IMAGES_PER_EVENT) {\n    allErrors.push(\n      `Too many files. Maximum ${VALIDATION_CONSTRAINTS.MAX_IMAGES_PER_EVENT} images allowed per event`\n    );\n  }\n\n  // Validate each file\n  files.forEach((file, index) => {\n    const result = validateImageFile(file);\n    if (!result.isValid) {\n      result.errors.forEach((error) => {\n        allErrors.push(`File ${index + 1} (${file.name}): ${error}`);\n      });\n    }\n  });\n\n  return {\n    isValid: allErrors.length === 0,\n    errors: allErrors,\n  };\n}\n\n/**\n * useUploadEventImage Hook\n *\n * Mutation hook for uploading a single image to an event\n *\n * Features:\n * - File validation before upload\n * - Optimistic image addition to gallery\n * - Automatic cache invalidation\n * - Error rollback\n *\n * @param options - Success/error callbacks\n *\n * @example\n * ```tsx\n * const uploadImage = useUploadEventImage({\n *   onSuccess: (imageDto) => console.log('Uploaded:', imageDto.imageUrl),\n *   onError: (error) => console.error('Upload failed:', error)\n * });\n *\n * await uploadImage.mutateAsync({ eventId: '123', file });\n * ```\n */\nexport function useUploadEventImage(options?: UseImageUploadOptions) {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async ({ eventId, file }: { eventId: string; file: File }) => {\n      // Validate before upload\n      const validation = validateImageFile(file);\n      if (!validation.isValid) {\n        throw new Error(validation.errors.join('; '));\n      }\n\n      // Upload to backend (Azure Blob Storage via API)\n      const imageDto = await eventsRepository.uploadEventImage(eventId, file);\n      return imageDto;\n    },\n    onMutate: async ({ eventId, file }) => {\n      // Cancel outgoing queries\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(eventId) });\n\n      // Snapshot for rollback\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(eventId));\n\n      // Optimistically add image with temporary preview URL\n      const previewUrl = URL.createObjectURL(file);\n      queryClient.setQueryData(eventKeys.detail(eventId), (old: any) => {\n        if (!old) return old;\n\n        const tempImage: EventImageDto = {\n          id: 'temp-' + Date.now(),\n          imageUrl: previewUrl,\n          displayOrder: (old.images?.length || 0) + 1,\n          uploadedAt: new Date().toISOString(),\n        };\n\n        return {\n          ...old,\n          images: [...(old.images || []), tempImage],\n        };\n      });\n\n      return { previousEvent, previewUrl };\n    },\n    onError: (error, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousEvent) {\n        queryClient.setQueryData(eventKeys.detail(eventId), context.previousEvent);\n      }\n\n      // Revoke preview URL\n      if (context?.previewUrl) {\n        URL.revokeObjectURL(context.previewUrl);\n      }\n\n      // Call error callback\n      if (options?.onError) {\n        options.onError(error instanceof Error ? error.message : 'Upload failed');\n      }\n    },\n    onSuccess: (imageDto, { eventId }, context) => {\n      // Revoke preview URL (replaced with real URL from backend)\n      if (context?.previewUrl) {\n        URL.revokeObjectURL(context.previewUrl);\n      }\n\n      // Invalidate event detail to refetch with real image data\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(eventId) });\n\n      // Call success callback\n      if (options?.onSuccess) {\n        options.onSuccess(imageDto.imageUrl);\n      }\n    },\n  });\n}\n\n/**\n * useDeleteEventImage Hook\n *\n * Mutation hook for deleting an image from event gallery\n *\n * Features:\n * - Optimistic removal from gallery\n * - Automatic cache invalidation\n * - Error rollback\n *\n * @example\n * ```tsx\n * const deleteImage = useDeleteEventImage();\n *\n * await deleteImage.mutateAsync({\n *   eventId: '123',\n *   imageId: 'img-456'\n * });\n * ```\n */\nexport function useDeleteEventImage() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ eventId, imageId }: { eventId: string; imageId: string }) =>\n      eventsRepository.deleteEventImage(eventId, imageId),\n    onMutate: async ({ eventId, imageId }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(eventId) });\n\n      // Snapshot for rollback\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(eventId));\n\n      // Optimistically remove image from gallery\n      queryClient.setQueryData(eventKeys.detail(eventId), (old: any) => {\n        if (!old) return old;\n\n        return {\n          ...old,\n          images: (old.images || []).filter((img: EventImageDto) => img.id !== imageId),\n        };\n      });\n\n      return { previousEvent };\n    },\n    onError: (error, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousEvent) {\n        queryClient.setQueryData(eventKeys.detail(eventId), context.previousEvent);\n      }\n    },\n    onSuccess: (_data, { eventId }) => {\n      // Invalidate event detail to ensure consistency\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(eventId) });\n    },\n  });\n}\n\n/**\n * useImageUpload Hook (Convenience wrapper)\n *\n * Combines upload and delete mutations with validation utilities\n * Provides state management for upload progress and errors\n *\n * @param options - Configuration options\n *\n * @example\n * ```tsx\n * const {\n *   uploadImage,\n *   deleteImage,\n *   validateImage,\n *   isUploading,\n *   error\n * } = useImageUpload({\n *   onSuccess: (url) => console.log('Image uploaded:', url)\n * });\n *\n * // Validate before showing file picker\n * const validation = validateImage(file);\n * if (!validation.isValid) {\n *   alert(validation.errors.join('\\n'));\n *   return;\n * }\n *\n * // Upload\n * await uploadImage(file, eventId);\n * ```\n */\nexport function useImageUpload(options?: UseImageUploadOptions) {\n  const [error, setError] = useState<string | null>(null);\n  const [uploadProgress, setUploadProgress] = useState<number>(0);\n\n  const uploadMutation = useUploadEventImage({\n    ...options,\n    onError: (errorMsg) => {\n      setError(errorMsg);\n      options?.onError?.(errorMsg);\n    },\n    onSuccess: (imageUrl) => {\n      setError(null);\n      setUploadProgress(100);\n      options?.onSuccess?.(imageUrl);\n    },\n  });\n\n  const deleteMutation = useDeleteEventImage();\n\n  const uploadImage = useCallback(\n    async (file: File, eventId: string) => {\n      setError(null);\n      setUploadProgress(0);\n\n      try {\n        // Simulate progress (actual progress tracking would require backend support)\n        const progressInterval = setInterval(() => {\n          setUploadProgress((prev) => Math.min(prev + 10, 90));\n        }, 200);\n\n        await uploadMutation.mutateAsync({ eventId, file });\n\n        clearInterval(progressInterval);\n        setUploadProgress(100);\n      } catch (err) {\n        setUploadProgress(0);\n        throw err;\n      }\n    },\n    [uploadMutation]\n  );\n\n  const uploadImages = useCallback(\n    async (files: File[], eventId: string) => {\n      const validation = validateImageFiles(files);\n      if (!validation.isValid) {\n        setError(validation.errors.join('; '));\n        throw new Error(validation.errors.join('; '));\n      }\n\n      // Upload files sequentially\n      for (const file of files) {\n        await uploadImage(file, eventId);\n      }\n    },\n    [uploadImage]\n  );\n\n  const deleteImage = useCallback(\n    async (eventId: string, imageId: string) => {\n      setError(null);\n      await deleteMutation.mutateAsync({ eventId, imageId });\n    },\n    [deleteMutation]\n  );\n\n  const reset = useCallback(() => {\n    setError(null);\n    setUploadProgress(0);\n  }, []);\n\n  return {\n    uploadImage,\n    uploadImages,\n    deleteImage,\n    validateImage: validateImageFile,\n    validateImages: validateImageFiles,\n    isUploading: uploadMutation.isPending || deleteMutation.isPending,\n    uploadProgress,\n    error,\n    reset,\n  };\n}\n\n/**\n * Export all hooks and utilities\n */\nexport default {\n  useUploadEventImage,\n  useDeleteEventImage,\n  useImageUpload,\n  validateImageFile,\n  validateImageFiles,\n  VALIDATION_CONSTRAINTS,\n};\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;CAiBC;;;;;;;;;;AAED;AAAA;AACA;AAEA;AACA;;;;;AAQA;;;CAGC,GACD,MAAM,yBAAyB;IAC7B,eAAe,KAAK,OAAO;IAC3B,oBAAoB;QAAC;QAAc;QAAa;QAAa;KAAa;IAC1E,oBAAoB;QAAC;QAAQ;QAAS;QAAQ;QAAQ;KAAQ;IAC9D,sBAAsB;AACxB;AAEA;;;;;;CAMC,GACD,SAAS,kBAAkB,IAAU;IACnC,MAAM,SAAmB,EAAE;IAE3B,kBAAkB;IAClB,IAAI,KAAK,IAAI,GAAG,uBAAuB,aAAa,EAAE;QACpD,MAAM,SAAS,uBAAuB,aAAa,GAAG,CAAC,OAAO,IAAI;QAClE,OAAO,IAAI,CAAC,CAAC,0CAA0C,EAAE,OAAO,GAAG,CAAC;IACtE;IAEA,kBAAkB;IAClB,IAAI,CAAC,uBAAuB,kBAAkB,CAAC,QAAQ,CAAC,KAAK,IAAI,GAAG;QAClE,OAAO,IAAI,CACT,CAAC,kCAAkC,EAAE,uBAAuB,kBAAkB,CAAC,IAAI,CAAC,OAAO;IAE/F;IAEA,uBAAuB;IACvB,MAAM,YAAY,KAAK,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,MAAM,WAAW;IAC7E,IAAI,CAAC,uBAAuB,kBAAkB,CAAC,QAAQ,CAAC,YAAY;QAClE,OAAO,IAAI,CACT,CAAC,4CAA4C,EAAE,uBAAuB,kBAAkB,CAAC,IAAI,CAAC,OAAO;IAEzG;IAEA,OAAO;QACL,SAAS,OAAO,MAAM,KAAK;QAC3B;IACF;AACF;AAEA;;;;;CAKC,GACD,SAAS,mBAAmB,KAAa;IACvC,MAAM,YAAsB,EAAE;IAE9B,0BAA0B;IAC1B,IAAI,MAAM,MAAM,GAAG,uBAAuB,oBAAoB,EAAE;QAC9D,UAAU,IAAI,CACZ,CAAC,wBAAwB,EAAE,uBAAuB,oBAAoB,CAAC,yBAAyB,CAAC;IAErG;IAEA,qBAAqB;IACrB,MAAM,OAAO,CAAC,CAAC,MAAM;QACnB,MAAM,SAAS,kBAAkB;QACjC,IAAI,CAAC,OAAO,OAAO,EAAE;YACnB,OAAO,MAAM,CAAC,OAAO,CAAC,CAAC;gBACrB,UAAU,IAAI,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,EAAE,OAAO;YAC7D;QACF;IACF;IAEA,OAAO;QACL,SAAS,UAAU,MAAM,KAAK;QAC9B,QAAQ;IACV;AACF;AAyBO,SAAS,oBAAoB,OAA+B;IACjE,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,OAAO,EAAE,OAAO,EAAE,IAAI,EAAmC;YACnE,yBAAyB;YACzB,MAAM,aAAa,kBAAkB;YACrC,IAAI,CAAC,WAAW,OAAO,EAAE;gBACvB,MAAM,IAAI,MAAM,WAAW,MAAM,CAAC,IAAI,CAAC;YACzC;YAEA,iDAAiD;YACjD,MAAM,WAAW,MAAM,wLAAgB,CAAC,gBAAgB,CAAC,SAAS;YAClE,OAAO;QACT;QACA,UAAU,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE;YAChC,0BAA0B;YAC1B,MAAM,YAAY,aAAa,CAAC;gBAAE,UAAU,sJAAS,CAAC,MAAM,CAAC;YAAS;YAEtE,wBAAwB;YACxB,MAAM,gBAAgB,YAAY,YAAY,CAAC,sJAAS,CAAC,MAAM,CAAC;YAEhE,sDAAsD;YACtD,MAAM,aAAa,IAAI,eAAe,CAAC;YACvC,YAAY,YAAY,CAAC,sJAAS,CAAC,MAAM,CAAC,UAAU,CAAC;gBACnD,IAAI,CAAC,KAAK,OAAO;gBAEjB,MAAM,YAA2B;oBAC/B,IAAI,UAAU,KAAK,GAAG;oBACtB,UAAU;oBACV,cAAc,CAAC,IAAI,MAAM,EAAE,UAAU,CAAC,IAAI;oBAC1C,YAAY,IAAI,OAAO,WAAW;gBACpC;gBAEA,OAAO;oBACL,GAAG,GAAG;oBACN,QAAQ;2BAAK,IAAI,MAAM,IAAI,EAAE;wBAAG;qBAAU;gBAC5C;YACF;YAEA,OAAO;gBAAE;gBAAe;YAAW;QACrC;QACA,SAAS,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;YAC5B,oBAAoB;YACpB,IAAI,SAAS,eAAe;gBAC1B,YAAY,YAAY,CAAC,sJAAS,CAAC,MAAM,CAAC,UAAU,QAAQ,aAAa;YAC3E;YAEA,qBAAqB;YACrB,IAAI,SAAS,YAAY;gBACvB,IAAI,eAAe,CAAC,QAAQ,UAAU;YACxC;YAEA,sBAAsB;YACtB,IAAI,SAAS,SAAS;gBACpB,QAAQ,OAAO,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC3D;QACF;QACA,WAAW,CAAC,UAAU,EAAE,OAAO,EAAE,EAAE;YACjC,2DAA2D;YAC3D,IAAI,SAAS,YAAY;gBACvB,IAAI,eAAe,CAAC,QAAQ,UAAU;YACxC;YAEA,0DAA0D;YAC1D,YAAY,iBAAiB,CAAC;gBAAE,UAAU,sJAAS,CAAC,MAAM,CAAC;YAAS;YAEpE,wBAAwB;YACxB,IAAI,SAAS,WAAW;gBACtB,QAAQ,SAAS,CAAC,SAAS,QAAQ;YACrC;QACF;IACF;AACF;AAsBO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY,CAAC,EAAE,OAAO,EAAE,OAAO,EAAwC,GACrE,wLAAgB,CAAC,gBAAgB,CAAC,SAAS;QAC7C,UAAU,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE;YACnC,iBAAiB;YACjB,MAAM,YAAY,aAAa,CAAC;gBAAE,UAAU,sJAAS,CAAC,MAAM,CAAC;YAAS;YAEtE,wBAAwB;YACxB,MAAM,gBAAgB,YAAY,YAAY,CAAC,sJAAS,CAAC,MAAM,CAAC;YAEhE,2CAA2C;YAC3C,YAAY,YAAY,CAAC,sJAAS,CAAC,MAAM,CAAC,UAAU,CAAC;gBACnD,IAAI,CAAC,KAAK,OAAO;gBAEjB,OAAO;oBACL,GAAG,GAAG;oBACN,QAAQ,CAAC,IAAI,MAAM,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,MAAuB,IAAI,EAAE,KAAK;gBACvE;YACF;YAEA,OAAO;gBAAE;YAAc;QACzB;QACA,SAAS,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;YAC5B,oBAAoB;YACpB,IAAI,SAAS,eAAe;gBAC1B,YAAY,YAAY,CAAC,sJAAS,CAAC,MAAM,CAAC,UAAU,QAAQ,aAAa;YAC3E;QACF;QACA,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE;YAC5B,gDAAgD;YAChD,YAAY,iBAAiB,CAAC;gBAAE,UAAU,sJAAS,CAAC,MAAM,CAAC;YAAS;QACtE;IACF;AACF;AAiCO,SAAS,eAAe,OAA+B;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAS;IAE7D,MAAM,iBAAiB,oBAAoB;QACzC,GAAG,OAAO;QACV,SAAS,CAAC;YACR,SAAS;YACT,SAAS,UAAU;QACrB;QACA,WAAW,CAAC;YACV,SAAS;YACT,kBAAkB;YAClB,SAAS,YAAY;QACvB;IACF;IAEA,MAAM,iBAAiB;IAEvB,MAAM,cAAc,IAAA,oNAAW,EAC7B,OAAO,MAAY;QACjB,SAAS;QACT,kBAAkB;QAElB,IAAI;YACF,6EAA6E;YAC7E,MAAM,mBAAmB,YAAY;gBACnC,kBAAkB,CAAC,OAAS,KAAK,GAAG,CAAC,OAAO,IAAI;YAClD,GAAG;YAEH,MAAM,eAAe,WAAW,CAAC;gBAAE;gBAAS;YAAK;YAEjD,cAAc;YACd,kBAAkB;QACpB,EAAE,OAAO,KAAK;YACZ,kBAAkB;YAClB,MAAM;QACR;IACF,GACA;QAAC;KAAe;IAGlB,MAAM,eAAe,IAAA,oNAAW,EAC9B,OAAO,OAAe;QACpB,MAAM,aAAa,mBAAmB;QACtC,IAAI,CAAC,WAAW,OAAO,EAAE;YACvB,SAAS,WAAW,MAAM,CAAC,IAAI,CAAC;YAChC,MAAM,IAAI,MAAM,WAAW,MAAM,CAAC,IAAI,CAAC;QACzC;QAEA,4BAA4B;QAC5B,KAAK,MAAM,QAAQ,MAAO;YACxB,MAAM,YAAY,MAAM;QAC1B;IACF,GACA;QAAC;KAAY;IAGf,MAAM,cAAc,IAAA,oNAAW,EAC7B,OAAO,SAAiB;QACtB,SAAS;QACT,MAAM,eAAe,WAAW,CAAC;YAAE;YAAS;QAAQ;IACtD,GACA;QAAC;KAAe;IAGlB,MAAM,QAAQ,IAAA,oNAAW,EAAC;QACxB,SAAS;QACT,kBAAkB;IACpB,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA,eAAe;QACf,gBAAgB;QAChB,aAAa,eAAe,SAAS,IAAI,eAAe,SAAS;QACjE;QACA;QACA;IACF;AACF;uCAKe;IACb;IACA;IACA;IACA;IACA;IACA;AACF","debugId":null}},
    {"offset": {"line": 7362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/events/ImageUploader.tsx"],"sourcesContent":["'use client';\n\n/**\n * ImageUploader Component\n * Phase 6A.9: Azure Blob Image Upload System\n *\n * Professional drag-and-drop image uploader for event galleries\n * Integrates with Azure Blob Storage via useImageUpload hook\n *\n * Features:\n * - Drag-and-drop support (react-dropzone)\n * - Multiple file uploads\n * - Image preview gallery\n * - Upload progress tracking\n * - File validation (size, type)\n * - Delete functionality\n * - Responsive design\n * - Accessibility support\n */\n\nimport React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Image from 'next/image';\nimport { Upload, X, Loader2, AlertCircle, Image as ImageIcon } from 'lucide-react';\n\nimport { useImageUpload } from '@/presentation/hooks/useImageUpload';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { cn } from '@/presentation/lib/utils';\n\nexport interface ImageUploaderProps {\n  /** Event ID for image uploads */\n  eventId: string;\n\n  /** Existing images in the event gallery */\n  existingImages?: Array<{\n    id: string;\n    imageUrl: string;\n    displayOrder: number;\n  }>;\n\n  /** Maximum number of images allowed */\n  maxImages?: number;\n\n  /** Callback when images change */\n  onImagesChange?: (imageUrls: string[]) => void;\n\n  /** Callback when upload completes */\n  onUploadComplete?: () => void;\n\n  /** Disable uploads */\n  disabled?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * ImageUploader Component\n *\n * @example\n * ```tsx\n * <ImageUploader\n *   eventId=\"event-123\"\n *   existingImages={event.images}\n *   maxImages={10}\n *   onUploadComplete={() => console.log('Upload complete!')}\n * />\n * ```\n */\nexport const ImageUploader: React.FC<ImageUploaderProps> = ({\n  eventId,\n  existingImages = [],\n  maxImages = 10,\n  onImagesChange,\n  onUploadComplete,\n  disabled = false,\n  className,\n}) => {\n  const [uploadingFiles, setUploadingFiles] = useState<Set<string>>(new Set());\n\n  const {\n    uploadImage,\n    deleteImage,\n    validateImages,\n    isUploading,\n    error,\n    reset,\n  } = useImageUpload({\n    onSuccess: (imageUrl) => {\n      onImagesChange?.([...existingImages.map(img => img.imageUrl), imageUrl]);\n      onUploadComplete?.();\n    },\n    onError: (errorMsg) => {\n      console.error('Image upload error:', errorMsg);\n    },\n  });\n\n  // Check if max images reached\n  const imagesRemaining = maxImages - existingImages.length;\n  const canUploadMore = imagesRemaining > 0 && !disabled;\n\n  // Handle file drop\n  const onDrop = useCallback(\n    async (acceptedFiles: File[]) => {\n      if (!canUploadMore) return;\n\n      // Validate files\n      const validation = validateImages(acceptedFiles.slice(0, imagesRemaining));\n      if (!validation.isValid) {\n        alert(validation.errors.join('\\n'));\n        return;\n      }\n\n      // Upload files sequentially\n      for (const file of acceptedFiles.slice(0, imagesRemaining)) {\n        const fileId = `${file.name}-${Date.now()}`;\n        setUploadingFiles(prev => new Set(prev).add(fileId));\n\n        try {\n          await uploadImage(file, eventId);\n        } catch (err) {\n          console.error('Upload failed for', file.name, err);\n        } finally {\n          setUploadingFiles(prev => {\n            const newSet = new Set(prev);\n            newSet.delete(fileId);\n            return newSet;\n          });\n        }\n      }\n    },\n    [eventId, canUploadMore, imagesRemaining, uploadImage, validateImages]\n  );\n\n  // Setup react-dropzone\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/jpeg': ['.jpg', '.jpeg'],\n      'image/png': ['.png'],\n      'image/gif': ['.gif'],\n      'image/webp': ['.webp'],\n    },\n    maxSize: 10 * 1024 * 1024, // 10 MB\n    maxFiles: imagesRemaining,\n    disabled: !canUploadMore || isUploading,\n    multiple: true,\n  });\n\n  // Handle delete image\n  const handleDeleteImage = async (imageId: string) => {\n    if (disabled || isUploading) return;\n\n    const confirmed = window.confirm('Are you sure you want to delete this image?');\n    if (!confirmed) return;\n\n    try {\n      await deleteImage(eventId, imageId);\n      const remainingImages = existingImages.filter(img => img.id !== imageId);\n      onImagesChange?.(remainingImages.map(img => img.imageUrl));\n    } catch (err) {\n      console.error('Delete failed:', err);\n    }\n  };\n\n  return (\n    <div className={cn('space-y-4', className)}>\n      {/* Upload Dropzone */}\n      {canUploadMore && (\n        <div\n          {...getRootProps()}\n          className={cn(\n            'border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer',\n            isDragActive\n              ? 'border-blue-500 bg-blue-50 dark:bg-blue-950/20'\n              : 'border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600',\n            (disabled || isUploading) && 'opacity-50 cursor-not-allowed',\n            'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2'\n          )}\n        >\n          <input {...getInputProps()} aria-label=\"Upload images\" />\n\n          <div className=\"flex flex-col items-center justify-center space-y-3\">\n            {isUploading ? (\n              <>\n                <Loader2 className=\"w-12 h-12 text-blue-500 animate-spin\" />\n                <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Uploading images...\n                </p>\n              </>\n            ) : (\n              <>\n                <Upload className=\"w-12 h-12 text-gray-400\" />\n                <div className=\"space-y-1\">\n                  <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    {isDragActive\n                      ? 'Drop images here'\n                      : 'Drag & drop images here, or click to select'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    Supports JPG, PNG, GIF, WebP (max 10MB each)\n                  </p>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    {imagesRemaining} {imagesRemaining === 1 ? 'image' : 'images'} remaining\n                    (max {maxImages})\n                  </p>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"flex items-start gap-2 p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5\" />\n          <div className=\"flex-1\">\n            <p className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n              Upload Error\n            </p>\n            <p className=\"text-sm text-red-600 dark:text-red-400 mt-1\">{error}</p>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={reset}\n            className=\"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300\"\n          >\n            Dismiss\n          </Button>\n        </div>\n      )}\n\n      {/* Max Images Reached Message */}\n      {!canUploadMore && !disabled && (\n        <div className=\"flex items-center gap-2 p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0\" />\n          <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n            Maximum of {maxImages} images reached. Delete an image to upload more.\n          </p>\n        </div>\n      )}\n\n      {/* Image Gallery Grid */}\n      {existingImages.length > 0 && (\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            Event Images ({existingImages.length}/{maxImages})\n          </h3>\n\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n            {existingImages\n              .sort((a, b) => a.displayOrder - b.displayOrder)\n              .map((image) => (\n                <div\n                  key={image.id}\n                  className=\"relative aspect-square group rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors\"\n                >\n                  {/* Image Preview */}\n                  <Image\n                    src={image.imageUrl}\n                    alt={`Event image ${image.displayOrder}`}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 640px) 50vw, (max-width: 768px) 33vw, 25vw\"\n                  />\n\n                  {/* Delete Button Overlay */}\n                  <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center\">\n                    <Button\n                      variant=\"destructive\"\n                      size=\"sm\"\n                      onClick={() => handleDeleteImage(image.id)}\n                      disabled={disabled || isUploading}\n                      className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n                      aria-label={`Delete image ${image.displayOrder}`}\n                    >\n                      <X className=\"w-4 h-4 mr-1\" />\n                      Delete\n                    </Button>\n                  </div>\n\n                  {/* Display Order Badge */}\n                  <div className=\"absolute top-2 left-2 bg-black/60 text-white text-xs font-medium px-2 py-1 rounded\">\n                    #{image.displayOrder}\n                  </div>\n                </div>\n              ))}\n\n            {/* Loading Placeholders */}\n            {Array.from(uploadingFiles).map((fileId) => (\n              <div\n                key={fileId}\n                className=\"relative aspect-square rounded-lg overflow-hidden border-2 border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-950/20 flex items-center justify-center\"\n              >\n                <Loader2 className=\"w-8 h-8 text-blue-500 animate-spin\" />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Empty State */}\n      {existingImages.length === 0 && !isUploading && (\n        <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n          <ImageIcon className=\"w-16 h-16 mx-auto mb-3 opacity-50\" />\n          <p className=\"text-sm\">No images uploaded yet</p>\n          <p className=\"text-xs mt-1\">Upload your first event image above</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImageUploader;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7816, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/app/events/%5Bid%5D/manage/page.tsx"],"sourcesContent":["'use client';\n\nimport { use, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  ArrowLeft,\n  Edit,\n  Upload,\n  Users,\n  Calendar,\n  MapPin,\n  DollarSign,\n  Image as ImageIcon\n} from 'lucide-react';\nimport { Header } from '@/presentation/components/layout/Header';\nimport Footer from '@/presentation/components/layout/Footer';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/presentation/components/ui/Card';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Badge } from '@/presentation/components/ui/Badge';\nimport { useEventById } from '@/presentation/hooks/useEvents';\nimport { SignUpManagementSection } from '@/presentation/components/features/events/SignUpManagementSection';\nimport { ImageUploader } from '@/presentation/components/features/events/ImageUploader';\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\nimport { EventCategory, EventStatus } from '@/infrastructure/api/types/events.types';\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\n\n/**\n * Event Management Page\n * Organizer-only page for managing event details, publishing, editing, and uploading media\n *\n * Features:\n * - Event statistics (registrations, capacity, revenue)\n * - Publish/unpublish events\n * - Edit event details\n * - Upload images and videos\n * - Manage sign-up lists\n * - View public event page\n */\nexport default function EventManagePage({ params }: { params: Promise<{ id: string }> }) {\n  const { id } = use(params);\n  const router = useRouter();\n  const { user } = useAuthStore();\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch event details\n  const { data: event, isLoading, error: fetchError, refetch } = useEventById(id);\n\n  // Category labels\n  const categoryLabels: Record<EventCategory, string> = {\n    [EventCategory.Religious]: 'Religious',\n    [EventCategory.Cultural]: 'Cultural',\n    [EventCategory.Community]: 'Community',\n    [EventCategory.Educational]: 'Educational',\n    [EventCategory.Social]: 'Social',\n    [EventCategory.Business]: 'Business',\n    [EventCategory.Charity]: 'Charity',\n    [EventCategory.Entertainment]: 'Entertainment',\n  };\n\n  // Status labels\n  const statusLabels: Record<EventStatus, string> = {\n    [EventStatus.Draft]: 'Draft',\n    [EventStatus.Published]: 'Published',\n    [EventStatus.Active]: 'Active',\n    [EventStatus.Postponed]: 'Postponed',\n    [EventStatus.Cancelled]: 'Cancelled',\n    [EventStatus.Completed]: 'Completed',\n    [EventStatus.Archived]: 'Archived',\n    [EventStatus.UnderReview]: 'Under Review',\n  };\n\n  // Handle Publish Event\n  const handlePublishEvent = async () => {\n    if (!event || event.organizerId !== user?.userId) {\n      return;\n    }\n\n    try {\n      setIsPublishing(true);\n      setError(null);\n      await eventsRepository.publishEvent(id);\n      setIsPublishing(false);\n      // Refetch to show updated status\n      await refetch();\n    } catch (err) {\n      console.error('Failed to publish event:', err);\n      setError(err instanceof Error ? err.message : 'Failed to publish event. Please try again.');\n      setIsPublishing(false);\n    }\n  };\n\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <Card className=\"animate-pulse\">\n            <CardContent className=\"p-12\">\n              <div className=\"h-8 bg-neutral-200 rounded w-3/4 mb-4\"></div>\n              <div className=\"h-4 bg-neutral-200 rounded w-1/2 mb-8\"></div>\n              <div className=\"h-64 bg-neutral-200 rounded\"></div>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (fetchError || !event) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <Card>\n            <CardContent className=\"p-12 text-center\">\n              <h2 className=\"text-2xl font-bold text-red-600 mb-4\">Event Not Found</h2>\n              <p className=\"text-neutral-600 mb-6\">The event you're looking for doesn't exist or you don't have permission to manage it.</p>\n              <Button onClick={() => router.push('/dashboard')}>\n                Go to Dashboard\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  // Check if user is the organizer\n  const isOrganizer = event.organizerId === user?.userId;\n\n  if (!isOrganizer) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <Card>\n            <CardContent className=\"p-12 text-center\">\n              <h2 className=\"text-2xl font-bold text-red-600 mb-4\">Access Denied</h2>\n              <p className=\"text-neutral-600 mb-6\">You don't have permission to manage this event.</p>\n              <Button onClick={() => router.push(`/events/${id}`)}>\n                View Event\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const spotsLeft = event.capacity - event.currentRegistrations;\n  const registrationPercentage = (event.currentRegistrations / event.capacity) * 100;\n\n  // Check if event is in Draft status (API returns string \"Draft\" instead of number 0)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const isDraft = (event.status as any) === EventStatus.Draft ||\n                   (event.status as any) === 'Draft' ||\n                   String(event.status).toLowerCase() === 'draft';\n\n  // Debug: log the actual status value\n  console.log('Event Status Check:', {\n    rawStatus: event.status,\n    statusType: typeof event.status,\n    isDraft,\n    EventStatusDraft: EventStatus.Draft\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n      <Header />\n\n      {/* Page Header */}\n      <div className=\"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-white mb-2\">Manage Event</h1>\n              <p className=\"text-white/90\">{event.title}</p>\n            </div>\n            <Badge\n              className=\"text-sm px-4 py-2\"\n              style={{\n                backgroundColor: event.status === EventStatus.Published ? '#10B981' : '#6B7280',\n              }}\n            >\n              {statusLabels[event.status]}\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n          <Button\n            variant=\"outline\"\n            onClick={() => router.push('/dashboard')}\n            className=\"flex items-center gap-2 text-neutral-900 border-neutral-300\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            Back to Dashboard\n          </Button>\n\n          <div className=\"flex items-center gap-3 flex-wrap\">\n            {/* Publish/Unpublish Button - Show for Draft events */}\n            {isDraft && (\n              <Button\n                onClick={handlePublishEvent}\n                disabled={isPublishing}\n                className=\"flex items-center gap-2 text-white\"\n                style={{ background: '#10B981', color: 'white' }}\n              >\n                {isPublishing ? 'Publishing...' : 'Publish Event'}\n              </Button>\n            )}\n\n            {/* Manage Sign-up Lists Button */}\n            <Button\n              onClick={() => router.push(`/events/${id}/manage-signups`)}\n              className=\"flex items-center gap-2 text-white\"\n              style={{ background: '#8B1538', color: 'white' }}\n            >\n              <Users className=\"h-4 w-4\" />\n              Manage Sign-up Lists\n            </Button>\n\n            {/* Edit Event Button */}\n            <Button\n              onClick={() => router.push(`/events/${id}/edit`)}\n              className=\"flex items-center gap-2 text-white\"\n              style={{ background: '#FF7900', color: 'white' }}\n            >\n              <Edit className=\"h-4 w-4\" />\n              Edit Event\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6\">\n          <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n            <p className=\"text-sm text-red-600\">{error}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column - Event Info & Stats */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Event Statistics */}\n            <Card>\n              <CardHeader>\n                <CardTitle style={{ color: '#8B1538' }}>Event Statistics</CardTitle>\n                <CardDescription>Track your event's performance</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  {/* Registrations */}\n                  <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Users className=\"h-5 w-5 text-blue-600\" />\n                      <span className=\"text-2xl font-bold text-blue-900\">\n                        {event.currentRegistrations}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-blue-700 font-medium\">Registered</p>\n                    <p className=\"text-xs text-blue-600 mt-1\">\n                      {registrationPercentage.toFixed(0)}% of capacity\n                    </p>\n                  </div>\n\n                  {/* Available Spots */}\n                  <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Users className=\"h-5 w-5 text-green-600\" />\n                      <span className=\"text-2xl font-bold text-green-900\">\n                        {spotsLeft}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-green-700 font-medium\">Spots Left</p>\n                    <p className=\"text-xs text-green-600 mt-1\">\n                      Total capacity: {event.capacity}\n                    </p>\n                  </div>\n\n                  {/* Revenue (if paid event) */}\n                  {!event.isFree && event.ticketPriceAmount && (\n                    <div className=\"p-4 bg-orange-50 rounded-lg border border-orange-200\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <DollarSign className=\"h-5 w-5 text-orange-600\" />\n                        <span className=\"text-2xl font-bold text-orange-900\">\n                          ${(event.ticketPriceAmount * event.currentRegistrations).toFixed(2)}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-orange-700 font-medium\">Revenue</p>\n                      <p className=\"text-xs text-orange-600 mt-1\">\n                        ${event.ticketPriceAmount} per ticket\n                      </p>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Event Details */}\n            <Card>\n              <CardHeader>\n                <CardTitle style={{ color: '#8B1538' }}>Event Details</CardTitle>\n                <CardDescription>Your event information</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {/* Event Title */}\n                <div>\n                  <h4 className=\"text-sm font-semibold text-neutral-700 mb-2\">Event Title</h4>\n                  <p className=\"text-lg font-semibold text-neutral-900\">{event.title}</p>\n                </div>\n\n                {/* Description */}\n                <div>\n                  <h4 className=\"text-sm font-semibold text-neutral-700 mb-2\">Description</h4>\n                  <p className=\"text-neutral-600\">{event.description}</p>\n                </div>\n\n                {/* Date & Time */}\n                <div className=\"flex items-start gap-3\">\n                  <Calendar className=\"h-5 w-5 text-[#FF7900] mt-0.5\" />\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-neutral-700\">Date & Time</h4>\n                    <p className=\"text-neutral-600\">\n                      {new Date(event.startDate).toLocaleString('en-US', {\n                        dateStyle: 'full',\n                        timeStyle: 'short',\n                      })}\n                    </p>\n                    {event.endDate && (\n                      <p className=\"text-sm text-neutral-500\">\n                        Ends: {new Date(event.endDate).toLocaleString('en-US', {\n                          dateStyle: 'full',\n                          timeStyle: 'short',\n                        })}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Location */}\n                {event.city && (\n                  <div className=\"flex items-start gap-3\">\n                    <MapPin className=\"h-5 w-5 text-[#FF7900] mt-0.5\" />\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-neutral-700\">Location</h4>\n                      <p className=\"text-neutral-600\">\n                        {event.address && `${event.address}, `}\n                        {event.city}, {event.state} {event.zipCode}\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Category */}\n                <div>\n                  <h4 className=\"text-sm font-semibold text-neutral-700 mb-2\">Category</h4>\n                  <Badge className=\"bg-gray-100 text-gray-700\">\n                    {categoryLabels[event.category]}\n                  </Badge>\n                </div>\n\n                {/* Pricing */}\n                <div>\n                  <h4 className=\"text-sm font-semibold text-neutral-700 mb-2\">Pricing</h4>\n                  {event.isFree ? (\n                    <Badge className=\"bg-green-100 text-green-700\">Free Event</Badge>\n                  ) : (\n                    <Badge className=\"bg-[#FFE8CC] text-[#8B1538]\">\n                      ${event.ticketPriceAmount} per ticket\n                    </Badge>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Sign-up Management */}\n            <SignUpManagementSection eventId={id} isOrganizer={true} />\n          </div>\n\n          {/* Right Column - Media */}\n          <div className=\"space-y-6\">\n            {/* Image Upload */}\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-2\">\n                  <ImageIcon className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\n                  <CardTitle style={{ color: '#8B1538' }}>Event Images</CardTitle>\n                </div>\n                <CardDescription>Upload photos to attract attendees</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ImageUploader\n                  eventId={id}\n                  existingImages={event.images ? [...event.images] : []}\n                  maxImages={10}\n                  onUploadComplete={async () => {\n                    await refetch();\n                  }}\n                />\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}