module.exports=[23556,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(50388),f=a.i(93003),g=a.i(95245),h=a.i(59501),i=a.i(41675),j=a.i(24987),k=a.i(60246),l=a.i(90166),m=a.i(4720),n=a.i(33350),o=a.i(92258),p=a.i(50253),q=a.i(42043),r=a.i(13858),s=a.i(22544),t=a.i(75391),u=a.i(74934),v=a.i(18478),w=a.i(72988),x=a.i(69212),y=a.i(90154),z=a.i(15618),A=a.i(33508),B=a.i(92e3);function C({tiers:a,onChange:d,defaultCurrency:e,errors:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)({minAttendees:0===a.length?1:void 0,maxAttendees:void 0,pricePerPerson:void 0,currency:e}),[m,n]=(0,c.useState)(null),o=()=>{if(0===a.length)return 1;let b=[...a].sort((a,b)=>a.minAttendees-b.minAttendees),c=b[b.length-1];return c.maxAttendees?c.maxAttendees+1:c.minAttendees+1},p=a=>a.maxAttendees?a.minAttendees===a.maxAttendees?`${a.minAttendees}`:`${a.minAttendees}-${a.maxAttendees}`:`${a.minAttendees}+`,s=()=>{l({minAttendees:o(),maxAttendees:void 0,pricePerPerson:void 0,currency:e}),h(!0),n(null)},t=[...a].sort((a,b)=>a.minAttendees-b.minAttendees);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-neutral-900",children:"Pricing Tiers"}),(0,b.jsx)("p",{className:"text-xs text-neutral-600 mt-1",children:"Define price per person based on group size"})]}),!g&&(0,b.jsxs)(q.Button,{type:"button",variant:"outline",size:"sm",onClick:s,className:"flex items-center gap-1",children:[(0,b.jsx)(z.Plus,{className:"h-4 w-4"}),"Add Tier"]})]}),t.length>0&&(0,b.jsx)("div",{className:"space-y-2",children:t.map((c,e)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white border border-neutral-200 rounded-lg hover:border-orange-300 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-neutral-700 bg-neutral-100 px-3 py-1 rounded",children:p(c)}),(0,b.jsx)("span",{className:"text-xs text-neutral-500",children:"attendees"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-base font-semibold text-orange-600",children:[c.currency===x.Currency.USD?"$":"Rs"," ",c.pricePerPerson.toFixed(2)]}),(0,b.jsx)("span",{className:"text-xs text-neutral-500",children:"per person"})]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.indexOf(c),void d(a.filter((a,c)=>c!==b))},className:"p-1 hover:bg-red-50 rounded transition-colors",title:"Remove tier",children:(0,b.jsx)(A.X,{className:"h-4 w-4 text-red-600"})})]},`${c.minAttendees}-${c.maxAttendees}`))}),g&&(0,b.jsxs)("div",{className:"p-4 bg-orange-50 border-2 border-orange-200 rounded-lg space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h5",{className:"text-sm font-semibold text-neutral-900",children:"New Pricing Tier"}),(0,b.jsx)("button",{type:"button",onClick:()=>{h(!1),n(null)},className:"p-1 hover:bg-orange-100 rounded transition-colors",children:(0,b.jsx)(A.X,{className:"h-4 w-4 text-neutral-600"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Min Attendees *"}),(0,b.jsx)(r.Input,{type:"number",min:"1",max:"10000",placeholder:"1",value:k.minAttendees||"",onChange:a=>l({...k,minAttendees:parseInt(a.target.value)||void 0})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Max Attendees"}),(0,b.jsx)(r.Input,{type:"number",min:k.minAttendees||1,max:"10000",placeholder:"Leave empty for unlimited",value:k.maxAttendees||"",onChange:a=>l({...k,maxAttendees:a.target.value?parseInt(a.target.value):void 0})}),(0,b.jsx)("p",{className:"mt-1 text-xs text-neutral-500",children:'Leave empty for unlimited (e.g., "6+")'})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Price Per Person *"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("select",{className:"px-2 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",value:k.currency||e,onChange:a=>l({...k,currency:parseInt(a.target.value)}),children:[(0,b.jsx)("option",{value:x.Currency.USD,children:"USD ($)"}),(0,b.jsx)("option",{value:x.Currency.LKR,children:"LKR (Rs)"})]}),(0,b.jsx)(r.Input,{type:"number",min:"0",max:"10000",step:"1",placeholder:"25",value:k.pricePerPerson||"",onChange:a=>l({...k,pricePerPerson:parseFloat(a.target.value)||void 0})})]}),(k.pricePerPerson??0)>0&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:[(0,b.jsx)("p",{children:"5% (Stripe + LankaConnect commission) applies"}),(0,b.jsxs)("p",{className:"font-medium text-green-700",children:["You'll receive: $",((k.pricePerPerson??0)*.95).toFixed(2)," per person"]})]})]})]}),m&&(0,b.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,b.jsx)(B.AlertCircle,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:m})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(q.Button,{type:"button",variant:"outline",onClick:()=>{h(!1),n(null)},children:"Cancel"}),(0,b.jsx)(q.Button,{type:"button",onClick:()=>{(()=>{if(n(null),!k.minAttendees||k.minAttendees<1)return n("Minimum attendees must be at least 1"),!1;if(void 0!==k.maxAttendees&&null!==k.maxAttendees&&k.maxAttendees<k.minAttendees)return n("Maximum attendees must be greater than or equal to minimum"),!1;if(!k.pricePerPerson||k.pricePerPerson<0)return n("Price per person must be greater than or equal to 0"),!1;if(k.pricePerPerson>1e4)return n("Price per person cannot exceed $10,000"),!1;for(let b of[...a].sort((a,b)=>a.minAttendees-b.minAttendees)){let a=k.minAttendees,c=k.maxAttendees??Number.MAX_SAFE_INTEGER,d=b.minAttendees;if(a<=(b.maxAttendees??Number.MAX_SAFE_INTEGER)&&c>=d)return n(`This tier overlaps with existing tier ${p(b)}`),!1}return!0})()&&(d([...a,{minAttendees:k.minAttendees,maxAttendees:k.maxAttendees??null,pricePerPerson:k.pricePerPerson,currency:k.currency||e}]),l({minAttendees:o(),maxAttendees:void 0,pricePerPerson:void 0,currency:e}),h(!1),n(null))},children:"Add Tier"})]})]}),f&&(0,b.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,b.jsx)(B.AlertCircle,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:f})]}),0===t.length&&!g&&(0,b.jsxs)("div",{className:"p-6 text-center border-2 border-dashed border-neutral-300 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-neutral-600 mb-3",children:"No pricing tiers added yet"}),(0,b.jsxs)(q.Button,{type:"button",variant:"outline",size:"sm",onClick:s,children:[(0,b.jsx)(z.Plus,{className:"h-4 w-4 mr-1"}),"Add Your First Tier"]})]}),t.length>0&&!g&&(0,b.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,b.jsxs)("div",{className:"text-xs text-blue-700",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Tier Guidelines:"}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,b.jsx)("li",{children:"First tier must start at 1 attendee"}),(0,b.jsx)("li",{children:"Tiers must be continuous with no gaps"}),(0,b.jsx)("li",{children:"Only the last tier can have unlimited max attendees"}),(0,b.jsx)("li",{children:"All tiers must use the same currency"})]})]})]})]})}function D(){let a=(0,d.useRouter)(),{user:e}=(0,w.useAuthStore)(),f=(0,u.useCreateEvent)(),[z,A]=(0,c.useState)(null),{data:B=[],isLoading:D}=(0,v.useEmailGroups)(),{register:E,handleSubmit:F,watch:G,setValue:H,formState:{errors:I,isSubmitting:J}}=(0,g.useForm)({resolver:(0,h.zodResolver)(t.createEventSchema),defaultValues:{isFree:!0,enableDualPricing:!1,enableGroupPricing:!1,groupPricingTiers:[],capacity:50,ticketPriceAmount:void 0,ticketPriceCurrency:void 0,adultPriceAmount:void 0,adultPriceCurrency:x.Currency.USD,childPriceAmount:void 0,childPriceCurrency:x.Currency.USD,childAgeLimit:void 0,category:x.EventCategory.Community}}),K=G("isFree"),L=G("enableDualPricing"),M=G("enableGroupPricing"),N=G("groupPricingTiers")||[],O=Object.keys(I).length>0,P=F(async b=>{if(!e?.userId)return void A("You must be logged in to create events");try{let c,d;A(null),console.log("ðŸ“‹ Form Submission - User Context:",{userId:e.userId,userRole:e.role,userName:e.fullName,isAuthenticated:!0});let g=!!(b.locationAddress&&b.locationCity);if(g){console.log("ðŸ—ºï¸ Geocoding address for location-based filtering...");let a=await (0,y.geocodeAddress)(b.locationAddress,b.locationCity,b.locationState||void 0,b.locationCountry||"United States",b.locationZipCode||void 0);a?(c=a.latitude,d=a.longitude,console.log("âœ… Geocoding successful:",{lat:c,lon:d,display:a.displayName})):console.warn("âš ï¸ Geocoding failed - event will not appear in location-based filters")}let h={title:b.title,description:b.description,startDate:b.startDate,endDate:b.endDate,organizerId:e.userId,capacity:b.capacity,category:b.category,emailGroupIds:b.emailGroupIds||[],...g&&{locationAddress:b.locationAddress,locationCity:b.locationCity,locationState:b.locationState||"",locationZipCode:b.locationZipCode||"",locationCountry:b.locationCountry||"United States",locationLatitude:c,locationLongitude:d},...b.isFree?{}:b.enableGroupPricing?{groupPricingTiers:b.groupPricingTiers?.map(a=>({minAttendees:a.minAttendees,maxAttendees:a.maxAttendees,pricePerPerson:a.pricePerPerson,currency:a.currency}))}:b.enableDualPricing?{adultPriceAmount:b.adultPriceAmount,adultPriceCurrency:b.adultPriceCurrency,childPriceAmount:b.childPriceAmount,childPriceCurrency:b.childPriceCurrency,childAgeLimit:b.childAgeLimit}:{ticketPriceAmount:b.ticketPriceAmount,ticketPriceCurrency:b.ticketPriceCurrency}};console.log("ðŸ“¤ Creating event with payload:",JSON.stringify(h,null,2)),console.log("ðŸ“Š Payload Analysis:",{hasLocation:g,hasCoordinates:!!(c&&d),isFree:b.isFree,hasTicketPrice:!!b.ticketPriceAmount,categoryValue:b.category,dataSize:JSON.stringify(h).length}),console.log("â³ Sending request to API...");let i=await f.mutateAsync(h);console.log("âœ… Event created successfully! ID:",i),a.push("/dashboard")}catch(a){console.error("âŒ Event creation failed - Detailed Analysis:"),console.error("Error Type:",a?.constructor?.name),console.error("Error Message:",a instanceof Error?a.message:"Unknown error"),console.error("Error Stack:",a instanceof Error?a.stack:"No stack trace"),A(a instanceof Error?a.message:"object"==typeof a&&null!==a&&"message"in a?String(a.message):"Failed to create event. Please try again."),console.error("Full error object:",JSON.stringify(a,Object.getOwnPropertyNames(a),2)),"object"==typeof a&&null!==a&&"response"in a&&(console.error("Response Status:",a.response?.status),console.error("Response Headers:",a.response?.headers),console.error("Response Data:",a.response?.data))}},a=>{console.error("âŒ Form Validation Failed:",a);let b=Object.keys(a);console.error("Fields with errors:",b),console.log("ðŸ” Debug - Current form state:",{isFree:K,enableDualPricing:L,enableGroupPricing:M,ticketPriceAmount:G("ticketPriceAmount"),ticketPriceCurrency:G("ticketPriceCurrency"),adultPriceAmount:G("adultPriceAmount"),childPriceAmount:G("childPriceAmount")}),A(`Please fix the validation errors: ${b.join(", ")}`),window.scrollTo({top:0,behavior:"smooth"})}),Q=[{value:x.EventCategory.Religious,label:"Religious"},{value:x.EventCategory.Cultural,label:"Cultural"},{value:x.EventCategory.Community,label:"Community"},{value:x.EventCategory.Educational,label:"Educational"},{value:x.EventCategory.Social,label:"Social"},{value:x.EventCategory.Business,label:"Business"},{value:x.EventCategory.Charity,label:"Charity"},{value:x.EventCategory.Entertainment,label:"Entertainment"}];return(0,b.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.FileText,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Basic Information"})]}),(0,b.jsx)(p.CardDescription,{children:"Provide the essential details about your event"})]}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Title *"}),(0,b.jsx)(r.Input,{id:"title",type:"text",placeholder:"e.g., Sri Lankan Cultural Festival 2025",error:!!I.title,...E("title")}),I.title&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.title.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Description *"}),(0,b.jsx)("textarea",{id:"description",rows:6,placeholder:"Provide a detailed description of your event, including what attendees can expect...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none ${I.description?"border-destructive":"border-neutral-300"}`,...E("description")}),I.description&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.description.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Category *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n.Tag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}),(0,b.jsx)("select",{id:"category",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 appearance-none ${I.category?"border-destructive":"border-neutral-300"}`,...E("category",{valueAsNumber:!0}),children:Q.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),I.category&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.category.message})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Calendar,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Date & Time"})]}),(0,b.jsx)(p.CardDescription,{children:"Specify when your event will take place"})]}),(0,b.jsx)(p.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Start Date & Time *"}),(0,b.jsx)(r.Input,{id:"startDate",type:"datetime-local",error:!!I.startDate,...E("startDate")}),I.startDate&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.startDate.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"End Date & Time *"}),(0,b.jsx)(r.Input,{id:"endDate",type:"datetime-local",error:!!I.endDate,...E("endDate")}),I.endDate&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.endDate.message})]})]})})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.MapPin,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Location"})]}),(0,b.jsx)(p.CardDescription,{children:"Where will the event take place? (Optional but recommended)"})]}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationAddress",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Street Address"}),(0,b.jsx)(r.Input,{id:"locationAddress",type:"text",placeholder:"e.g., 123 Main Street",error:!!I.locationAddress,...E("locationAddress")}),I.locationAddress&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.locationAddress.message})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationCity",className:"block text-sm font-medium text-neutral-700 mb-2",children:"City"}),(0,b.jsx)(r.Input,{id:"locationCity",type:"text",placeholder:"e.g., Columbus",error:!!I.locationCity,...E("locationCity")}),I.locationCity&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.locationCity.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationState",className:"block text-sm font-medium text-neutral-700 mb-2",children:"State"}),(0,b.jsx)(r.Input,{id:"locationState",type:"text",placeholder:"e.g., Ohio",error:!!I.locationState,...E("locationState")}),I.locationState&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.locationState.message})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationZipCode",className:"block text-sm font-medium text-neutral-700 mb-2",children:"ZIP Code"}),(0,b.jsx)(r.Input,{id:"locationZipCode",type:"text",placeholder:"e.g., 43201",error:!!I.locationZipCode,...E("locationZipCode")}),I.locationZipCode&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.locationZipCode.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationCountry",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Country"}),(0,b.jsx)(r.Input,{id:"locationCountry",type:"text",placeholder:"e.g., United States",error:!!I.locationCountry,...E("locationCountry")}),I.locationCountry&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.locationCountry.message})]})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Users,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Capacity & Pricing"})]}),(0,b.jsx)(p.CardDescription,{children:"Set attendance limits and ticket pricing"})]}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"capacity",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Maximum Capacity *"}),(0,b.jsx)(r.Input,{id:"capacity",type:"number",min:"1",max:"10000",placeholder:"e.g., 100",error:!!I.capacity,...E("capacity",{valueAsNumber:!0})}),I.capacity&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.capacity.message})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-neutral-50 rounded-lg",children:[(0,b.jsx)("input",{id:"isFree",type:"checkbox",className:"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500",...E("isFree")}),(0,b.jsx)("label",{htmlFor:"isFree",className:"text-sm font-medium text-neutral-700",children:"This is a free event (no ticket purchase required)"})]}),!K&&(0,b.jsxs)("div",{className:"space-y-4 p-4 border-2 border-orange-200 rounded-lg bg-orange-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(l.DollarSign,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)("h4",{className:"text-sm font-semibold text-neutral-900",children:"Ticket Pricing"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-orange-200",children:[(0,b.jsx)("input",{id:"enableDualPricing",type:"checkbox",className:"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500",...E("enableDualPricing",{onChange:a=>{a.target.checked?(H("enableGroupPricing",!1),H("ticketPriceAmount",void 0),H("ticketPriceCurrency",void 0),H("groupPricingTiers",[]),H("adultPriceCurrency",x.Currency.USD),H("childPriceCurrency",x.Currency.USD)):(H("adultPriceAmount",void 0),H("adultPriceCurrency",void 0),H("childPriceAmount",void 0),H("childPriceCurrency",void 0),H("childAgeLimit",void 0),H("ticketPriceCurrency",x.Currency.USD))}})}),(0,b.jsx)("label",{htmlFor:"enableDualPricing",className:"text-sm font-medium text-neutral-700",children:"Enable Adult/Child Pricing (different prices for adults and children)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-orange-200",children:[(0,b.jsx)("input",{id:"enableGroupPricing",type:"checkbox",className:"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500",...E("enableGroupPricing",{onChange:a=>{a.target.checked?(H("enableDualPricing",!1),H("ticketPriceAmount",void 0),H("ticketPriceCurrency",void 0),H("adultPriceAmount",void 0),H("adultPriceCurrency",void 0),H("childPriceAmount",void 0),H("childPriceCurrency",void 0),H("childAgeLimit",void 0)):(H("groupPricingTiers",[]),H("ticketPriceCurrency",x.Currency.USD))}})}),(0,b.jsx)("label",{htmlFor:"enableGroupPricing",className:"text-sm font-medium text-neutral-700",children:"Enable Group Tiered Pricing (quantity-based discounts for groups)"})]})]}),!L&&!M&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"ticketPriceAmount",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Ticket Price *"}),(0,b.jsx)(r.Input,{id:"ticketPriceAmount",type:"number",min:"0",max:"10000",step:"1",placeholder:"e.g., 25",error:!!I.ticketPriceAmount,...E("ticketPriceAmount",{valueAsNumber:!0})}),I.ticketPriceAmount&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.ticketPriceAmount.message}),(G("ticketPriceAmount")??0)>0&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:[(0,b.jsx)("p",{children:"5% (Stripe + LankaConnect commission) applies"}),(0,b.jsxs)("p",{className:"font-medium text-green-700",children:["You'll receive: $",((G("ticketPriceAmount")??0)*.95).toFixed(2)," per ticket"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"ticketPriceCurrency",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Currency *"}),(0,b.jsxs)("select",{id:"ticketPriceCurrency",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${I.ticketPriceCurrency?"border-destructive":"border-neutral-300"}`,defaultValue:x.Currency.USD,...E("ticketPriceCurrency",{valueAsNumber:!0}),children:[(0,b.jsx)("option",{value:x.Currency.USD,children:"USD ($)"}),(0,b.jsx)("option",{value:x.Currency.LKR,children:"LKR (Rs)"})]}),I.ticketPriceCurrency&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.ticketPriceCurrency.message})]})]}),M&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)(C,{tiers:N,onChange:a=>H("groupPricingTiers",a),defaultCurrency:G("ticketPriceCurrency")||x.Currency.USD,errors:I.groupPricingTiers?.message})}),L&&!M&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"adultPriceAmount",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Adult Ticket Price *"}),(0,b.jsx)(r.Input,{id:"adultPriceAmount",type:"number",min:"0",max:"10000",step:"1",placeholder:"e.g., 25",error:!!I.adultPriceAmount,...E("adultPriceAmount",{valueAsNumber:!0})}),I.adultPriceAmount&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.adultPriceAmount.message}),(G("adultPriceAmount")??0)>0&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:[(0,b.jsx)("p",{children:"5% (Stripe + LankaConnect commission) applies"}),(0,b.jsxs)("p",{className:"font-medium text-green-700",children:["You'll receive: $",((G("adultPriceAmount")??0)*.95).toFixed(2)," per ticket"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"adultPriceCurrency",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Currency *"}),(0,b.jsxs)("select",{id:"adultPriceCurrency",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${I.adultPriceCurrency?"border-destructive":"border-neutral-300"}`,defaultValue:x.Currency.USD,...E("adultPriceCurrency",{valueAsNumber:!0}),children:[(0,b.jsx)("option",{value:x.Currency.USD,children:"USD ($)"}),(0,b.jsx)("option",{value:x.Currency.LKR,children:"LKR (Rs)"})]}),I.adultPriceCurrency&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.adultPriceCurrency.message})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"childPriceAmount",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Child Ticket Price *"}),(0,b.jsx)(r.Input,{id:"childPriceAmount",type:"number",min:"0",max:"10000",step:"1",placeholder:"e.g., 15",error:!!I.childPriceAmount,...E("childPriceAmount",{valueAsNumber:!0})}),I.childPriceAmount&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.childPriceAmount.message}),(G("childPriceAmount")??0)>0&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:[(0,b.jsx)("p",{children:"5% (Stripe + LankaConnect commission) applies"}),(0,b.jsxs)("p",{className:"font-medium text-green-700",children:["You'll receive: $",((G("childPriceAmount")??0)*.95).toFixed(2)," per ticket"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"childPriceCurrency",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Currency *"}),(0,b.jsxs)("select",{id:"childPriceCurrency",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${I.childPriceCurrency?"border-destructive":"border-neutral-300"}`,defaultValue:x.Currency.USD,...E("childPriceCurrency",{valueAsNumber:!0}),children:[(0,b.jsx)("option",{value:x.Currency.USD,children:"USD ($)"}),(0,b.jsx)("option",{value:x.Currency.LKR,children:"LKR (Rs)"})]}),I.childPriceCurrency&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.childPriceCurrency.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"childAgeLimit",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Child Age Limit *"}),(0,b.jsx)(r.Input,{id:"childAgeLimit",type:"number",min:"1",max:"18",placeholder:"12",error:!!I.childAgeLimit,...E("childAgeLimit",{valueAsNumber:!0})}),I.childAgeLimit&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:I.childAgeLimit.message}),(0,b.jsx)("p",{className:"mt-1 text-xs text-neutral-500",children:"Age under which child pricing applies (1-18)"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,b.jsx)("p",{className:"text-xs text-blue-700",children:"Example: If child age limit is 12, attendees age 11 and under will be charged the child price, while attendees age 12 and over will be charged the adult price."})]})]})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Mail,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Email Groups (Optional)"})]}),(0,b.jsx)(p.CardDescription,{children:"Select email groups to notify about this event"})]}),(0,b.jsx)(p.CardContent,{className:"space-y-4",children:(0,b.jsx)(s.MultiSelect,{options:B.map(a=>({id:a.id,label:a.name,disabled:!a.isActive})),value:G("emailGroupIds")||[],onChange:a=>H("emailGroupIds",a),placeholder:"Select email groups to notify",isLoading:D,error:!!I.emailGroupIds,errorMessage:I.emailGroupIds?.message,helperText:"Select groups that should receive invitations for this event"})})]}),(0,b.jsx)(p.Card,{children:(0,b.jsx)(p.CardContent,{className:"py-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"ðŸ“¸ Upload Images & Videos After Creation"}),(0,b.jsx)("p",{className:"text-sm text-blue-700",children:"You'll be able to add event images and videos from the event detail page after creating your event. This helps make your event more attractive to attendees!"})]})]})})}),z&&(0,b.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-red-600",children:z})}),O&&!z&&(0,b.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"Please fix the following errors:"}),(0,b.jsx)("ul",{className:"mt-1 text-sm text-amber-700 list-disc list-inside",children:Object.entries(I).map(([a,c])=>(0,b.jsxs)("li",{children:[a,": ",c?.message||"Invalid"]},a))})]})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,b.jsx)(q.Button,{type:"button",variant:"outline",onClick:()=>a.push("/dashboard"),disabled:J,children:"Cancel"}),(0,b.jsx)(q.Button,{type:"submit",disabled:J||f.isPending,style:{background:"#FF7900"},className:"min-w-[150px]",children:J||f.isPending?"Creating...":"Create Event"})]})]})}var E=a.i(210),F=a.i(64734);function G(){let a=(0,d.useRouter)(),{user:g,isAuthenticated:h}=(0,w.useAuthStore)();return((0,c.useEffect)(()=>{h&&g?.userId?g.role!==F.UserRole.EventOrganizer&&g.role!==F.UserRole.Admin&&g.role!==F.UserRole.AdminManager&&a.push("/dashboard"):a.push("/login?redirect="+encodeURIComponent("/events/create"))},[h,g,a]),h&&g?.userId)?(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-12 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,b.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-orange-400/20 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute -bottom-24 -right-24 w-96 h-96 bg-emerald-400/20 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-rose-400/10 rounded-full blur-3xl"})]}),(0,b.jsx)("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Create New Event"}),(0,b.jsx)("p",{className:"text-lg text-white/90 max-w-2xl mx-auto",children:"Share your event with the community and start receiving registrations"})]})})]}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,b.jsxs)(q.Button,{variant:"outline",onClick:()=>a.push("/dashboard"),className:"flex items-center gap-2",children:[(0,b.jsx)(E.ArrowLeft,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,b.jsx)(D,{})}),(0,b.jsx)(f.default,{})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-neutral-500",children:"Redirecting to login..."})})}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>G],23556)}];

//# sourceMappingURL=src_app_events_create_page_tsx_85d11f2c._.js.map