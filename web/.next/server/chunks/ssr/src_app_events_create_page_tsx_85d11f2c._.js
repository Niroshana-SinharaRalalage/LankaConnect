module.exports=[23556,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(50388),f=a.i(93003),g=a.i(95245),h=a.i(59501),i=a.i(41675),j=a.i(24987),k=a.i(60246),l=a.i(90166),m=a.i(70106);let n=(0,m.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),o=(0,m.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var p=a.i(50253),q=a.i(42043),r=a.i(13858),s=a.i(56757),t=a.i(69212);let u=s.z.object({title:s.z.string().min(1,"Event title is required").min(5,"Title must be at least 5 characters").max(200,"Title must be less than 200 characters"),description:s.z.string().min(1,"Event description is required").min(20,"Description must be at least 20 characters").max(5e3,"Description must be less than 5000 characters"),category:s.z.nativeEnum(t.EventCategory),startDate:s.z.string().min(1,"Start date and time are required").refine(a=>new Date(a)>new Date,"Start date must be in the future"),endDate:s.z.string().min(1,"End date and time are required"),capacity:s.z.number().int("Capacity must be a whole number").min(1,"Capacity must be at least 1").max(1e4,"Capacity cannot exceed 10,000"),locationAddress:s.z.string().max(200,"Address must be less than 200 characters").optional().or(s.z.literal("")),locationCity:s.z.string().max(100,"City must be less than 100 characters").optional().or(s.z.literal("")),locationState:s.z.string().max(100,"State must be less than 100 characters").optional().or(s.z.literal("")),locationZipCode:s.z.string().regex(/^\d{5}(-\d{4})?$/,"ZIP code must be in format 12345 or 12345-6789").optional().or(s.z.literal("")),locationCountry:s.z.string().max(100,"Country must be less than 100 characters").optional().or(s.z.literal("")),isFree:s.z.boolean().default(!0),ticketPriceAmount:s.z.number().min(0,"Price cannot be negative").max(1e4,"Price cannot exceed $10,000").optional().nullable(),ticketPriceCurrency:s.z.nativeEnum(t.Currency).optional().nullable()}).refine(a=>{let b=new Date(a.startDate);return new Date(a.endDate)>b},{message:"End date must be after start date",path:["endDate"]}).refine(a=>!!a.isFree||null!==a.ticketPriceAmount&&void 0!==a.ticketPriceAmount&&a.ticketPriceAmount>0&&null!==a.ticketPriceCurrency,{message:"Price and currency are required for paid events",path:["ticketPriceAmount"]});var v=a.i(74934),w=a.i(72988);function x(){let a=(0,d.useRouter)(),{user:e}=(0,w.useAuthStore)(),f=(0,v.useCreateEvent)(),[m,s]=(0,c.useState)(null),{register:x,handleSubmit:y,watch:z,setValue:A,formState:{errors:B,isSubmitting:C}}=(0,g.useForm)({resolver:(0,h.zodResolver)(u),defaultValues:{isFree:!0,capacity:50,ticketPriceCurrency:t.Currency.USD}}),D=z("isFree"),E=y(async b=>{if(!e?.userId)return void s("You must be logged in to create events");try{s(null);let c={title:b.title,description:b.description,startDate:b.startDate,endDate:b.endDate,organizerId:e.userId,capacity:b.capacity,category:b.category,locationAddress:b.locationAddress||void 0,locationCity:b.locationCity||void 0,locationState:b.locationState||void 0,locationZipCode:b.locationZipCode||void 0,locationCountry:b.locationCountry||void 0,ticketPriceAmount:b.isFree?void 0:b.ticketPriceAmount,ticketPriceCurrency:b.isFree?void 0:b.ticketPriceCurrency},d=await f.mutateAsync(c);a.push(`/events/${d}`)}catch(a){console.error("Event creation failed:",a),s(a instanceof Error?a.message:"Failed to create event. Please try again.")}}),F=[{value:t.EventCategory.Religious,label:"Religious"},{value:t.EventCategory.Cultural,label:"Cultural"},{value:t.EventCategory.Community,label:"Community"},{value:t.EventCategory.Educational,label:"Educational"},{value:t.EventCategory.Social,label:"Social"},{value:t.EventCategory.Business,label:"Business"},{value:t.EventCategory.Charity,label:"Charity"},{value:t.EventCategory.Entertainment,label:"Entertainment"}];return(0,b.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Basic Information"})]}),(0,b.jsx)(p.CardDescription,{children:"Provide the essential details about your event"})]}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Title *"}),(0,b.jsx)(r.Input,{id:"title",type:"text",placeholder:"e.g., Sri Lankan Cultural Festival 2025",error:!!B.title,...x("title")}),B.title&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.title.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Description *"}),(0,b.jsx)("textarea",{id:"description",rows:6,placeholder:"Provide a detailed description of your event, including what attendees can expect...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none ${B.description?"border-destructive":"border-neutral-300"}`,...x("description")}),B.description&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.description.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Category *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}),(0,b.jsxs)("select",{id:"category",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 appearance-none ${B.category?"border-destructive":"border-neutral-300"}`,...x("category",{valueAsNumber:!0}),children:[(0,b.jsx)("option",{value:"",children:"Select a category"}),F.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),B.category&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.category.message})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Calendar,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Date & Time"})]}),(0,b.jsx)(p.CardDescription,{children:"Specify when your event will take place"})]}),(0,b.jsx)(p.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Start Date & Time *"}),(0,b.jsx)(r.Input,{id:"startDate",type:"datetime-local",error:!!B.startDate,...x("startDate")}),B.startDate&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.startDate.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"End Date & Time *"}),(0,b.jsx)(r.Input,{id:"endDate",type:"datetime-local",error:!!B.endDate,...x("endDate")}),B.endDate&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.endDate.message})]})]})})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.MapPin,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Location"})]}),(0,b.jsx)(p.CardDescription,{children:"Where will the event take place? (Optional but recommended)"})]}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationAddress",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Street Address"}),(0,b.jsx)(r.Input,{id:"locationAddress",type:"text",placeholder:"e.g., 123 Main Street",error:!!B.locationAddress,...x("locationAddress")}),B.locationAddress&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.locationAddress.message})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationCity",className:"block text-sm font-medium text-neutral-700 mb-2",children:"City"}),(0,b.jsx)(r.Input,{id:"locationCity",type:"text",placeholder:"e.g., Columbus",error:!!B.locationCity,...x("locationCity")}),B.locationCity&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.locationCity.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationState",className:"block text-sm font-medium text-neutral-700 mb-2",children:"State"}),(0,b.jsx)(r.Input,{id:"locationState",type:"text",placeholder:"e.g., Ohio",error:!!B.locationState,...x("locationState")}),B.locationState&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.locationState.message})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationZipCode",className:"block text-sm font-medium text-neutral-700 mb-2",children:"ZIP Code"}),(0,b.jsx)(r.Input,{id:"locationZipCode",type:"text",placeholder:"e.g., 43201",error:!!B.locationZipCode,...x("locationZipCode")}),B.locationZipCode&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.locationZipCode.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"locationCountry",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Country"}),(0,b.jsx)(r.Input,{id:"locationCountry",type:"text",placeholder:"e.g., United States",error:!!B.locationCountry,...x("locationCountry")}),B.locationCountry&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.locationCountry.message})]})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Users,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Capacity & Pricing"})]}),(0,b.jsx)(p.CardDescription,{children:"Set attendance limits and ticket pricing"})]}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"capacity",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Maximum Capacity *"}),(0,b.jsx)(r.Input,{id:"capacity",type:"number",min:"1",max:"10000",placeholder:"e.g., 100",error:!!B.capacity,...x("capacity",{valueAsNumber:!0})}),B.capacity&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.capacity.message})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-neutral-50 rounded-lg",children:[(0,b.jsx)("input",{id:"isFree",type:"checkbox",className:"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500",...x("isFree")}),(0,b.jsx)("label",{htmlFor:"isFree",className:"text-sm font-medium text-neutral-700",children:"This is a free event (no ticket purchase required)"})]}),!D&&(0,b.jsxs)("div",{className:"space-y-4 p-4 border-2 border-orange-200 rounded-lg bg-orange-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(l.DollarSign,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)("h4",{className:"text-sm font-semibold text-neutral-900",children:"Ticket Pricing"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"ticketPriceAmount",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Ticket Price *"}),(0,b.jsx)(r.Input,{id:"ticketPriceAmount",type:"number",min:"0",max:"10000",step:"0.01",placeholder:"e.g., 25.00",error:!!B.ticketPriceAmount,...x("ticketPriceAmount",{valueAsNumber:!0})}),B.ticketPriceAmount&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.ticketPriceAmount.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"ticketPriceCurrency",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Currency *"}),(0,b.jsxs)("select",{id:"ticketPriceCurrency",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${B.ticketPriceCurrency?"border-destructive":"border-neutral-300"}`,...x("ticketPriceCurrency",{valueAsNumber:!0}),children:[(0,b.jsx)("option",{value:t.Currency.USD,children:"USD ($)"}),(0,b.jsx)("option",{value:t.Currency.LKR,children:"LKR (Rs)"})]}),B.ticketPriceCurrency&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:B.ticketPriceCurrency.message})]})]})]})]})]}),m&&(0,b.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-red-600",children:m})}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,b.jsx)(q.Button,{type:"button",variant:"outline",onClick:()=>a.push("/events"),disabled:C,children:"Cancel"}),(0,b.jsx)(q.Button,{type:"submit",disabled:C||f.isPending,style:{background:"#FF7900"},className:"min-w-[150px]",children:C||f.isPending?"Creating...":"Create Event"})]})]})}var y=a.i(210),z=a.i(64734);function A(){let a=(0,d.useRouter)(),{user:g,isAuthenticated:h}=(0,w.useAuthStore)();return((0,c.useEffect)(()=>{h&&g?.userId?g.role!==z.UserRole.EventOrganizer&&g.role!==z.UserRole.Admin&&g.role!==z.UserRole.AdminManager&&a.push("/dashboard"):a.push("/login?redirect="+encodeURIComponent("/events/create"))},[h,g,a]),h&&g?.userId)?(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-12 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,b.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-orange-400/20 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute -bottom-24 -right-24 w-96 h-96 bg-emerald-400/20 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-rose-400/10 rounded-full blur-3xl"})]}),(0,b.jsx)("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Create New Event"}),(0,b.jsx)("p",{className:"text-lg text-white/90 max-w-2xl mx-auto",children:"Share your event with the community and start receiving registrations"})]})})]}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,b.jsxs)(q.Button,{variant:"outline",onClick:()=>a.push("/events"),className:"flex items-center gap-2",children:[(0,b.jsx)(y.ArrowLeft,{className:"h-4 w-4"}),"Back to Events"]})}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,b.jsx)(x,{})}),(0,b.jsx)(f.default,{})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-neutral-500",children:"Redirecting to login..."})})}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>A],23556)}];

//# sourceMappingURL=src_app_events_create_page_tsx_85d11f2c._.js.map