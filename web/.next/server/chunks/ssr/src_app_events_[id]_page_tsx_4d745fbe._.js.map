{"version":3,"sources":["turbopack:///[project]/src/presentation/components/features/events/EventRegistrationForm.tsx","turbopack:///[project]/src/presentation/components/features/events/MediaGallery.tsx","turbopack:///[project]/src/presentation/components/features/events/EditRegistrationModal.tsx","turbopack:///[project]/src/app/events/[id]/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-left.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Input } from '@/presentation/components/ui/Input';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Clock } from 'lucide-react';\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\nimport type { AnonymousRegistrationRequest, AttendeeDto, RsvpRequest, GroupPricingTierDto } from '@/infrastructure/api/types/events.types';\n\n/**\n * Event Registration Form Component\n * Session 21: Multi-attendee registration with individual names and ages\n * Phase 6D: Group tiered pricing support\n * Supports both anonymous and authenticated registration flows\n * - Anonymous users: Fill in contact details + individual attendee names/ages\n * - Authenticated users: Pre-populate first attendee from profile, details auto-filled\n */\ninterface EventRegistrationFormProps {\n  eventId: string;\n  spotsLeft: number;\n  isFree: boolean;\n  ticketPrice?: number;\n  // Session 21: Dual pricing support\n  hasDualPricing?: boolean;\n  adultPrice?: number;\n  childPrice?: number;\n  childAgeLimit?: number;\n  // Phase 6D: Group tiered pricing support\n  hasGroupPricing?: boolean;\n  groupPricingTiers?: readonly GroupPricingTierDto[];\n  isProcessing: boolean;\n  onSubmit: (data: AnonymousRegistrationRequest | RsvpRequest) => Promise<void>;\n  error?: string | null;\n}\n\nexport function EventRegistrationForm({\n  eventId,\n  spotsLeft,\n  isFree,\n  ticketPrice,\n  hasDualPricing,\n  adultPrice,\n  childPrice,\n  childAgeLimit,\n  hasGroupPricing,\n  groupPricingTiers,\n  isProcessing,\n  onSubmit,\n  error,\n}: EventRegistrationFormProps) {\n  const { user } = useAuthStore();\n  const { profile, loadProfile } = useProfileStore();\n\n  // Form state\n  const [quantity, setQuantity] = useState(1);\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n\n  // Session 21: Multi-attendee state (array of { name, age } objects)\n  const [attendees, setAttendees] = useState<Array<{ name: string; age: number | '' }>>([\n    { name: '', age: '' },\n  ]);\n\n  // Validation state\n  const [touched, setTouched] = useState({\n    address: false,\n    email: false,\n    phoneNumber: false,\n    attendees: [] as boolean[],\n  });\n\n  // Load profile for authenticated users\n  useEffect(() => {\n    if (user?.userId && !profile) {\n      loadProfile(user.userId);\n    }\n  }, [user?.userId, profile, loadProfile]);\n\n  // Auto-fill from profile for authenticated users\n  useEffect(() => {\n    if (user && profile) {\n      setEmail(profile.email);\n      setPhoneNumber(profile.phoneNumber || '');\n\n      // Build address from location if available\n      if (profile.location) {\n        const addressParts = [\n          profile.location.city,\n          profile.location.state,\n          profile.location.zipCode\n        ].filter(Boolean);\n        setAddress(addressParts.join(', '));\n      }\n\n      // Pre-populate first attendee with user's profile name\n      // Note: Age must still be entered by user as it's not stored in profile\n      setAttendees([\n        {\n          name: `${profile.firstName} ${profile.lastName}`.trim(),\n          age: '',\n        },\n      ]);\n    }\n  }, [user, profile]);\n\n  // Session 21: Update attendee array when quantity changes\n  useEffect(() => {\n    const newAttendees = Array.from({ length: quantity }, (_, index) => {\n      // Preserve existing attendee data if available\n      return attendees[index] || { name: '', age: '' };\n    });\n    setAttendees(newAttendees);\n    setTouched(prev => ({\n      ...prev,\n      attendees: Array(quantity).fill(false),\n    }));\n  }, [quantity]);\n\n  // Session 21: Update individual attendee\n  const handleAttendeeChange = (index: number, field: 'name' | 'age', value: string | number) => {\n    const updated = [...attendees];\n    updated[index] = {\n      ...updated[index],\n      [field]: field === 'age' ? (value === '' ? '' : Number(value)) : value,\n    };\n    setAttendees(updated);\n  };\n\n  const handleAttendeeTouched = (index: number) => {\n    const updatedTouched = [...touched.attendees];\n    updatedTouched[index] = true;\n    setTouched(prev => ({ ...prev, attendees: updatedTouched }));\n  };\n\n  // Phase 6D: Find applicable group pricing tier based on total attendee count\n  const findApplicableTier = (): GroupPricingTierDto | null => {\n    if (!hasGroupPricing || !groupPricingTiers || groupPricingTiers.length === 0) {\n      return null;\n    }\n\n    const totalAttendees = quantity;\n    const sortedTiers = [...groupPricingTiers].sort((a, b) => a.minAttendees - b.minAttendees);\n\n    for (const tier of sortedTiers) {\n      if (totalAttendees >= tier.minAttendees) {\n        // If tier has no max (unlimited), it applies\n        if (!tier.maxAttendees) {\n          return tier;\n        }\n        // If tier has max and attendees are within range, it applies\n        if (totalAttendees <= tier.maxAttendees) {\n          return tier;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  // Session 21 + Phase 6D: Calculate total price with group/dual/single pricing support\n  const calculateTotalPrice = (): number => {\n    if (isFree) return 0;\n\n    // Phase 6D: Group tiered pricing (highest priority)\n    if (hasGroupPricing && groupPricingTiers && groupPricingTiers.length > 0) {\n      const applicableTier = findApplicableTier();\n      if (applicableTier) {\n        return applicableTier.pricePerPerson * quantity;\n      }\n      return 0; // No applicable tier found\n    }\n\n    // Session 21: Dual pricing (age-based)\n    if (hasDualPricing && adultPrice && childPrice && childAgeLimit) {\n      // Calculate based on attendee ages\n      return attendees.reduce((total, attendee) => {\n        if (attendee.age === '' || attendee.age === 0) return total;\n        const age = Number(attendee.age);\n        return total + (age < childAgeLimit ? childPrice : adultPrice);\n      }, 0);\n    }\n\n    // Legacy single pricing\n    if (ticketPrice) {\n      return ticketPrice * quantity;\n    }\n\n    return 0;\n  };\n\n  // Validation - BOTH authenticated and anonymous users need contact info\n  const errors = {\n    address: touched.address && !address.trim() ? 'Address is required' : '',\n    email: touched.email && (!email.trim() || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) ? 'Valid email is required' : '',\n    phoneNumber: touched.phoneNumber && (!phoneNumber.trim() || !/^\\+?[\\d\\s\\-()]+$/.test(phoneNumber)) ? 'Valid phone number is required' : '',\n    attendees: attendees.map((attendee, index) => {\n      if (!touched.attendees[index]) return { name: '', age: '' };\n      return {\n        name: !attendee.name.trim() ? 'Name is required' : '',\n        age: !attendee.age || attendee.age < 1 || attendee.age > 120 ? 'Valid age is required (1-120)' : '',\n      };\n    }),\n  };\n\n  // BOTH authenticated and anonymous users must provide all fields\n  const isFormValid =\n    address.trim() &&\n    email.trim() &&\n    /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email) &&\n    phoneNumber.trim() &&\n    /^\\+?[\\d\\s\\-()]+$/.test(phoneNumber) &&\n    attendees.every(a => a.name.trim() && a.age && a.age >= 1 && a.age <= 120);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Mark all fields as touched for validation\n    setTouched({\n      address: true,\n      email: true,\n      phoneNumber: true,\n      attendees: Array(quantity).fill(true),\n    });\n\n    if (!isFormValid) {\n      return;\n    }\n\n    // Session 21: Prepare attendees array in new format\n    const attendeesData: AttendeeDto[] = attendees.map(a => ({\n      name: a.name.trim(),\n      age: Number(a.age),\n    }));\n\n    if (!user) {\n      // Anonymous registration with multi-attendee\n      const anonymousData: AnonymousRegistrationRequest = {\n        attendees: attendeesData,\n        address: address.trim(),\n        email: email.trim(),\n        phoneNumber: phoneNumber.trim(),\n      };\n\n      await onSubmit(anonymousData);\n    } else {\n      // Authenticated registration with multi-attendee\n      // Phase 6A.11: Include quantity field for authenticated users\n      const rsvpData: RsvpRequest = {\n        userId: user.userId,\n        quantity: attendeesData.length, // Include quantity based on number of attendees\n        attendees: attendeesData,\n        email: email.trim() || undefined,\n        phoneNumber: phoneNumber.trim() || undefined,\n        address: address.trim() || undefined,\n      };\n\n      await onSubmit(rsvpData);\n    }\n  };\n\n  const totalPrice = calculateTotalPrice();\n  const applicableTier = hasGroupPricing ? findApplicableTier() : null;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      {/* Quantity Selector */}\n      <div>\n        <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n          Number of Attendees\n        </label>\n        <Input\n          type=\"number\"\n          min=\"1\"\n          max={Math.min(10, spotsLeft)}\n          value={quantity}\n          onChange={(e) => setQuantity(parseInt(e.target.value) || 1)}\n          disabled={isProcessing}\n          className=\"w-full\"\n        />\n        <p className=\"text-xs text-neutral-500 mt-1\">\n          You'll provide name and age for each attendee below\n        </p>\n      </div>\n\n      {/* Session 21: Individual Attendee Fields */}\n      <div className=\"border-t pt-4\">\n        <h4 className=\"text-sm font-semibold mb-3 text-neutral-700\">Attendee Information</h4>\n        {!user && (\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            Please provide name and age for each attendee\n          </p>\n        )}\n        {user && profile && (\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            First attendee pre-populated from your profile. You can edit if needed.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {attendees.map((attendee, index) => (\n            <div key={index} className=\"p-4 bg-neutral-50 rounded-lg border border-neutral-200\">\n              <h5 className=\"text-sm font-medium mb-3 text-neutral-700\">\n                Attendee {index + 1}\n              </h5>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Name */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n                    Full Name <span className=\"text-red-500\">*</span>\n                  </label>\n                  <Input\n                    type=\"text\"\n                    value={attendee.name}\n                    onChange={(e) => handleAttendeeChange(index, 'name', e.target.value)}\n                    onBlur={() => handleAttendeeTouched(index)}\n                    error={!!errors.attendees[index]?.name}\n                    disabled={isProcessing}\n                    placeholder=\"Enter full name\"\n                    className=\"w-full\"\n                  />\n                  {errors.attendees[index]?.name && (\n                    <p className=\"text-xs text-red-600 mt-1\">{errors.attendees[index].name}</p>\n                  )}\n                </div>\n\n                {/* Age */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n                    Age <span className=\"text-red-500\">*</span>\n                    {hasDualPricing && childAgeLimit && (\n                      <span className=\"text-xs text-neutral-500 ml-2\">\n                        (Under {childAgeLimit} = child price)\n                      </span>\n                    )}\n                  </label>\n                  <Input\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"120\"\n                    value={attendee.age}\n                    onChange={(e) => handleAttendeeChange(index, 'age', e.target.value ? parseInt(e.target.value) : '')}\n                    onBlur={() => handleAttendeeTouched(index)}\n                    error={!!errors.attendees[index]?.age}\n                    disabled={isProcessing}\n                    placeholder=\"Age\"\n                    className=\"w-full\"\n                  />\n                  {errors.attendees[index]?.age && (\n                    <p className=\"text-xs text-red-600 mt-1\">{errors.attendees[index].age}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Contact Information (anonymous users only, or editable for authenticated) */}\n      {!user && (\n        <div className=\"border-t pt-4\">\n          <h4 className=\"text-sm font-semibold mb-3 text-neutral-700\">Contact Information</h4>\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            We'll use this information to send you event updates and confirmations.\n          </p>\n\n          {/* Address */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Address <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"text\"\n              value={address}\n              onChange={(e) => setAddress(e.target.value)}\n              onBlur={() => setTouched({ ...touched, address: true })}\n              error={!!errors.address}\n              disabled={isProcessing}\n              placeholder=\"Enter your address\"\n              className=\"w-full\"\n            />\n            {errors.address && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.address}</p>\n            )}\n          </div>\n\n          {/* Email */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Email <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              onBlur={() => setTouched({ ...touched, email: true })}\n              error={!!errors.email}\n              disabled={isProcessing}\n              placeholder=\"your.email@example.com\"\n              className=\"w-full\"\n            />\n            {errors.email && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.email}</p>\n            )}\n          </div>\n\n          {/* Phone Number */}\n          <div>\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Phone Number <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"tel\"\n              value={phoneNumber}\n              onChange={(e) => setPhoneNumber(e.target.value)}\n              onBlur={() => setTouched({ ...touched, phoneNumber: true })}\n              error={!!errors.phoneNumber}\n              disabled={isProcessing}\n              placeholder=\"+1-123-456-7890\"\n              className=\"w-full\"\n            />\n            {errors.phoneNumber && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.phoneNumber}</p>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Authenticated User Contact Info - EDITABLE for registration */}\n      {user && profile && (\n        <div className=\"border-t pt-4\">\n          <h4 className=\"text-sm font-semibold mb-3 text-neutral-700\">Contact Information</h4>\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            Please verify and update your contact details for this event registration.\n          </p>\n\n          {/* Email - Pre-filled but editable */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Email <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              onBlur={() => setTouched({ ...touched, email: true })}\n              error={!!errors.email}\n              disabled={isProcessing}\n              placeholder=\"your.email@example.com\"\n              className=\"w-full\"\n            />\n            {errors.email && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.email}</p>\n            )}\n          </div>\n\n          {/* Phone Number - Pre-filled but editable */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Phone Number <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"tel\"\n              value={phoneNumber}\n              onChange={(e) => setPhoneNumber(e.target.value)}\n              onBlur={() => setTouched({ ...touched, phoneNumber: true })}\n              error={!!errors.phoneNumber}\n              disabled={isProcessing}\n              placeholder=\"+1-123-456-7890\"\n              className=\"w-full\"\n            />\n            {errors.phoneNumber && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.phoneNumber}</p>\n            )}\n          </div>\n\n          {/* Address - Pre-filled but editable */}\n          <div>\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Address <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"text\"\n              value={address}\n              onChange={(e) => setAddress(e.target.value)}\n              onBlur={() => setTouched({ ...touched, address: true })}\n              error={!!errors.address}\n              disabled={isProcessing}\n              placeholder=\"Enter your address\"\n              className=\"w-full\"\n            />\n            {errors.address && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.address}</p>\n            )}\n          </div>\n\n          <p className=\"text-xs text-neutral-500 mt-3\">\n            Pre-filled from your profile. Please verify and update if needed.\n          </p>\n        </div>\n      )}\n\n      {/* Total Price with Group/Dual/Single Pricing Breakdown */}\n      {!isFree && totalPrice > 0 && (\n        <div className=\"p-4 bg-neutral-50 rounded-lg border-t-2 border-orange-500\">\n          {/* Phase 6D: Group Tiered Pricing Breakdown */}\n          {hasGroupPricing && applicableTier && (\n            <div className=\"mb-3 space-y-2 text-sm\">\n              <h5 className=\"font-medium text-neutral-700\">Group Pricing Applied:</h5>\n              <div className=\"flex justify-between items-center p-3 bg-white rounded-lg border border-orange-200\">\n                <div>\n                  <span className=\"font-medium text-orange-600\">{applicableTier.tierRange}</span>\n                  <span className=\"text-neutral-600 ml-2\">attendees</span>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-sm font-medium text-neutral-700\">\n                    ${applicableTier.pricePerPerson.toFixed(2)} per person\n                  </div>\n                  <div className=\"text-xs text-neutral-500\">\n                    {quantity} Ã— ${applicableTier.pricePerPerson.toFixed(2)}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Session 21: Dual Pricing Breakdown */}\n          {hasDualPricing && adultPrice && childPrice && childAgeLimit && (\n            <div className=\"mb-3 space-y-2 text-sm\">\n              <h5 className=\"font-medium text-neutral-700\">Price Breakdown:</h5>\n              {attendees.map((attendee, index) => {\n                if (!attendee.age) return null;\n                const age = Number(attendee.age);\n                const price = age < childAgeLimit ? childPrice : adultPrice;\n                const priceType = age < childAgeLimit ? 'Child' : 'Adult';\n                return (\n                  <div key={index} className=\"flex justify-between text-xs text-neutral-600\">\n                    <span>{attendee.name || `Attendee ${index + 1}`} ({priceType}, Age {age})</span>\n                    <span>${price.toFixed(2)}</span>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n\n          <div className=\"flex justify-between items-center border-t pt-3\">\n            <span className=\"text-base font-medium text-neutral-700\">Total</span>\n            <span className=\"text-xl font-bold\" style={{ color: '#8B1538' }}>\n              ${totalPrice.toFixed(2)}\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n\n      {/* Submit Button */}\n      <Button\n        type=\"submit\"\n        disabled={isProcessing || !isFormValid}\n        className=\"w-full text-lg py-6\"\n        style={{ background: '#FF7900' }}\n      >\n        {isProcessing ? (\n          <>\n            <Clock className=\"h-5 w-5 mr-2 animate-spin\" />\n            Processing...\n          </>\n        ) : isFree ? (\n          'Register for Free'\n        ) : (\n          'Continue to Payment'\n        )}\n      </Button>\n\n      {!user && (\n        <p className=\"text-sm text-center text-neutral-500\">\n          Have an account? <a href=\"/login\" className=\"text-orange-600 hover:underline\">Sign in</a> to register faster\n        </p>\n      )}\n    </form>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { X, Play, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Dialog, DialogContent } from '@/presentation/components/ui/Dialog';\nimport { EventImageDto, EventVideoDto } from '@/infrastructure/api/types/events.types';\n\ninterface MediaGalleryProps {\n  images?: readonly EventImageDto[];\n  videos?: readonly EventVideoDto[];\n  className?: string;\n}\n\n/**\n * MediaGallery Component\n * Read-only gallery for displaying event images and videos on the event detail page\n * Features:\n * - Responsive grid layout\n * - Lightbox modal for full-screen viewing\n * - Image/video carousel navigation\n * - Dark mode support\n */\nexport function MediaGallery({ images = [], videos = [], className = '' }: MediaGalleryProps) {\n  const [lightboxOpen, setLightboxOpen] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [mediaType, setMediaType] = useState<'image' | 'video'>('image');\n\n  // Combine images and videos for total media count\n  const totalImages = images.length;\n  const totalVideos = videos.length;\n  const totalMedia = totalImages + totalVideos;\n\n  if (totalMedia === 0) {\n    return null; // Don't render if no media\n  }\n\n  // Open lightbox for image\n  const openImageLightbox = (index: number) => {\n    setCurrentIndex(index);\n    setMediaType('image');\n    setLightboxOpen(true);\n  };\n\n  // Open lightbox for video\n  const openVideoLightbox = (index: number) => {\n    setCurrentIndex(index);\n    setMediaType('video');\n    setLightboxOpen(true);\n  };\n\n  // Navigate to previous media\n  const goToPrevious = () => {\n    if (mediaType === 'image') {\n      setCurrentIndex((prev) => (prev === 0 ? totalImages - 1 : prev - 1));\n    } else {\n      setCurrentIndex((prev) => (prev === 0 ? totalVideos - 1 : prev - 1));\n    }\n  };\n\n  // Navigate to next media\n  const goToNext = () => {\n    if (mediaType === 'image') {\n      setCurrentIndex((prev) => (prev === totalImages - 1 ? 0 : prev + 1));\n    } else {\n      setCurrentIndex((prev) => (prev === totalVideos - 1 ? 0 : prev + 1));\n    }\n  };\n\n  return (\n    <>\n      <div className={`space-y-6 ${className}`}>\n        {/* Images Section */}\n        {totalImages > 0 && (\n          <div>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3\">\n              Photos ({totalImages})\n            </h3>\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n              {[...images]\n                .sort((a, b) => a.displayOrder - b.displayOrder)\n                .map((image, index) => (\n                  <button\n                    key={image.id}\n                    onClick={() => openImageLightbox(index)}\n                    className=\"relative aspect-square rounded-lg overflow-hidden bg-neutral-100 dark:bg-neutral-800 hover:opacity-90 transition-opacity group\"\n                  >\n                    <img\n                      src={image.imageUrl}\n                      alt={`Event photo ${image.displayOrder}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors\" />\n                    <div className=\"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n                      {image.displayOrder}\n                    </div>\n                  </button>\n                ))}\n            </div>\n          </div>\n        )}\n\n        {/* Videos Section */}\n        {totalVideos > 0 && (\n          <div>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3\">\n              Videos ({totalVideos})\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n              {[...videos]\n                .sort((a, b) => a.displayOrder - b.displayOrder)\n                .map((video, index) => (\n                  <button\n                    key={video.id}\n                    onClick={() => openVideoLightbox(index)}\n                    className=\"relative aspect-video rounded-lg overflow-hidden bg-neutral-100 dark:bg-neutral-800 hover:opacity-90 transition-opacity group\"\n                  >\n                    <img\n                      src={video.thumbnailUrl}\n                      alt={`Video ${video.displayOrder}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors flex items-center justify-center\">\n                      <div className=\"bg-white/90 rounded-full p-4\">\n                        <Play className=\"h-8 w-8 text-neutral-900\" fill=\"currentColor\" />\n                      </div>\n                    </div>\n                    <div className=\"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n                      {video.displayOrder}\n                    </div>\n                  </button>\n                ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Lightbox Modal */}\n      <Dialog open={lightboxOpen} onOpenChange={setLightboxOpen}>\n        <DialogContent className=\"max-w-7xl w-full h-[90vh] p-0 bg-black/95\">\n          <div className=\"relative w-full h-full flex items-center justify-center\">\n            {/* Close Button */}\n            <button\n              onClick={() => setLightboxOpen(false)}\n              className=\"absolute top-4 right-4 z-50 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n              aria-label=\"Close lightbox\"\n            >\n              <X className=\"h-6 w-6 text-white\" />\n            </button>\n\n            {/* Navigation Buttons */}\n            {((mediaType === 'image' && totalImages > 1) ||\n              (mediaType === 'video' && totalVideos > 1)) && (\n              <>\n                <button\n                  onClick={goToPrevious}\n                  className=\"absolute left-4 z-50 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n                  aria-label=\"Previous media\"\n                >\n                  <ChevronLeft className=\"h-6 w-6 text-white\" />\n                </button>\n                <button\n                  onClick={goToNext}\n                  className=\"absolute right-4 z-50 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n                  aria-label=\"Next media\"\n                >\n                  <ChevronRight className=\"h-6 w-6 text-white\" />\n                </button>\n              </>\n            )}\n\n            {/* Media Content */}\n            <div className=\"w-full h-full flex items-center justify-center p-12\">\n              {mediaType === 'image' && images[currentIndex] && (\n                <img\n                  src={images[currentIndex].imageUrl}\n                  alt={`Event photo ${images[currentIndex].displayOrder}`}\n                  className=\"max-w-full max-h-full object-contain\"\n                />\n              )}\n\n              {mediaType === 'video' && videos[currentIndex] && (\n                <video\n                  src={videos[currentIndex].videoUrl}\n                  controls\n                  autoPlay\n                  className=\"max-w-full max-h-full\"\n                  poster={videos[currentIndex].thumbnailUrl}\n                >\n                  Your browser does not support the video tag.\n                </video>\n              )}\n            </div>\n\n            {/* Media Counter */}\n            <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white text-sm px-4 py-2 rounded-full\">\n              {currentIndex + 1} / {mediaType === 'image' ? totalImages : totalVideos}\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","/**\n * EditRegistrationModal Component\n *\n * Phase 6A.14: Modal dialog for editing event registration details\n *\n * Features:\n * - Edit attendee names and ages\n * - Edit contact information (email, phone, address)\n * - Add/remove attendees for free events\n * - Prevents attendee count changes for paid events\n * - Form validation\n * - Error handling\n */\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/presentation/components/ui/Dialog';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { AlertCircle, Plus, Trash2, User } from 'lucide-react';\nimport type { RegistrationDetailsDto, AttendeeDto, PaymentStatus } from '@/infrastructure/api/types/events.types';\n\ninterface EditRegistrationModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  registration: RegistrationDetailsDto | null;\n  eventId: string;\n  isFreeEvent: boolean;\n  spotsLeft: number;\n  onSave: (data: EditRegistrationData) => Promise<void>;\n  isSubmitting?: boolean;\n}\n\nexport interface EditRegistrationData {\n  attendees: AttendeeDto[];\n  email: string;\n  phoneNumber: string;\n  address?: string;\n}\n\nexport function EditRegistrationModal({\n  open,\n  onOpenChange,\n  registration,\n  eventId,\n  isFreeEvent,\n  spotsLeft,\n  onSave,\n  isSubmitting = false,\n}: EditRegistrationModalProps) {\n  // Form state\n  const [attendees, setAttendees] = useState<AttendeeDto[]>([]);\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [address, setAddress] = useState('');\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  // Determine if this is a paid registration (cannot change attendee count)\n  const isPaidRegistration = registration?.paymentStatus === 1; // PaymentStatus.Completed\n  const originalAttendeeCount = registration?.attendees?.length || registration?.quantity || 1;\n\n  // Calculate max attendees allowed\n  const maxAttendeesAllowed = isFreeEvent\n    ? Math.min(10, originalAttendeeCount + spotsLeft) // Free: can add up to event capacity\n    : originalAttendeeCount; // Paid: locked to original count\n\n  // Initialize form with registration data when modal opens\n  useEffect(() => {\n    if (open && registration) {\n      // Set attendees\n      if (registration.attendees && registration.attendees.length > 0) {\n        setAttendees([...registration.attendees]);\n      } else {\n        // Fallback: create placeholder attendees based on quantity\n        const placeholders: AttendeeDto[] = [];\n        const qty = registration.quantity || 1;\n        for (let i = 0; i < qty; i++) {\n          placeholders.push({ name: '', age: 0 });\n        }\n        setAttendees(placeholders);\n      }\n\n      // Set contact information\n      setEmail(registration.contactEmail || '');\n      setPhoneNumber(registration.contactPhone || '');\n      setAddress(registration.contactAddress || '');\n\n      // Clear errors\n      setErrors({});\n      setSubmitError(null);\n    }\n  }, [open, registration]);\n\n  // Reset form when modal closes\n  useEffect(() => {\n    if (!open) {\n      setAttendees([]);\n      setEmail('');\n      setPhoneNumber('');\n      setAddress('');\n      setErrors({});\n      setSubmitError(null);\n    }\n  }, [open]);\n\n  if (!registration) return null;\n\n  // Update attendee field\n  const updateAttendee = (index: number, field: keyof AttendeeDto, value: string | number) => {\n    const newAttendees = [...attendees];\n    if (field === 'name') {\n      newAttendees[index] = { ...newAttendees[index], name: value as string };\n    } else if (field === 'age') {\n      newAttendees[index] = { ...newAttendees[index], age: value as number };\n    }\n    setAttendees(newAttendees);\n\n    // Clear specific error when user starts typing\n    const errorKey = `attendee_${index}_${field}`;\n    if (errors[errorKey]) {\n      const newErrors = { ...errors };\n      delete newErrors[errorKey];\n      setErrors(newErrors);\n    }\n  };\n\n  // Add new attendee\n  const addAttendee = () => {\n    if (attendees.length < maxAttendeesAllowed) {\n      setAttendees([...attendees, { name: '', age: 0 }]);\n    }\n  };\n\n  // Remove attendee\n  const removeAttendee = (index: number) => {\n    if (attendees.length > 1) {\n      const newAttendees = attendees.filter((_, i) => i !== index);\n      setAttendees(newAttendees);\n    }\n  };\n\n  // Validate form\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    // Validate attendees\n    if (attendees.length === 0) {\n      newErrors.attendees = 'At least one attendee is required';\n    }\n\n    attendees.forEach((attendee, index) => {\n      if (!attendee.name || !attendee.name.trim()) {\n        newErrors[`attendee_${index}_name`] = 'Name is required';\n      } else if (attendee.name.length > 100) {\n        newErrors[`attendee_${index}_name`] = 'Name cannot exceed 100 characters';\n      }\n\n      if (attendee.age < 0 || attendee.age > 120) {\n        newErrors[`attendee_${index}_age`] = 'Age must be between 0 and 120';\n      }\n    });\n\n    // Validate paid registration attendee count\n    if (isPaidRegistration && attendees.length !== originalAttendeeCount) {\n      newErrors.attendees = `Cannot change attendee count on a paid registration. Original count: ${originalAttendeeCount}`;\n    }\n\n    // Validate email\n    if (!email.trim()) {\n      newErrors.email = 'Email is required';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\n      newErrors.email = 'Invalid email format';\n    }\n\n    // Validate phone\n    if (!phoneNumber.trim()) {\n      newErrors.phoneNumber = 'Phone number is required';\n    } else if (phoneNumber.length > 30) {\n      newErrors.phoneNumber = 'Phone number cannot exceed 30 characters';\n    }\n\n    // Validate address (optional, but has max length)\n    if (address && address.length > 500) {\n      newErrors.address = 'Address cannot exceed 500 characters';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitError(null);\n\n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      await onSave({\n        attendees: attendees.map(a => ({ name: a.name.trim(), age: a.age })),\n        email: email.trim(),\n        phoneNumber: phoneNumber.trim(),\n        address: address.trim() || undefined,\n      });\n      onOpenChange(false);\n    } catch (error: any) {\n      console.error('Failed to update registration:', error);\n      setSubmitError(\n        error?.response?.data?.detail ||\n        error?.response?.data?.message ||\n        error?.message ||\n        'Failed to update registration. Please try again.'\n      );\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg max-h-[90vh] overflow-y-auto\">\n        <form onSubmit={handleSubmit}>\n          <DialogHeader>\n            <DialogTitle>Edit Registration</DialogTitle>\n            <DialogDescription>\n              Update your registration details for this event.\n              {isPaidRegistration && (\n                <span className=\"block mt-1 text-amber-600 dark:text-amber-400 font-medium\">\n                  Note: Attendee count cannot be changed for paid registrations.\n                </span>\n              )}\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-6 my-4\">\n            {/* Attendees Section */}\n            <div>\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-100\">\n                  Attendees ({attendees.length})\n                </h3>\n                {!isPaidRegistration && attendees.length < maxAttendeesAllowed && (\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={addAttendee}\n                    className=\"flex items-center gap-1\"\n                  >\n                    <Plus className=\"h-4 w-4\" />\n                    Add Attendee\n                  </Button>\n                )}\n              </div>\n\n              {errors.attendees && (\n                <p className=\"mb-2 text-xs text-red-600\">{errors.attendees}</p>\n              )}\n\n              <div className=\"space-y-3\">\n                {attendees.map((attendee, index) => (\n                  <div\n                    key={index}\n                    className=\"p-3 bg-neutral-50 dark:bg-neutral-800 rounded-md border border-neutral-200 dark:border-neutral-700\"\n                  >\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <User className=\"h-4 w-4 text-neutral-500\" />\n                        <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">\n                          Attendee {index + 1}\n                        </span>\n                      </div>\n                      {!isPaidRegistration && attendees.length > 1 && (\n                        <button\n                          type=\"button\"\n                          onClick={() => removeAttendee(index)}\n                          className=\"text-red-500 hover:text-red-700 p-1\"\n                          title=\"Remove attendee\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      )}\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-3\">\n                      {/* Name */}\n                      <div className=\"col-span-2 sm:col-span-1\">\n                        <label\n                          htmlFor={`attendee-name-${index}`}\n                          className=\"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1\"\n                        >\n                          Name *\n                        </label>\n                        <input\n                          id={`attendee-name-${index}`}\n                          type=\"text\"\n                          value={attendee.name}\n                          onChange={(e) => updateAttendee(index, 'name', e.target.value)}\n                          className={`w-full px-3 py-2 text-sm border rounded-md ${\n                            errors[`attendee_${index}_name`]\n                              ? 'border-red-500 focus:ring-red-500'\n                              : 'border-neutral-300 dark:border-neutral-600 focus:ring-blue-500'\n                          } focus:outline-none focus:ring-2`}\n                          placeholder=\"Full name\"\n                        />\n                        {errors[`attendee_${index}_name`] && (\n                          <p className=\"mt-1 text-xs text-red-600\">\n                            {errors[`attendee_${index}_name`]}\n                          </p>\n                        )}\n                      </div>\n\n                      {/* Age */}\n                      <div>\n                        <label\n                          htmlFor={`attendee-age-${index}`}\n                          className=\"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-1\"\n                        >\n                          Age *\n                        </label>\n                        <input\n                          id={`attendee-age-${index}`}\n                          type=\"number\"\n                          min=\"0\"\n                          max=\"120\"\n                          value={attendee.age || ''}\n                          onChange={(e) =>\n                            updateAttendee(index, 'age', parseInt(e.target.value) || 0)\n                          }\n                          className={`w-full px-3 py-2 text-sm border rounded-md ${\n                            errors[`attendee_${index}_age`]\n                              ? 'border-red-500 focus:ring-red-500'\n                              : 'border-neutral-300 dark:border-neutral-600 focus:ring-blue-500'\n                          } focus:outline-none focus:ring-2`}\n                          placeholder=\"Age\"\n                        />\n                        {errors[`attendee_${index}_age`] && (\n                          <p className=\"mt-1 text-xs text-red-600\">\n                            {errors[`attendee_${index}_age`]}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Contact Information Section */}\n            <div>\n              <h3 className=\"text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-3\">\n                Contact Information\n              </h3>\n\n              <div className=\"space-y-3\">\n                {/* Email */}\n                <div>\n                  <label\n                    htmlFor=\"email\"\n                    className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1\"\n                  >\n                    Email *\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => {\n                      setEmail(e.target.value);\n                      if (errors.email) {\n                        const newErrors = { ...errors };\n                        delete newErrors.email;\n                        setErrors(newErrors);\n                      }\n                    }}\n                    className={`w-full px-3 py-2 border rounded-md ${\n                      errors.email\n                        ? 'border-red-500 focus:ring-red-500'\n                        : 'border-neutral-300 dark:border-neutral-600 focus:ring-blue-500'\n                    } focus:outline-none focus:ring-2`}\n                    placeholder=\"your.email@example.com\"\n                  />\n                  {errors.email && <p className=\"mt-1 text-xs text-red-600\">{errors.email}</p>}\n                </div>\n\n                {/* Phone */}\n                <div>\n                  <label\n                    htmlFor=\"phone\"\n                    className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1\"\n                  >\n                    Phone Number *\n                  </label>\n                  <input\n                    id=\"phone\"\n                    type=\"tel\"\n                    value={phoneNumber}\n                    onChange={(e) => {\n                      setPhoneNumber(e.target.value);\n                      if (errors.phoneNumber) {\n                        const newErrors = { ...errors };\n                        delete newErrors.phoneNumber;\n                        setErrors(newErrors);\n                      }\n                    }}\n                    className={`w-full px-3 py-2 border rounded-md ${\n                      errors.phoneNumber\n                        ? 'border-red-500 focus:ring-red-500'\n                        : 'border-neutral-300 dark:border-neutral-600 focus:ring-blue-500'\n                    } focus:outline-none focus:ring-2`}\n                    placeholder=\"+1 (555) 123-4567\"\n                  />\n                  {errors.phoneNumber && (\n                    <p className=\"mt-1 text-xs text-red-600\">{errors.phoneNumber}</p>\n                  )}\n                </div>\n\n                {/* Address (Optional) */}\n                <div>\n                  <label\n                    htmlFor=\"address\"\n                    className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1\"\n                  >\n                    Address (Optional)\n                  </label>\n                  <textarea\n                    id=\"address\"\n                    value={address}\n                    onChange={(e) => {\n                      setAddress(e.target.value);\n                      if (errors.address) {\n                        const newErrors = { ...errors };\n                        delete newErrors.address;\n                        setErrors(newErrors);\n                      }\n                    }}\n                    rows={2}\n                    className={`w-full px-3 py-2 border rounded-md ${\n                      errors.address\n                        ? 'border-red-500 focus:ring-red-500'\n                        : 'border-neutral-300 dark:border-neutral-600 focus:ring-blue-500'\n                    } focus:outline-none focus:ring-2`}\n                    placeholder=\"123 Main St, City, State ZIP\"\n                  />\n                  {errors.address && <p className=\"mt-1 text-xs text-red-600\">{errors.address}</p>}\n                </div>\n              </div>\n            </div>\n\n            {/* Submit Error */}\n            {submitError && (\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium text-red-800\">Update Failed</p>\n                  <p className=\"text-sm text-red-700\">{submitError}</p>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <DialogFooter>\n            <div className=\"flex gap-2 w-full\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n                disabled={isSubmitting}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"flex-1\"\n              >\n                {isSubmitting ? 'Saving...' : 'Save Changes'}\n              </Button>\n            </div>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\r\n\r\nimport { use } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { ArrowLeft, Calendar, MapPin, Users, DollarSign, Clock, AlertCircle } from 'lucide-react';\r\nimport { Header } from '@/presentation/components/layout/Header';\r\nimport Footer from '@/presentation/components/layout/Footer';\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/presentation/components/ui/Card';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { Badge } from '@/presentation/components/ui/Badge';\r\nimport { useEventById, useRsvpToEvent, useUserRsvpForEvent, useUserRegistrationDetails, useUpdateRegistrationDetails } from '@/presentation/hooks/useEvents';\r\nimport { SignUpManagementSection } from '@/presentation/components/features/events/SignUpManagementSection';\r\nimport { EventRegistrationForm } from '@/presentation/components/features/events/EventRegistrationForm';\r\nimport { MediaGallery } from '@/presentation/components/features/events/MediaGallery';\r\nimport { EditRegistrationModal, type EditRegistrationData } from '@/presentation/components/features/events/EditRegistrationModal';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { EventCategory, EventStatus, RegistrationStatus, type AnonymousRegistrationRequest, type RsvpRequest } from '@/infrastructure/api/types/events.types';\r\nimport { paymentsRepository } from '@/infrastructure/api/repositories/payments.repository';\r\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\r\nimport { useState } from 'react';\r\n\r\n/**\r\n * Event Detail Page\r\n * Displays full event details with RSVP, Stripe payment, waitlist, and sign-up management\r\n */\r\nexport default function EventDetailPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = use(params);\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { user, isHydrated } = useAuthStore();\r\n\r\n  // Session 33: Track where user came from for back navigation\r\n  const fromPage = searchParams.get('from');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isJoiningWaitlist, setIsJoiningWaitlist] = useState(false);\r\n  const [isPublishing, setIsPublishing] = useState(false);\r\n  const [showCancelConfirm, setShowCancelConfirm] = useState(false);\r\n  const [cancelError, setCancelError] = useState<string | null>(null);\r\n  const [isCancelling, setIsCancelling] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [isUpdatingRegistration, setIsUpdatingRegistration] = useState(false);\r\n\r\n  // Fetch event details\r\n  const { data: event, isLoading, error: fetchError } = useEventById(id);\r\n\r\n  // Check if user is already registered for this event\r\n  // Only enable after hydration to prevent race condition with token restoration\r\n  const { data: userRsvp, isLoading: isLoadingRsvp } = useUserRsvpForEvent(\r\n    (user?.userId && isHydrated) ? id : undefined\r\n  );\r\n\r\n  // Fetch full registration details with attendee information\r\n  // Only fetch when auth is ready (after hydration)\r\n  // Fix: Always fetch if userRsvp exists so we can check the status\r\n  const { data: registrationDetails, isLoading: isLoadingRegistration } = useUserRegistrationDetails(\r\n    (user?.userId && isHydrated) ? id : undefined,\r\n    !!userRsvp // Fetch details whenever userRsvp exists (even if cancelled)\r\n  );\r\n\r\n  // Fix: Check registration status - user is only \"registered\" if status is NOT \"Cancelled\"\r\n  const isUserRegistered = !!userRsvp && registrationDetails?.status !== RegistrationStatus.Cancelled;\r\n\r\n  // RSVP mutation\r\n  const rsvpMutation = useRsvpToEvent();\r\n\r\n  // Phase 6A.14: Update registration mutation\r\n  const updateRegistrationMutation = useUpdateRegistrationDetails();\r\n\r\n  // Category labels\r\n  const categoryLabels: Record<EventCategory, string> = {\r\n    [EventCategory.Religious]: 'Religious',\r\n    [EventCategory.Cultural]: 'Cultural',\r\n    [EventCategory.Community]: 'Community',\r\n    [EventCategory.Educational]: 'Educational',\r\n    [EventCategory.Social]: 'Social',\r\n    [EventCategory.Business]: 'Business',\r\n    [EventCategory.Charity]: 'Charity',\r\n    [EventCategory.Entertainment]: 'Entertainment',\r\n  };\r\n\r\n  // Handle Registration (both anonymous and authenticated)\r\n  const handleRegistration = async (data: AnonymousRegistrationRequest | RsvpRequest) => {\r\n    if (!event) return;\r\n\r\n    try {\r\n      setIsProcessing(true);\r\n      setError(null);\r\n\r\n      // Check if this is anonymous or authenticated registration\r\n      if ('userId' in data) {\r\n        // Authenticated user registration (RsvpRequest)\r\n        // Session 23: Build redirect URLs for payment flow\r\n        const baseUrl = typeof window !== 'undefined' ? window.location.origin : '';\r\n        const successUrl = `${baseUrl}/events/payment/success?eventId=${id}`;\r\n        const cancelUrl = `${baseUrl}/events/payment/cancel?eventId=${id}`;\r\n\r\n        // Session 23: RSVP with payment support\r\n        // Backend returns checkout URL for paid events, null for free events\r\n        // Phase 6A.11 FIX: Always send both quantity AND attendees (backend expects both)\r\n        const checkoutUrl = await rsvpMutation.mutateAsync({\r\n          eventId: id,\r\n          userId: data.userId,\r\n          quantity: data.attendees?.length || (data as any).quantity || 1,\r\n          attendees: data.attendees,\r\n          email: data.email,\r\n          phoneNumber: data.phoneNumber,\r\n          address: data.address,\r\n          successUrl,\r\n          cancelUrl,\r\n        });\r\n\r\n        // If checkout URL is returned, redirect to Stripe for payment\r\n        if (checkoutUrl) {\r\n          // Paid event - redirect to Stripe Checkout\r\n          window.location.href = checkoutUrl;\r\n          return; // Don't set isProcessing false - user is being redirected\r\n        }\r\n\r\n        // Free event - reload after a short delay\r\n        // Session 30: Removed alert popup for better UX\r\n        // Give React Query time to invalidate cache and refetch\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 500);\r\n      } else {\r\n        // Anonymous registration\r\n        await eventsRepository.registerAnonymous(id, data);\r\n\r\n        // Session 30: Removed alert popup for better UX\r\n        // Reload to show updated registration count after a short delay\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 500);\r\n      }\r\n\r\n      setIsProcessing(false);\r\n    } catch (err: any) {\r\n      console.error('Registration failed:', err);\r\n\r\n      // Check if it's an authentication error\r\n      if (err?.response?.status === 401 || err?.message?.includes('Token refresh failed')) {\r\n        setError('Your session has expired. Please log out and log back in to continue.');\r\n        // Optionally redirect to login after a delay\r\n        setTimeout(() => {\r\n          router.push('/login?redirect=' + encodeURIComponent(`/events/${id}`));\r\n        }, 3000);\r\n      } else {\r\n        setError(err instanceof Error ? err.message : 'Failed to register. Please try again.');\r\n      }\r\n\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Handle Waitlist\r\n  const handleJoinWaitlist = async () => {\r\n    if (!user?.userId) {\r\n      router.push('/login?redirect=' + encodeURIComponent(`/events/${id}`));\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsJoiningWaitlist(true);\r\n      setError(null);\r\n      await eventsRepository.addToWaitingList(id);\r\n      setIsJoiningWaitlist(false);\r\n      // Session 30: Removed alert popup for better UX\r\n      // The UI will update automatically after page reload\r\n    } catch (err) {\r\n      console.error('Failed to join waitlist:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to join waitlist. Please try again.');\r\n      setIsJoiningWaitlist(false);\r\n    }\r\n  };\r\n\r\n  // Handle Publish Event\r\n  const handlePublishEvent = async () => {\r\n    if (!event || event.organizerId !== user?.userId) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsPublishing(true);\r\n      setError(null);\r\n      await eventsRepository.publishEvent(id);\r\n      setIsPublishing(false);\r\n      // Reload page to show updated status\r\n      window.location.reload();\r\n    } catch (err) {\r\n      console.error('Failed to publish event:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to publish event. Please try again.');\r\n      setIsPublishing(false);\r\n    }\r\n  };\r\n\r\n  // Phase 6A.14: Handle Edit Registration\r\n  const handleEditRegistration = async (data: EditRegistrationData) => {\r\n    try {\r\n      setIsUpdatingRegistration(true);\r\n      await updateRegistrationMutation.mutateAsync({\r\n        eventId: id,\r\n        attendees: data.attendees,\r\n        email: data.email,\r\n        phoneNumber: data.phoneNumber,\r\n        address: data.address,\r\n      });\r\n      setIsUpdatingRegistration(false);\r\n      // Modal will close itself on success\r\n    } catch (err) {\r\n      setIsUpdatingRegistration(false);\r\n      throw err; // Re-throw to let the modal handle the error display\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\r\n        <Header />\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n          <Card className=\"animate-pulse\">\r\n            <CardContent className=\"p-12\">\r\n              <div className=\"h-8 bg-neutral-200 rounded w-3/4 mb-4\"></div>\r\n              <div className=\"h-4 bg-neutral-200 rounded w-1/2 mb-8\"></div>\r\n              <div className=\"h-64 bg-neutral-200 rounded mb-8\"></div>\r\n              <div className=\"h-32 bg-neutral-200 rounded\"></div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (fetchError || !event) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\r\n        <Header />\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n          <Card>\r\n            <CardContent className=\"p-12 text-center\">\r\n              <AlertCircle className=\"h-16 w-16 mx-auto mb-4 text-destructive\" />\r\n              <h3 className=\"text-xl font-semibold text-neutral-900 mb-2\">\r\n                Event Not Found\r\n              </h3>\r\n              <p className=\"text-neutral-500 mb-6\">\r\n                The event you're looking for doesn't exist or has been removed.\r\n              </p>\r\n              <Button onClick={() => router.push(fromPage === 'dashboard' ? '/dashboard' : '/events')}>\r\n                {fromPage === 'dashboard' ? 'Back to Dashboard' : 'Back to Events'}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const startDate = new Date(event.startDate);\r\n  const endDate = new Date(event.endDate);\r\n  const formattedStartDate = startDate.toLocaleDateString('en-US', {\r\n    month: 'long',\r\n    day: 'numeric',\r\n    year: 'numeric',\r\n  });\r\n  const formattedStartTime = startDate.toLocaleTimeString('en-US', {\r\n    hour: 'numeric',\r\n    minute: '2-digit',\r\n  });\r\n  const formattedEndTime = endDate.toLocaleTimeString('en-US', {\r\n    hour: 'numeric',\r\n    minute: '2-digit',\r\n  });\r\n\r\n  const isFull = event.currentRegistrations >= event.capacity;\r\n  const spotsLeft = event.capacity - event.currentRegistrations;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\r\n      <Header />\r\n\r\n      {/* Back Button and Organizer Actions */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <div className=\"flex items-center justify-between gap-4\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => router.push(fromPage === 'dashboard' ? '/dashboard' : '/events')}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n            {fromPage === 'dashboard' ? 'Back to Dashboard' : 'Back to Events'}\r\n          </Button>\r\n\r\n          {/* Organizer-only actions */}\r\n          {event && user && event.organizerId === user.userId && (\r\n            <div className=\"flex items-center gap-3\">\r\n              {/* Publish button - only show for Draft events */}\r\n              {event.status === EventStatus.Draft && (\r\n                <Button\r\n                  onClick={handlePublishEvent}\r\n                  disabled={isPublishing}\r\n                  className=\"flex items-center gap-2\"\r\n                  style={{ background: '#10B981' }}\r\n                >\r\n                  {isPublishing ? 'Publishing...' : 'Publish Event'}\r\n                </Button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Event Hero Section */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12\">\r\n        <Card className=\"overflow-hidden\">\r\n          {/* Event Image */}\r\n          {event.images && event.images.length > 0 && (\r\n            <div className=\"relative h-96 bg-gradient-to-br from-orange-500 to-rose-500\">\r\n              <img\r\n                src={(event.images.find(img => img.isPrimary) || event.images[0]).imageUrl}\r\n                alt={event.title}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n              <div className=\"absolute top-4 right-4\">\r\n                <Badge\r\n                  variant=\"default\"\r\n                  className=\"text-white shadow-lg text-base px-4 py-2\"\r\n                  style={{ background: '#8B1538' }}\r\n                >\r\n                  {categoryLabels[event.category]}\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <CardContent className=\"p-8\">\r\n            {/* Title and Description */}\r\n            <div className=\"mb-8\">\r\n              <h1 className=\"text-4xl font-bold text-neutral-900 mb-4\">\r\n                {event.title}\r\n              </h1>\r\n              <p className=\"text-lg text-neutral-600 leading-relaxed whitespace-pre-wrap\">\r\n                {event.description}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Event Details Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n              {/* Date & Time */}\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\r\n                  <Calendar className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-neutral-500\">Date & Time</p>\r\n                  <p className=\"text-base font-semibold text-neutral-900\">\r\n                    {formattedStartDate}\r\n                  </p>\r\n                  <p className=\"text-sm text-neutral-600\">\r\n                    {formattedStartTime} - {formattedEndTime}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Location */}\r\n              {event.city && event.state && (\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\r\n                    <MapPin className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-neutral-500\">Location</p>\r\n                    <p className=\"text-base font-semibold text-neutral-900\">\r\n                      {event.city}, {event.state}\r\n                    </p>\r\n                    {event.address && (\r\n                      <p className=\"text-sm text-neutral-600\">{event.address}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Capacity */}\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\r\n                  <Users className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-neutral-500\">Capacity</p>\r\n                  <p className=\"text-base font-semibold text-neutral-900\">\r\n                    {event.currentRegistrations} / {event.capacity} registered\r\n                  </p>\r\n                  {isFull ? (\r\n                    <Badge className=\"mt-1 bg-red-600 text-white\">Event Full</Badge>\r\n                  ) : (\r\n                    <p className=\"text-sm text-neutral-600\">\r\n                      {spotsLeft} {spotsLeft === 1 ? 'spot' : 'spots'} remaining\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Pricing - Session 23: Dual pricing, Session 33: Group pricing support */}\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\r\n                  <DollarSign className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-neutral-500\">Pricing</p>\r\n                  {event.isFree ? (\r\n                    <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\r\n                      Free Event\r\n                    </p>\r\n                  ) : event.hasGroupPricing && event.groupPricingTiers && event.groupPricingTiers.length > 0 ? (\r\n                    // Session 33: Group tiered pricing display - show individual tiers\r\n                    <div className=\"space-y-1\">\r\n                      <p className=\"text-sm font-medium text-neutral-600 mb-1\">Group Tiered Pricing</p>\r\n                      {event.groupPricingTiers.map((tier, index) => (\r\n                        <p key={index} className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\r\n                          {tier.maxAttendees\r\n                            ? (tier.minAttendees === tier.maxAttendees\r\n                                ? `${tier.minAttendees} ${tier.minAttendees === 1 ? 'person' : 'persons'}`\r\n                                : `${tier.minAttendees}-${tier.maxAttendees} persons`)\r\n                            : `${tier.minAttendees}+ persons`}\r\n                          : ${tier.pricePerPerson.toFixed(2)}\r\n                        </p>\r\n                      ))}\r\n                    </div>\r\n                  ) : event.hasDualPricing ? (\r\n                    <>\r\n                      <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\r\n                        Adult: ${event.adultPriceAmount?.toFixed(2)}\r\n                      </p>\r\n                      <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\r\n                        Child (under {event.childAgeLimit}): ${event.childPriceAmount?.toFixed(2)}\r\n                      </p>\r\n                      <p className=\"text-sm text-neutral-600\">\r\n                        {event.adultPriceCurrency === 1 ? 'USD' : 'LKR'}\r\n                      </p>\r\n                    </>\r\n                  ) : event.ticketPriceAmount != null ? (\r\n                    <>\r\n                      <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\r\n                        ${event.ticketPriceAmount.toFixed(2)} per person\r\n                      </p>\r\n                      <p className=\"text-sm text-neutral-600\">\r\n                        {event.ticketPriceCurrency === 1 ? 'USD' : 'LKR'}\r\n                      </p>\r\n                    </>\r\n                  ) : (\r\n                    <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\r\n                      Paid Event\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Media Gallery */}\r\n            {((event.images && event.images.length > 0) || (event.videos && event.videos.length > 0)) && (\r\n              <div className=\"mb-8\">\r\n                <MediaGallery images={event.images} videos={event.videos} />\r\n              </div>\r\n            )}\r\n\r\n            {/* Registration Section */}\r\n            <Card className=\"border-2\" style={{ borderColor: '#FF7900' }}>\r\n              <CardHeader>\r\n                <CardTitle>\r\n                  {isUserRegistered\r\n                    ? 'Your Registration'\r\n                    : registrationDetails?.status === RegistrationStatus.Cancelled\r\n                    ? 'Registration Cancelled'\r\n                    : 'Register for this Event'}\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  {isUserRegistered\r\n                    ? 'You are already registered for this event!'\r\n                    : registrationDetails?.status === RegistrationStatus.Cancelled\r\n                    ? 'Your registration for this event has been cancelled. You can register again if you wish.'\r\n                    : isFull\r\n                    ? 'This event is currently full. Join the waitlist to be notified when spots become available.'\r\n                    : 'Reserve your spot now!'}\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {registrationDetails?.status === RegistrationStatus.Cancelled ? (\r\n                  // Show cancelled status with option to re-register\r\n                  <div className=\"space-y-6\">\r\n                    <div className=\"p-4 bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-800 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2 mb-3\">\r\n                        <svg\r\n                          className=\"h-5 w-5 text-gray-600 dark:text-gray-400\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M6 18L18 6M6 6l12 12\"\r\n                          />\r\n                        </svg>\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n                          Registration Cancelled\r\n                        </h3>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-800 dark:text-gray-200 mb-3\">\r\n                        Your registration for this event was cancelled{registrationDetails.updatedAt ? ` on ${new Date(registrationDetails.updatedAt).toLocaleDateString()}` : ''}.\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-700 dark:text-gray-300\">\r\n                        You can register again using the form below.\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Show registration form for re-registration */}\r\n                    {!isFull ? (\r\n                      <EventRegistrationForm\r\n                        eventId={id}\r\n                        spotsLeft={spotsLeft}\r\n                        isFree={event.isFree}\r\n                        ticketPrice={event.ticketPriceAmount ?? undefined}\r\n                        hasDualPricing={event.hasDualPricing}\r\n                        adultPrice={event.adultPriceAmount ?? undefined}\r\n                        childPrice={event.childPriceAmount ?? undefined}\r\n                        childAgeLimit={event.childAgeLimit ?? undefined}\r\n                        isProcessing={isProcessing}\r\n                        onSubmit={handleRegistration}\r\n                        error={error}\r\n                      />\r\n                    ) : (\r\n                      <div className=\"p-4 bg-orange-50 border border-orange-200 rounded-lg\">\r\n                        <p className=\"text-sm text-orange-800\">\r\n                          This event is currently full. The waitlist feature is coming soon.\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : isUserRegistered ? (\r\n                  // Show registration status when user is already registered\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2 mb-3\">\r\n                        <svg\r\n                          className=\"h-5 w-5 text-green-600 dark:text-green-400\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M5 13l4 4L19 7\"\r\n                          />\r\n                        </svg>\r\n                        <h3 className=\"text-lg font-semibold text-green-900 dark:text-green-100\">\r\n                          You're Registered!\r\n                        </h3>\r\n                      </div>\r\n                      <p className=\"text-sm text-green-800 dark:text-green-200 mb-3\">\r\n                        You have successfully registered for this event. We look forward to seeing you there!\r\n                      </p>\r\n\r\n                      {/* Registration Summary with Attendee Details */}\r\n                      <div className=\"mt-3 pt-3 border-t border-green-200 dark:border-green-700\">\r\n                        <h4 className=\"text-sm font-medium text-green-900 dark:text-green-100 mb-3\">\r\n                          Registration Details:\r\n                        </h4>\r\n                        {isLoadingRegistration ? (\r\n                          <p className=\"text-sm text-green-800 dark:text-green-200\">Loading registration details...</p>\r\n                        ) : registrationDetails ? (\r\n                          <div className=\"space-y-4\">\r\n                            {/* Contact Information Section */}\r\n                            {(registrationDetails.contactEmail || registrationDetails.contactPhone || registrationDetails.contactAddress) && (\r\n                              <div className=\"bg-green-100 dark:bg-green-900/30 rounded p-3\">\r\n                                <p className=\"text-xs font-semibold text-green-900 dark:text-green-200 mb-2\">\r\n                                  CONTACT INFORMATION\r\n                                </p>\r\n                                <div className=\"space-y-1 text-xs text-green-800 dark:text-green-300\">\r\n                                  {registrationDetails.contactEmail && (\r\n                                    <p>\r\n                                      <span className=\"font-medium\">Email:</span> {registrationDetails.contactEmail}\r\n                                    </p>\r\n                                  )}\r\n                                  {registrationDetails.contactPhone && (\r\n                                    <p>\r\n                                      <span className=\"font-medium\">Phone:</span> {registrationDetails.contactPhone}\r\n                                    </p>\r\n                                  )}\r\n                                  {registrationDetails.contactAddress && (\r\n                                    <p>\r\n                                      <span className=\"font-medium\">Address:</span> {registrationDetails.contactAddress}\r\n                                    </p>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Attendees Section - Show if we have attendees array with items */}\r\n                            {registrationDetails.attendees && registrationDetails.attendees.length > 0 ? (\r\n                              <div>\r\n                                <p className=\"text-sm font-semibold text-green-900 dark:text-green-100 mb-2\">\r\n                                  Attendees ({registrationDetails.attendees.length}):\r\n                                </p>\r\n                                <div className=\"space-y-2\">\r\n                                  {registrationDetails.attendees.map((attendee, index) => (\r\n                                    <div key={index} className=\"bg-green-100 dark:bg-green-900/30 rounded p-2.5 text-xs\">\r\n                                      <div className=\"flex justify-between items-start\">\r\n                                        <div>\r\n                                          <p className=\"font-medium text-green-900 dark:text-green-100\">\r\n                                            {index + 1}. {attendee.name}\r\n                                          </p>\r\n                                          <p className=\"text-green-700 dark:text-green-300 mt-0.5\">\r\n                                            Age: {attendee.age}\r\n                                          </p>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  ))}\r\n                                </div>\r\n                              </div>\r\n                            ) : (\r\n                              <div className=\"text-sm text-green-800 dark:text-green-200\">\r\n                                <p>Number of attendees: {registrationDetails.quantity || userRsvp?.currentRegistrations || 1}</p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"text-sm text-green-800 dark:text-green-200\">\r\n                            <p>Number of attendees: {userRsvp?.currentRegistrations || 1}</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Cancel Error Message */}\r\n                    {cancelError && (\r\n                      <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                        <div className=\"flex items-start gap-2\">\r\n                          <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n                          <div className=\"flex-1\">\r\n                            <h4 className=\"text-sm font-semibold text-red-900 mb-1\">\r\n                              Failed to Cancel Registration\r\n                            </h4>\r\n                            <p className=\"text-sm text-red-700\">\r\n                              {cancelError}\r\n                            </p>\r\n                            <p className=\"text-xs text-red-600 mt-2\">\r\n                              Please try again or contact support if the problem persists.\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Edit and Cancel buttons */}\r\n                    <div className=\"flex gap-3\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        className=\"flex-1\"\r\n                        onClick={() => setShowEditModal(true)}\r\n                      >\r\n                        Edit Registration\r\n                      </Button>\r\n\r\n                      {!showCancelConfirm ? (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          className=\"flex-1\"\r\n                          style={{ borderColor: '#EF4444', color: '#EF4444' }}\r\n                          onClick={() => {\r\n                            console.log('[CancelRsvp] User clicked Cancel Registration button');\r\n                            setShowCancelConfirm(true);\r\n                          }}\r\n                        >\r\n                          Cancel Registration\r\n                        </Button>\r\n                      ) : (\r\n                        <div className=\"flex flex-1 gap-2\">\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            className=\"flex-1\"\r\n                            onClick={() => {\r\n                              console.log('[CancelRsvp] User cancelled the cancellation');\r\n                              setShowCancelConfirm(false);\r\n                              setCancelError(null);\r\n                              setIsCancelling(false);\r\n                            }}\r\n                          >\r\n                            Keep Registration\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            className=\"flex-1\"\r\n                            disabled={isCancelling}\r\n                            style={{\r\n                              borderColor: '#EF4444',\r\n                              color: '#FFFFFF',\r\n                              backgroundColor: '#EF4444',\r\n                              opacity: isCancelling ? 0.6 : 1\r\n                            }}\r\n                            onClick={async () => {\r\n                              try {\r\n                                console.log('[CancelRsvp] User confirmed cancellation, attempting to cancel registration for event:', id);\r\n                                setIsCancelling(true);\r\n                                setCancelError(null);\r\n                                await eventsRepository.cancelRsvp(id);\r\n                                console.log('[CancelRsvp] Successfully cancelled registration - reloading page');\r\n                                window.location.reload();\r\n                              } catch (error: any) {\r\n                                console.error('[CancelRsvp] Failed to cancel registration:', error);\r\n                                console.error('[CancelRsvp] Error details:', {\r\n                                  message: error?.message,\r\n                                  response: error?.response,\r\n                                  status: error?.response?.status,\r\n                                  data: error?.response?.data,\r\n                                  detail: error?.response?.data?.detail\r\n                                });\r\n                                const errorMessage = error?.response?.data?.detail || error?.response?.data?.message || error?.message || 'Unknown error';\r\n                                setCancelError(errorMessage);\r\n                                setIsCancelling(false);\r\n                                // Don't reset showCancelConfirm so user can see the error and try again\r\n                              }\r\n                            }}\r\n                          >\r\n                            {isCancelling ? 'Cancelling...' : 'Confirm Cancel'}\r\n                          </Button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ) : !isFull ? (\r\n                  <EventRegistrationForm\r\n                    eventId={id}\r\n                    spotsLeft={spotsLeft}\r\n                    isFree={event.isFree}\r\n                    ticketPrice={event.ticketPriceAmount ?? undefined}\r\n                    hasDualPricing={event.hasDualPricing}\r\n                    adultPrice={event.adultPriceAmount ?? undefined}\r\n                    childPrice={event.childPriceAmount ?? undefined}\r\n                    childAgeLimit={event.childAgeLimit ?? undefined}\r\n                    isProcessing={isProcessing}\r\n                    onSubmit={handleRegistration}\r\n                    error={error}\r\n                  />\r\n                ) : (\r\n                  <>\r\n                    {/* Waitlist Section */}\r\n                    <div className=\"space-y-4\">\r\n                      <Button\r\n                        onClick={handleJoinWaitlist}\r\n                        disabled={isJoiningWaitlist}\r\n                        className=\"w-full text-lg py-6\"\r\n                        variant=\"outline\"\r\n                        style={{ borderColor: '#FF7900', color: '#FF7900' }}\r\n                      >\r\n                        {isJoiningWaitlist ? (\r\n                          <>\r\n                            <Clock className=\"h-5 w-5 mr-2 animate-spin\" />\r\n                            Joining...\r\n                          </>\r\n                        ) : (\r\n                          'Join Waitlist'\r\n                        )}\r\n                      </Button>\r\n\r\n                      {!user?.userId && (\r\n                        <p className=\"text-sm text-center text-neutral-500\">\r\n                          You'll be redirected to login before joining the waitlist\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    {error && (\r\n                      <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                        <p className=\"text-sm text-red-600\">{error}</p>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Sign-Up Management Section */}\r\n        {/* Wait for auth hydration before rendering to ensure userId is available */}\r\n        {isHydrated && (\r\n          <div className=\"mt-8\">\r\n            <SignUpManagementSection\r\n              eventId={id}\r\n              userId={user?.userId}\r\n              isOrganizer={false}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Footer />\r\n\r\n      {/* Phase 6A.14: Edit Registration Modal */}\r\n      <EditRegistrationModal\r\n        open={showEditModal}\r\n        onOpenChange={setShowEditModal}\r\n        registration={registrationDetails || null}\r\n        eventId={id}\r\n        isFreeEvent={event?.isFree ?? true}\r\n        spotsLeft={spotsLeft}\r\n        onSave={handleEditRegistration}\r\n        isSubmitting={isUpdatingRegistration}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n"],"names":[],"mappings":"wDGEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,KAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OHRA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OA6BO,SAAS,EAAsB,SACpC,CAAO,CACP,WAAS,QACT,CAAM,aACN,CAAW,gBACX,CAAc,YACd,CAAU,YACV,CAAU,eACV,CAAa,iBACb,CAAe,mBACf,CAAiB,CACjB,cAAY,UACZ,CAAQ,OACR,CAAK,CACsB,EAC3B,GAAM,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,IACvB,SAAE,CAAO,CAAE,aAAW,CAAE,CAAG,CAAA,EAAA,EAAA,eAAA,AAAe,IAG1C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAGzC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA4C,CACpF,CAAE,KAAM,GAAI,IAAK,EAAG,EACrB,EAGK,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACrC,SAAS,EACT,OAAO,EACP,YAAa,GACb,UAAW,EAAE,AACf,GAGA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GAAM,QAAU,CAAC,GACnB,EAAY,EAAK,EADW,IACL,CAE3B,EAAG,CAAC,GAAM,OAAQ,EAAS,EAAY,EAGvC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GAAQ,IACV,EAAS,EAAQ,CADE,IACG,EACtB,EAAe,EAAQ,WAAW,EAAI,IAGlC,EAAQ,QAAQ,EAAE,AAMpB,EALqB,AAKV,CAJT,EAAQ,QAAQ,CAAC,IAAI,CACrB,EAAQ,QAAQ,CAAC,KAAK,CACtB,EAAQ,QAAQ,CAAC,OAAO,CACzB,CAAC,MAAM,CAAC,SACe,IAAI,CAAC,OAK/B,EAAa,CACX,CACE,KAAM,CAAA,EAAG,EAAQ,SAAS,CAAC,CAAC,EAAE,EAAQ,QAAQ,CAAA,CAAE,CAAC,IAAI,GACrD,IAAK,EACP,EACD,EAEL,EAAG,CAAC,EAAM,EAAQ,EAGlB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAKR,EAJqB,MAAM,IAAI,CAIlB,AAJmB,CAAE,OAAQ,CAAS,EAAG,CAAC,EAAG,IAEjD,CAAS,CAAC,EAAM,EAAI,CAAE,KAAM,GAAI,IAAK,EAAG,IAGjD,EAAW,IAAS,CAClB,EADiB,CACd,CAAI,CACP,UAAW,MAAM,GAAU,IAAI,EAAC,GAClC,CAAC,CACH,EAAG,CAAC,EAAS,EAGb,IAAM,EAAuB,CAAC,EAAe,EAAuB,KAClE,IAAM,EAAU,IAAI,EAAU,CAC9B,CAAO,CAAC,EAAM,CAAG,CACf,GAAG,CAAO,CAAC,EAAM,CACjB,CAAC,EAAM,CAAY,QAAV,EAAmB,AAAU,OAAK,GAAK,OAAO,GAAU,CACnE,EACA,EAAa,EACf,EAEM,EAAwB,AAAC,IAC7B,IAAM,EAAiB,IAAI,EAAQ,SAAS,CAAC,CAC7C,CAAc,CAAC,EAAM,EAAG,EACxB,EAAW,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,UAAW,EAAe,CAAC,CAC5D,EAGM,EAAqB,KACzB,GAAI,CAAC,GAAmB,CAAC,GAAkD,GAAG,CAAhC,EAAkB,MAAM,CACpE,OAAO,KAMT,IAAK,IAAM,IAFS,IAED,AAFK,EAAkB,CAAC,IAAI,CAAC,CAAC,EAAG,CAEpB,GAF0B,EAAE,YAAY,CAAG,EAAE,YAAY,EAGvF,GAJqB,AAIjB,GAAkB,EAAK,YAAY,EAAE,CAEnC,CAAC,EAAK,YAAY,EAAE,AAIpB,GAAkB,EAAK,YAAY,EAHrC,AAGuC,OAHhC,EASb,OAAO,IACT,EAkCM,EAAS,CACb,QAAS,EAAQ,OAAO,EAAI,CAAC,EAAQ,IAAI,GAAK,sBAAwB,GACtE,OAAO,EAAQ,KAAK,EAAK,AAAC,EAAF,AAAQ,IAAI,IAAO,EAAD,2BAA8B,IAAI,CAAC,GAAsC,GAA5B,AAAJ,0BACnF,aAAa,EAAQ,WAAW,EAAM,AAAD,EAAa,AAAd,IAAkB,IAAO,EAAD,iBAAoB,IAAI,CAAC,GAAmD,GAAnC,MAAJ,2BACjG,UAAW,EAAU,GAAG,CAAC,CAAC,EAAU,IAClC,AAAK,EAAQ,EAAT,OAAkB,CAAC,EAAM,CACtB,CADwB,AAE7B,KAAO,AAAD,EAAU,IAAI,CAAC,IAAI,GAA0B,GAArB,mBAC9B,IAAK,CAAC,EAAS,GAAG,EAAI,EAAS,GAAG,CAAG,GAAK,EAAS,GAAG,CAAG,IAAM,gCAAkC,EACnG,EAJsC,CAAE,KAAM,GAAI,IAAK,EAAG,EAM9D,EAGM,EACJ,EAAQ,IAAI,IACZ,EAAM,IAAI,IACV,6BAA6B,IAAI,CAAC,IAClC,EAAY,IAAI,IAChB,mBAAmB,IAAI,CAAC,IACxB,EAAU,KAAK,CAAC,GAAK,EAAE,IAAI,CAAC,IAAI,IAAM,EAAE,GAAG,EAAI,EAAE,GAAG,EAAI,GAAK,EAAE,GAAG,EAAI,KAElE,EAAe,MAAO,IAW1B,GAVA,EAAE,cAAc,GAGhB,EAAW,CACT,SAAS,EACT,MAAO,GACP,aAAa,EACb,UAAW,MAAM,GAAU,IAAI,EAAC,EAClC,GAEI,CAAC,EACH,OAIF,IALkB,AAKZ,EAA+B,EAAU,GAAG,CAAC,IAAK,AAAC,CACvD,KAAM,EAAE,IAAI,CAAC,IAAI,GACjB,IAAK,OAAO,EAAE,GAAG,EACnB,CAAC,EAED,GAAK,CAAD,CAUG,CAGL,IAAM,EAAwB,CAC5B,OAAQ,EAAK,MAAM,CACnB,SAAU,EAAc,MAAM,CAC9B,UAAW,EACX,MAAO,EAAM,IAAI,SAAM,EACvB,YAAa,EAAY,IAAI,IAAM,OACnC,QAAS,EAAQ,IAAI,SAAM,CAC7B,CAEA,OAAM,EAAS,EACjB,KAvBW,CAET,IAAM,EAA8C,CAClD,UAAW,EACX,QAAS,EAAQ,IAAI,GACrB,MAAO,EAAM,IAAI,GACjB,YAAa,EAAY,IAAI,EAC/B,CAEA,OAAM,EAAS,EACjB,CAcF,EAEM,EAAa,CApGS,KAC1B,GAAI,EAAQ,OAAO,EAGnB,GAAI,GAAmB,GAAqB,EAAkB,MAAM,CAAG,EAAG,CACxE,IAAM,EAAiB,WACvB,AAAI,EACK,EAAe,YADJ,EACkB,CAAG,EAElC,CACT,EADY,MAIZ,AAAI,GAAkB,GAAc,GAAc,EAEzC,EAAU,MAAM,CAAC,CANa,AAMZ,EAAO,CAF+B,GAGxC,AAArB,KAAI,EAAS,GAAG,EAA4B,GAAG,CAApB,EAAS,GAAG,CAAe,EAE/C,EAAS,CADJ,KACG,EADI,EAAS,GAAG,EACT,EAAgB,EAAa,CAAA,CAAU,CAC5D,GAID,EACK,EAAc,EAGhB,EACT,IAyEM,CA9Ea,CA8EI,EAAkB,IAAuB,KAEhE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBAEtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,2DAAkD,wBAGnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,SACL,IAAI,IACJ,IAAK,KAAK,GAAG,CAAC,GAAI,GAClB,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,GACzD,SAAU,EACV,UAAU,WAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,2DAM/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA8C,yBAC3D,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,kDAI9C,GAAQ,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,4EAK/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAU,GAAG,CAAC,CAAC,EAAU,IACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,mEACzB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,sDAA4C,YAC9C,EAAQ,KAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,aACvD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAqB,EAAO,OAAQ,EAAE,MAAM,CAAC,KAAK,EACnE,OAAQ,IAAM,EAAsB,GACpC,MAAO,CAAC,CAAC,EAAO,SAAS,CAAC,EAAM,EAAE,KAClC,SAAU,EACV,YAAY,kBACZ,UAAU,WAEX,EAAO,SAAS,CAAC,EAAM,EAAE,MACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,SAAS,CAAC,EAAM,CAAC,IAAI,MAK1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,OAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,MAClC,GAAkB,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0CAAgC,UACtC,EAAc,wBAI5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,SACL,IAAI,IACJ,IAAI,MACJ,MAAO,EAAS,GAAG,CACnB,SAAU,AAAC,GAAM,EAAqB,EAAO,MAAO,EAAE,MAAM,CAAC,KAAK,CAAG,SAAS,EAAE,MAAM,CAAC,KAAK,EAAI,IAChG,OAAQ,IAAM,EAAsB,GACpC,MAAO,CAAC,CAAC,EAAO,SAAS,CAAC,EAAM,EAAE,IAClC,SAAU,EACV,YAAY,MACZ,UAAU,WAEX,EAAO,SAAS,CAAC,EAAM,EAAE,KACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,SAAS,CAAC,EAAM,CAAC,GAAG,WAhDnE,SA0Df,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA8C,wBAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,4EAK7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,WACzD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,OAAQ,IAAM,EAAW,CAAE,GAAG,CAAO,CAAE,SAAS,CAAK,GACrD,MAAO,CAAC,CAAC,EAAO,OAAO,CACvB,SAAU,EACV,YAAY,qBACZ,UAAU,WAEX,EAAO,OAAO,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,OAAO,MAK5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,SAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,QACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,OAAQ,IAAM,EAAW,CAAE,GAAG,CAAO,CAAE,OAAO,CAAK,GACnD,MAAO,CAAC,CAAC,EAAO,KAAK,CACrB,SAAU,EACV,YAAY,yBACZ,UAAU,WAEX,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,KAAK,MAK1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,gBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,MACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,OAAQ,IAAM,EAAW,CAAE,GAAG,CAAO,CAAE,aAAa,CAAK,GACzD,MAAO,CAAC,CAAC,EAAO,WAAW,CAC3B,SAAU,EACV,YAAY,kBACZ,UAAU,WAEX,EAAO,WAAW,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,WAAW,SAOnE,GAAQ,GACP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA8C,wBAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,+EAK7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,SAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,QACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,OAAQ,IAAM,EAAW,CAAE,GAAG,CAAO,CAAE,MAAO,EAAK,GACnD,MAAO,CAAC,CAAC,EAAO,KAAK,CACrB,SAAU,EACV,YAAY,yBACZ,UAAU,WAEX,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,KAAK,MAK1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,gBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,MACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,OAAQ,IAAM,EAAW,CAAE,GAAG,CAAO,CAAE,YAAa,EAAK,GACzD,MAAO,CAAC,CAAC,EAAO,WAAW,CAC3B,SAAU,EACV,YAAY,kBACZ,UAAU,WAEX,EAAO,WAAW,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,WAAW,MAKhE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4DAAkD,WACzD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,OAAQ,IAAM,EAAW,CAAE,GAAG,CAAO,CAAE,SAAS,CAAK,GACrD,MAAO,CAAC,CAAC,EAAO,OAAO,CACvB,SAAU,EACV,YAAY,qBACZ,UAAU,WAEX,EAAO,OAAO,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,OAAO,MAI5D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,yEAOhD,CAAC,GAAU,EAAa,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEAEZ,GAAmB,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wCAA+B,2BAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA+B,EAAe,SAAS,GACvE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,iBAE1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDAAuC,IAClD,EAAe,cAAc,CAAC,OAAO,CAAC,GAAG,iBAE7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAS,OAAK,EAAe,cAAc,CAAC,OAAO,CAAC,eAQ9D,GAAkB,GAAc,GAAc,GAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wCAA+B,qBAC5C,EAAU,GAAG,CAAC,CAAC,EAAU,KACxB,GAAI,CAAC,EAAS,GAAG,CAAE,OAAO,KAC1B,IAAM,EAAM,OAAO,EAAS,GAAG,EACzB,EAAQ,EAAM,EAAgB,EAAa,EAC3C,EAAY,EAAM,EAAgB,QAAU,QAClD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,0DACzB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAS,IAAI,EAAI,CAAC,SAAS,EAAE,EAAQ,EAAA,CAAG,CAAC,KAAG,EAAU,SAAO,EAAI,OACxE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,IAAE,EAAM,OAAO,CAAC,QAFd,EAKd,MAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kDAAyC,UACzD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oBAAoB,MAAO,CAAE,MAAO,SAAU,YAAG,IAC7D,EAAW,OAAO,CAAC,YAO5B,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,MAKzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,GAAgB,CAAC,EAC3B,UAAU,sBACV,MAAO,CAAE,WAAY,SAAU,WAE9B,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,8BAA8B,mBAG/C,EACF,oBAEA,wBAIH,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,iDAAuC,oBACjC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,SAAS,UAAU,2CAAkC,YAAW,2BAKnG,CCzkBA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OGaA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAd,AAAc,CAAd,AAAc,CAAd,AAAc,CAAA,CAAA,CAAA,OAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAbD,CAAC,AAagB,CAAA,AAbf,CAae,CAAA,CAAA,CAAA,CAAA,CAbf,AAae,CAbf,AAae,AAbP,CAAA,AAAE,AAaK,CAAU,CAbZ,AAaY,gBAbZ,CAAA,AAAkB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAC,CAAA,EHArF,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAkBO,SAAS,EAAa,QAAE,EAAS,EAAE,CAAE,SAAS,EAAE,WAAE,EAAY,EAAE,CAAqB,EAC1F,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,SAGxD,EAAc,EAAO,MAAM,CAC3B,EAAc,EAAO,MAAM,QAGjC,AAAI,AAAe,GAAG,CAFH,EAAc,EAGxB,KAoCP,CApCa,AAoCb,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,MApCwC,KAqCtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,UAAU,EAAE,EAAA,CAAW,WAErC,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8EAAoE,WACvE,EAAY,OAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,IAAI,EAAO,CACT,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,YAAY,CAAG,EAAE,YAAY,EAC9C,GAAG,CAAC,CAAC,EAAO,IACX,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CA7C/B,EA6CiD,GA5CjD,EAAa,SADG,AAEhB,GAAgB,IA4CA,UAAU,2IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAM,QAAQ,CACnB,IAAK,CAAC,YAAY,EAAE,EAAM,YAAY,CAAA,CAAE,CACxC,UAAU,+BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACZ,EAAM,YAAY,KAXhB,EAAM,EAAE,QAoBxB,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8EAAoE,WACvE,EAAY,OAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,IAAI,EAAO,CACT,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,YAAY,CAAG,EAAE,YAAY,EAC9C,GAAG,CAAC,CAAC,EAAO,IACX,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CApE/B,EAoEiD,GAnEjD,EAAa,SACb,AAFgB,GAEA,IAmEA,UAAU,0IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAM,YAAY,CACvB,IAAK,CAAC,MAAM,EAAE,EAAM,YAAY,CAAA,CAAE,CAClC,UAAU,+BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mHACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,2BAA2B,KAAK,qBAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACZ,EAAM,YAAY,KAfhB,EAAM,EAAE,WAyB3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAc,aAAc,WACxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,qDACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEAEb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,IAC/B,UAAU,+FACV,aAAW,0BAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,yBAId,CAAgB,UAAd,GAAyB,EAAc,GACzB,UAAd,GAAyB,GAAc,CAAE,EAC1C,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAvGK,CAuGI,IAtGL,SAAS,CAAvB,EACF,EAAiB,AAAD,GAAoB,IAAT,EAAa,EAAc,EAAI,EAAO,GAEjE,EAAgB,AAAC,GAAmB,IAAT,EAAa,EAAc,EAAI,EAAO,EAErE,EAkGgB,UAAU,wFACV,aAAW,0BAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAY,UAAU,yBAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QArGC,CAqGQ,IApGL,SAAS,CAAvB,EACF,EAAgB,AAAC,GAAU,IAAS,EAAc,EAAI,EAAI,EAAO,GAEjE,EAAgB,AAAC,GAAU,IAAS,EAAc,EAAI,EAAI,EAAO,EAErE,EAgGgB,UAAU,yFACV,aAAW,sBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,4BAM9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACE,UAAd,GAAyB,CAAM,CAAC,EAAa,EAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CAAM,CAAC,EAAa,CAAC,QAAQ,CAClC,IAAK,CAAC,YAAY,EAAE,CAAM,CAAC,EAAa,CAAC,YAAY,CAAA,CAAE,CACvD,UAAU,yCAIC,UAAd,GAAyB,CAAM,CAAC,EAAa,EAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,CAAM,CAAC,EAAa,CAAC,QAAQ,CAClC,QAAQ,CAAA,CAAA,EACR,QAAQ,CAAA,CAAA,EACR,UAAU,wBACV,OAAQ,CAAM,CAAC,EAAa,CAAC,YAAY,UAC1C,oDAOL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8GACZ,EAAe,EAAE,MAAkB,UAAd,EAAwB,EAAc,cAO1E,CCjLA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAqBO,SAAS,EAAsB,CACpC,MAAI,CACJ,cAAY,cACZ,CAAY,SACZ,CAAO,aACP,CAAW,WACX,CAAS,QACT,CAAM,cACN,GAAe,CAAK,CACO,EAE3B,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,EAAE,EACtD,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACzC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,CAAC,GACxD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAGxD,EAAqB,GAAc,gBAAkB,EACrD,CADwD,CAChC,GAAc,WAAW,QAAU,GAAc,AADS,UACG,EAGrF,EAAsB,EACxB,KAAK,GAAG,CAAC,GAAI,EAAwB,GACrC,EAyCJ,GAtCA,CAAA,EAJoD,AAIpD,EAAA,SAAS,AAAT,EAAU,EAHiB,GAIzB,GAAI,GAAQ,EAAc,CAExB,GAAI,EAAa,KAPoE,IAO3D,EAAI,EAAa,GANa,MAMJ,CAAC,MAAM,CAAG,EAC5D,CAD+D,CAClD,IAAI,EAAa,SAAS,CAAC,MACnC,CAEL,IAAM,EAA8B,EAAE,CAChC,EAAM,EAAa,QAAQ,EAAI,EACrC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,IAAK,AAC5B,EAAa,IAAI,CAAC,CAAE,KAAM,GAAI,IAAK,CAAE,GAEvC,EAAa,EACf,CAGA,EAAS,EAAa,YAAY,EAAI,IACtC,EAAe,EAAa,YAAY,EAAI,IAC5C,EAAW,EAAa,cAAc,EAAI,IAG1C,EAAU,CAAC,GACX,EAAe,KACjB,CACF,EAAG,CAAC,EAAM,EAAa,EAGvB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACH,IACH,EADS,AACI,EAAE,EACf,EAAS,IACT,EAAe,IACf,EAAW,IACX,EAAU,CAAC,GACX,EAAe,MAEnB,EAAG,CAAC,EAAK,EAEL,CAAC,EAAc,OAAO,KAG1B,IAAM,EAAiB,CAAC,EAAe,EAA0B,KAC/D,IAAM,EAAe,IAAI,EAAU,CACrB,QAAQ,CAAlB,EACF,CAAY,CAAC,EAAM,CAAG,CAAE,GAAG,CAAY,CAAC,EAAM,CAAE,KAAM,CAAgB,EACnD,OAAO,CAAjB,IACT,CAAY,CAAC,EAAM,CAAG,CAAE,GAAG,CAAY,CAAC,EAAM,CAAE,IAAK,EAAgB,EAEvE,EAAa,GAGb,IAAM,EAAW,CAAC,SAAS,EAAE,EAAM,CAAC,EAAE,EAAA,CAAO,CAC7C,GAAI,CAAM,CAAC,EAAS,CAAE,CACpB,IAAM,EAAY,CAAE,GAAG,CAAM,AAAC,CAC9B,QAAO,CAAS,CAAC,EAAS,CAC1B,EAAU,EACZ,CACF,EAmEM,EAAe,MAAO,QAhDpB,EAoDN,GAHA,CAGI,CAHF,AAGG,cAHW,EAGK,CAFrB,EAAe,QAlD2B,CAAC,EAGlB,GAAG,CAAxB,EAAU,MAAM,GAClB,EAAU,SAAS,CAAG,mCAAA,EAGxB,EAAU,OAAO,CAAC,CAAC,EAAU,KACtB,AAAD,EAAU,IAAI,EAAK,EAAD,AAAU,IAAI,CAAC,IAAI,GAE9B,CAFkC,CAEzB,IAAI,CAAC,MAAM,CAAG,KAAK,CACrC,CAAS,CAAC,CAAC,SAAS,EAAE,EAAM,KAAK,CAAC,CAAC,CAAG,mCAAA,EAFtC,CAAS,CAAC,CAAC,SAAS,EAAE,EAAM,KAAK,CAAC,CAAC,CAAG,mBAKpC,GAAS,GAAG,CAAG,GAAK,EAAS,GAAG,CAAG,GAAA,GAAK,CAC1C,CAAS,CAAC,CAAC,SAAS,EAAE,EAAM,IAAI,CAAC,CAAC,CAAG,+BAAA,CAEzC,GAGI,GAAsB,EAAU,MAAM,GAAK,IAC7C,EAAU,SAAS,CAAG,CAAC,MAD6C,+DACwB,EAAE,EAAA,CAAuB,AAAvB,EAI3F,EAAM,IAAI,GAEJ,AAAC,CAFO,4BAEsB,IAAI,CAAC,KAC5C,EAAU,CAD0C,IACrC,CAAG,sBAAA,EAFlB,EAAU,KAAK,CAAG,oBAMf,EAAY,IAAI,GAEV,CAFc,CAEF,MAAM,CAAG,IAAI,CAClC,EAAU,WAAW,CAAG,0CAAA,EAFxB,EAAU,WAAW,CAAG,2BAMtB,GAAW,EAAQ,MAAM,CAAG,KAAK,CACnC,EAAU,OAAO,CAAG,sCAAA,EAGtB,EAAU,GAC+B,IAAlC,OAAO,IAAI,CAAC,GAAW,MAAM,CAYpC,GAAI,CACF,MAAM,EAAO,CACX,UAAW,EAAU,GAAG,CAAC,GAAM,CAAD,CAAG,KAAM,EAAE,IAAI,CAAC,IAAI,GAAI,IAAK,EAAE,GAAG,CAAC,CAAC,EAClE,MAAO,EAAM,IAAI,GACjB,YAAa,EAAY,IAAI,GAC7B,QAAS,EAAQ,IAAI,SAAM,CAC7B,GACA,GAAa,EACf,CAAE,MAAO,EAAY,CACnB,QAAQ,KAAK,CAAC,iCAAkC,GAChD,EACE,GAAO,UAAU,MAAM,QACvB,GAAO,UAAU,MAAM,SACvB,GAAO,SACP,mDAEJ,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAM,aAAc,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,iDACvB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WAAC,mDAEhB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qEAA4D,yEAOlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,yEAA+D,cAC/D,EAAU,MAAM,CAAC,OAE9B,CAAC,GAAsB,EAAU,MAAM,CAAG,GACzC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,KAAK,KACL,QAvHE,CAuHO,IAtHrB,EAAU,MAAM,CAAG,GACrB,EAAa,IAAI,EAAW,CAAE,KAAM,GAAI,CADE,GACG,CAAE,EAAE,CAErD,EAoHkB,UAAU,oCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,qBAMjC,EAAO,SAAS,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,SAAS,GAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAU,GAAG,CAAC,CAAC,EAAU,IACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,+GAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,6BAChB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uEAA6D,YACjE,EAAQ,QAGrB,CAAC,GAAsB,EAAU,MAAM,CAAG,GACzC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,CA5IjC,EAAU,MAAM,CAAG,GAAG,AAExB,EADqB,EAAU,MAAM,CAAC,CAAC,CAC1B,CAD6B,IAAM,IA2IE,EA3II,GA4IlC,UAAU,sCACV,MAAM,2BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iBAKxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAS,CAAC,cAAc,EAAE,EAAA,CAAO,CACjC,UAAU,iFACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAI,CAAC,cAAc,EAAE,EAAA,CAAO,CAC5B,KAAK,OACL,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAe,EAAO,OAAQ,EAAE,MAAM,CAAC,KAAK,EAC7D,UAAW,CAAC,2CAA2C,EACrD,CAAM,CAAC,CAAC,SAAS,EAAE,EAAM,KAAK,CAAC,CAAC,CAC5B,oCACA,iEACL,gCAAgC,CAAC,CAClC,YAAY,cAEb,CAAM,CAAC,CAAC,SAAS,EAAE,EAAM,KAAK,CAAC,CAAC,EAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCACV,CAAM,CAAC,CAAC,SAAS,EAAE,EAAM,KAAK,CAAC,CAAC,MAMvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAS,CAAC,aAAa,EAAE,EAAA,CAAO,CAChC,UAAU,iFACX,UAGD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAI,CAAC,aAAa,EAAE,EAAA,CAAO,CAC3B,KAAK,SACL,IAAI,IACJ,IAAI,MACJ,MAAO,EAAS,GAAG,EAAI,GACvB,SAAU,AAAC,GACT,EAAe,EAAO,MAAO,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,GAE3D,UAAW,CAAC,2CAA2C,EACrD,CAAM,CAAC,CAAC,SAAS,EAAE,EAAM,IAAI,CAAC,CAAC,CAC3B,oCACA,iEACL,gCAAgC,CAAC,CAClC,YAAY,QAEb,CAAM,CAAC,CAAC,SAAS,EAAE,EAAM,IAAI,CAAC,CAAC,EAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCACV,CAAM,CAAC,CAAC,SAAS,EAAE,EAAM,IAAI,CAAC,CAAC,WA5EnC,SAuFb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6EAAoE,wBAIlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,QACR,UAAU,iFACX,YAGD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAG,QACH,KAAK,QACL,MAAO,EACP,SAAU,AAAC,IAET,GADA,EAAS,EAAE,MAAM,CAAC,KAAK,EACnB,EAAO,KAAK,CAAE,CAChB,IAAM,EAAY,CAAE,GAAG,CAAM,AAAC,CAC9B,QAAO,EAAU,KAAK,CACtB,EAAU,EACZ,CACF,EACA,UAAW,CAAC,mCAAmC,EAC7C,EAAO,KAAK,CACR,oCACA,iEACL,gCAAgC,CAAC,CAClC,YAAY,2BAEb,EAAO,KAAK,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,KAAK,MAIzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,QACR,UAAU,iFACX,mBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAG,QACH,KAAK,MACL,MAAO,EACP,SAAU,AAAC,IAET,GADA,EAAe,EAAE,MAAM,CAAC,KAAK,EACzB,EAAO,WAAW,CAAE,CACtB,IAAM,EAAY,CAAE,GAAG,CAAM,AAAC,CAC9B,QAAO,EAAU,WAAW,CAC5B,EAAU,EACZ,CACF,EACA,UAAW,CAAC,mCAAmC,EAC7C,EAAO,WAAW,CACd,oCACA,iEACL,gCAAgC,CAAC,CAClC,YAAY,sBAEb,EAAO,WAAW,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,WAAW,MAKhE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,UACR,UAAU,iFACX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,GAAG,UACH,MAAO,EACP,SAAU,AAAC,IAET,GADA,EAAW,EAAE,MAAM,CAAC,KAAK,EACrB,EAAO,OAAO,CAAE,CAClB,IAAM,EAAY,CAAE,GAAG,CAAM,AAAC,CAC9B,QAAO,EAAU,OAAO,CACxB,EAAU,EACZ,CACF,EACA,KAAM,EACN,UAAW,CAAC,mCAAmC,EAC7C,EAAO,OAAO,CACV,oCACA,iEACL,gCAAgC,CAAC,CAClC,YAAY,iCAEb,EAAO,OAAO,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,EAAO,OAAO,YAMhF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,8CACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,kBAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,aAM7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,UACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,IAAM,GAAa,GAC5B,SAAU,EACV,UAAU,kBACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,EACV,UAAU,kBAET,EAAe,YAAc,4BAQ9C,CC7dA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAOe,SAAS,EAAgB,QAAE,CAAM,CAAuC,EACrF,GAAM,IAAE,CAAE,CAAE,CAAG,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,GACb,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,MAAE,CAAI,YAAE,CAAU,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,IAGnC,EAAW,EAAa,GAAG,CAAC,QAC5B,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACrD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACxD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAwB,EAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAG/D,CAAE,KAAM,CAAK,WAAE,CAAS,CAAE,MAAO,CAAU,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,GAI7D,CAAE,KAAM,CAAQ,CAAE,UAAW,CAAa,CAAE,CAAG,CAAA,EAAA,EAAA,mBAAmB,AAAnB,EACnD,GAAO,QAAU,EAAc,OAAK,GAMhC,CAAE,KAAM,CAAmB,CAAE,UAAW,EAAqB,CAAE,CAAG,CAAA,EAAA,EAAA,0BAAA,AAA0B,EAC/F,GAAM,QAAU,EAAc,OAAK,EACpC,CAAC,CAAC,GAIE,GAAmB,CAAC,CAAC,CAJd,EAI0B,GAAqB,SAAW,EAAA,kBAAkB,CAAC,SAAS,CAG7F,GAAe,CAAA,EAAA,EAAA,QAPqD,MAOrD,AAAc,IAG7B,GAA6B,CAAA,EAAA,EAAA,4BAAA,AAA4B,IAGzD,GAAgD,CACpD,CAAC,EAAA,aAAa,CAAC,SAAS,CAAC,CAAE,YAC3B,CAAC,EAAA,aAAa,CAAC,QAAQ,CAAC,CAAE,WAC1B,CAAC,EAAA,aAAa,CAAC,SAAS,CAAC,CAAE,YAC3B,CAAC,EAAA,aAAa,CAAC,WAAW,CAAC,CAAE,cAC7B,CAAC,EAAA,aAAa,CAAC,MAAM,CAAC,CAAE,SACxB,CAAC,EAAA,aAAa,CAAC,QAAQ,CAAC,CAAE,WAC1B,CAAC,EAAA,aAAa,CAAC,OAAO,CAAC,CAAE,UACzB,CAAC,EAAA,aAAa,CAAC,aAAa,CAAC,CAAE,eACjC,EAGM,GAAqB,MAAO,IAChC,GAAK,CAAD,CAEJ,GAAI,CAKF,CAPU,EAGV,GAAgB,GAChB,EAAS,MAGL,WAAY,EAAM,CAIpB,IAAM,EAAa,GAAG,QAAQ,wBAAkC,GAAI,CAC9D,EAAY,EAD4C,CACzC,QAAQ,uBAAiC,GAAI,CAK5D,EAAc,EALwC,IAKlC,GAAa,WAAW,CAAC,CACjD,QAAS,EACT,OAAQ,EAAK,MAAM,CACnB,SAAU,EAAK,SAAS,EAAE,QAAW,EAAa,QAAQ,EAAI,EAC9D,UAAW,EAAK,SAAS,CACzB,MAAO,EAAK,KAAK,CACjB,YAAa,EAAK,WAAW,CAC7B,QAAS,EAAK,OAAO,YACrB,EACA,WACF,GAGA,GAAI,EAAa,CAEf,OAAO,QAAQ,CAAC,IAAI,CAAG,EACvB,MACF,CAKA,CANU,UAMC,KACT,OAAO,QAAQ,CAAC,MAAM,EACxB,EAAG,IACL,MAEE,CAFK,KAEC,CAX8D,CAW9D,gBAAgB,CAAC,iBAAiB,CAAC,EAAI,GAI7C,WAAW,KACT,OAAO,QAAQ,CAAC,MAAM,EACxB,EAAG,KAGL,GAAgB,EAClB,CAAE,MAAO,EAAU,CACjB,QAAQ,KAAK,CAAC,uBAAwB,GAGlC,GAAK,UAAU,SAAW,KAAO,GAAK,SAAS,SAAS,yBAAyB,AACnF,EAAS,yEAET,WAAW,KACT,EAAO,IAAI,CAAC,mBAAqB,mBAAmB,CAAC,QAAQ,EAAE,EAAA,CAAI,EACrE,EAAG,MAEH,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,yCAGhD,GAAgB,EAClB,CACF,EAGM,GAAqB,UACzB,GAAI,CAAC,GAAM,OAAQ,YACjB,EAAO,IAAI,CAAC,mBAAqB,mBAAmB,CAAC,QAAQ,EAAE,EAAA,CAAI,GAIrE,GAAI,CACF,GAAqB,GACrB,EAAS,MACT,MAAM,EAAA,gBAAgB,CAAC,gBAAgB,CAAC,GACxC,GAAqB,EAGvB,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,8CAC9C,GAAqB,EACvB,CACF,EAGM,GAAqB,UACzB,GAAI,AAAC,GAAS,EAAM,WAAW,GAAK,GAAM,OAI1C,CAJkD,EAI9C,CACF,GAAgB,GAChB,EAAS,MACT,MAAM,EAAA,gBAAgB,CAAC,YAAY,CAAC,GACpC,GAAgB,GAEhB,OAAO,QAAQ,CAAC,MAAM,EACxB,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,8CAC9C,EAAgB,GAClB,CACF,EAGM,GAAyB,MAAO,IACpC,GAAI,CACF,GAA0B,GAC1B,MAAM,GAA2B,WAAW,CAAC,CAC3C,QAAS,EACT,UAAW,EAAK,SAAS,CACzB,MAAO,EAAK,KAAK,CACjB,YAAa,EAAK,WAAW,CAC7B,QAAS,EAAK,OAAO,AACvB,GACA,EAA0B,GAE5B,CAAE,MAAO,EAAK,CAEZ,MADA,GAA0B,GACpB,CACR,CACF,EAEA,CAJe,EAIX,EACF,MACE,CAAA,EAFW,AAEX,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,eANiD,oDAO9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAIrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,MAKb,GAAI,GAAc,CAAC,EACjB,KADwB,CAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,6BACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,4CACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA8C,oBAG5D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,oEAGrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,IAAM,EAAO,IAAI,CAAc,cAAb,EAA2B,aAAe,oBAC7D,cAAb,EAA2B,oBAAsB,0BAK1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,MAKb,IAAM,GAAY,IAAI,KAAK,EAAM,SAAS,EACpC,GAAU,IAAI,KAAK,EAAM,OAAO,EAChC,GAAqB,GAAU,kBAAkB,CAAC,QAAS,CAC/D,MAAO,OACP,IAAK,UACL,KAAM,SACR,GACM,GAAqB,GAAU,kBAAkB,CAAC,QAAS,CAC/D,KAAM,UACN,OAAQ,SACV,GACM,GAAmB,GAAQ,kBAAkB,CAAC,QAAS,CAC3D,KAAM,UACN,OAAQ,SACV,GAEM,GAAS,EAAM,oBAAoB,EAAI,EAAM,QAAQ,CACrD,GAAY,EAAM,QAAQ,CAAG,EAAM,oBAAoB,CAE7D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GAGP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,QAAS,IAAM,EAAO,IAAI,CAAc,cAAb,EAA2B,aAAe,WACrE,UAAU,oCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YACP,cAAb,EAA2B,oBAAsB,oBAInD,GAAS,GAAQ,EAAM,WAAW,GAAK,EAAK,MAAM,EACjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCAEZ,EAAM,MAAM,GAAK,EAAA,WAAW,CAAC,KAAK,EACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,SAAU,EACV,UAAU,0BACV,MAAO,CAAE,WAAY,SAAU,WAE9B,EAAe,gBAAkB,yBAS9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,4BAEb,EAAM,MAAM,EAAI,EAAM,MAAM,CAAC,MAAM,CAAG,GACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CAAC,EAAM,MAAM,CAAC,IAAI,CAAC,GAAO,EAAI,SAAS,GAAK,EAAM,MAAM,CAAC,EAAA,AAAE,EAAE,QAAQ,CAC1E,IAAK,EAAM,KAAK,CAChB,UAAU,+BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAQ,UACR,UAAU,2CACV,MAAO,CAAE,WAAY,SAAU,WAE9B,EAAc,CAAC,EAAM,QAAQ,CAAC,QAMvC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDACX,EAAM,KAAK,GAEd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wEACV,EAAM,WAAW,MAKtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,WAAY,SAAU,WAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,UAAU,MAAO,CAAE,MAAO,SAAU,MAE1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,gBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDACV,KAEH,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qCACV,GAAmB,MAAI,YAM7B,EAAM,IAAI,EAAI,EAAM,KAAK,EACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,WAAY,SAAU,WAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,UAAU,MAAO,CAAE,MAAO,SAAU,MAExD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,aACpD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qDACV,EAAM,IAAI,CAAC,KAAG,EAAM,KAAK,IAE3B,EAAM,OAAO,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA4B,EAAM,OAAO,SAO9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,WAAY,SAAU,WAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,UAAU,MAAO,CAAE,MAAO,SAAU,MAEvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,aACpD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qDACV,EAAM,oBAAoB,CAAC,MAAI,EAAM,QAAQ,CAAC,iBAEhD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,sCAA6B,eAE9C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qCACV,GAAU,IAAgB,IAAd,GAAkB,OAAS,QAAQ,sBAOxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAiB,MAAO,CAAE,WAAY,SAAU,WAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,UAAU,MAAO,CAAE,MAAO,SAAU,MAE5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,YACnD,EAAM,MAAM,CACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAA0B,MAAO,CAAE,MAAO,SAAU,WAAG,eAGlE,EAAM,eAAe,EAAI,EAAM,iBAAiB,EAAI,EAAM,iBAAiB,CAAC,MAAM,CAAG,EAEvF,CAAA,CADA,CACA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,IAF8D,MAEpD,qDAA4C,yBACxD,EAAM,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAM,IAClC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAc,UAAU,0BAA0B,MAAO,CAAE,MAAO,SAAU,YAC1E,EAAK,YAAY,CACb,EAAK,YAAY,GAAK,EAAK,YAAY,CACpC,CAAA,EAAG,EAAK,YAAY,CAAC,CAAC,EAAwB,IAAtB,EAAK,YAAY,CAAS,SAAW,UAAA,CAAW,CACxE,CAAA,EAAG,EAAK,YAAY,CAAC,CAAC,EAAE,EAAK,YAAY,CAAC,QAAQ,CAAC,CACvD,CAAA,EAAG,EAAK,YAAY,CAAC,SAAS,CAAC,CAAC,MAChC,EAAK,cAAc,CAAC,OAAO,CAAC,KAN1B,OAUV,EAAM,cAAc,CACtB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0BAA0B,MAAO,CAAE,MAAO,SAAU,YAAG,WACzD,EAAM,gBAAgB,EAAE,QAAQ,MAE3C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0BAA0B,MAAO,CAAE,MAAO,SAAU,YAAG,gBACpD,EAAM,aAAa,CAAC,OAAK,EAAM,gBAAgB,EAAE,QAAQ,MAEzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCACmB,IAA7B,EAAM,kBAAkB,CAAS,MAAQ,WAGjB,MAA3B,EAAM,iBAAiB,CACzB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0BAA0B,MAAO,CAAE,MAAO,SAAU,YAAG,IAChE,EAAM,iBAAiB,CAAC,OAAO,CAAC,GAAG,iBAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCACoB,IAA9B,EAAM,mBAAmB,CAAS,MAAQ,WAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAA0B,MAAO,CAAE,MAAO,SAAU,WAAG,wBAS3E,CAAE,EAAM,MAAM,EAAI,EAAM,MAAM,CAAC,MAAM,CAAG,GAAO,EAAM,MAAM,EAAI,EAAM,MAAM,CAAC,MAAM,EAAG,CAAE,EACtF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,OAAQ,EAAM,MAAM,CAAE,OAAQ,EAAM,MAAM,KAK5D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,WAAW,MAAO,CAAE,YAAa,SAAU,YACzD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,GACG,oBACA,GAAqB,SAAW,EAAA,kBAAkB,CAAC,SAAS,CAC5D,yBACA,4BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACb,GACG,6CACA,GAAqB,SAAW,EAAA,kBAAkB,CAAC,SAAS,CAC5D,2FACA,GACA,8FACA,8BAGR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACT,GAAqB,SAAW,EAAA,kBAAkB,CAAC,SAAS,CAE3D,CAAA,CADA,CACA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,AAFiD,EAEjD,IAAA,EAAC,MAAA,CAAI,UAAU,sGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,2CACV,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,2BAGN,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kEAAyD,8BAIzE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0DAAgD,iDACZ,EAAoB,SAAS,CAAG,CAAC,IAAI,EAAE,IAAI,KAAK,EAAoB,SAAS,EAAE,kBAAkB,GAAA,CAAI,CAAG,GAAG,OAE5J,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDAA2C,oDAMzD,AAAC,GAeA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mCAA0B,yEAfzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,QAAS,EACT,UAAW,GACX,OAAQ,EAAM,MAAM,CACpB,YAAa,EAAM,iBAAiB,OAAI,EACxC,eAAgB,EAAM,cAAc,CACpC,WAAY,EAAM,gBAAgB,OAAI,EACtC,WAAY,EAAM,gBAAgB,OAAI,EACtC,cAAe,EAAM,aAAa,OAAI,EACtC,aAAc,EACd,SAAU,GACV,MAAO,OAUX,GAEF,CAAA,EAAA,EAAA,IAAA,EAAC,KADD,CACC,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,OAFoD,GAE1C,0GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,6CACV,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,qBAGN,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,0BAI3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2DAAkD,0FAK/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEAA8D,0BAG3E,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA6C,oCACxD,EACF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEZ,CAAC,EAAoB,YAAY,EAAI,EAAoB,YAAY,EAAI,EAAoB,cAAc,AAAd,GAC5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yEAAgE,wBAG7E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACZ,EAAoB,YAAY,EAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,WAAa,IAAE,EAAoB,YAAY,IAGhF,EAAoB,YAAY,EAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,WAAa,IAAE,EAAoB,YAAY,IAGhF,EAAoB,cAAc,EACjC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,aAAe,IAAE,EAAoB,cAAc,UAQ1F,EAAoB,SAAS,EAAI,EAAoB,SAAS,CAAC,MAAM,CAAG,EACvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0EAAgE,cAC/D,EAAoB,SAAS,CAAC,MAAM,CAAC,QAEnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAoB,SAAS,CAAC,GAAG,CAAC,CAAC,EAAU,IAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAgB,UAAU,mEACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,2DACV,EAAQ,EAAE,KAAG,EAAS,IAAI,IAE7B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,sDAA4C,QACjD,EAAS,GAAG,UAPhB,SAgBhB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,wBAAsB,EAAoB,QAAQ,EAAI,GAAU,sBAAwB,UAKjG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,wBAAsB,GAAU,sBAAwB,aAOlE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,8CACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mDAA0C,kCAGxD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCACV,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,yEASjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,SACV,QAAS,IAAM,GAAiB,YACjC,sBAIA,AAAC,EAaA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,SACV,QAAS,KACP,QAAQ,GAAG,CAAC,gDACZ,GAAqB,GACrB,EAAe,MACf,GAAgB,EAClB,WACD,sBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,SACV,SAAU,EACV,MAAO,CACL,YAAa,UACb,MAAO,UACP,gBAAiB,UACjB,QAAS,EAAe,GAAM,CAChC,EACA,QAAS,UACP,GAAI,CACF,QAAQ,GAAG,CAAC,yFAA0F,GACtG,EAAgB,IAChB,EAAe,MACf,MAAM,EAAA,gBAAgB,CAAC,UAAU,CAAC,GAClC,QAAQ,GAAG,CAAC,qEACZ,OAAO,QAAQ,CAAC,MAAM,EACxB,CAAE,MAAO,EAAY,CACnB,QAAQ,KAAK,CAAC,8CAA+C,GAC7D,QAAQ,KAAK,CAAC,8BAA+B,CAC3C,QAAS,GAAO,QAChB,SAAU,GAAO,SACjB,OAAQ,GAAO,UAAU,OACzB,KAAM,GAAO,UAAU,KACvB,OAAQ,GAAO,UAAU,MAAM,MACjC,GAEA,EADqB,GAAO,UAAU,AACvB,MAD6B,QAAU,GAAO,UAAU,MAAM,SAAW,GAAO,SAAW,iBAE1G,GAAgB,EAElB,CACF,WAEC,EAAe,gBAAkB,sBA3DtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,SACV,MAAO,CAAE,YAAa,UAAW,MAAO,SAAU,EAClD,QAAS,KACP,QAAQ,GAAG,CAAC,wDACZ,GAAqB,EACvB,WACD,8BAyDL,AAAC,GAeH,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,SAAU,EACV,UAAU,sBACV,QAAQ,UACR,MAAO,CAAE,YAAa,UAAW,MAAO,SAAU,WAEjD,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,8BAA8B,gBAIjD,kBAIH,CAAC,GAAM,QACN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,iEAMvD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,SA3C3C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,QAAS,EACT,UAAW,GACX,OAAQ,EAAM,MAAM,CACpB,YAAa,EAAM,iBAAiB,OAAI,EACxC,eAAgB,EAAM,cAAc,CACpC,WAAY,EAAM,gBAAgB,OAAI,EACtC,WAAY,EAAM,gBAAgB,OAAI,EACtC,cAAe,EAAM,aAAa,OAAI,EACtC,aAAc,EACd,SAAU,GACV,MAAO,eA4ClB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,uBAAuB,CAAA,CACtB,QAAS,EACT,OAAQ,GAAM,OACd,aAAa,SAMrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,GAGP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,aAAc,EACd,aAAc,GAAuB,KACrC,QAAS,EACT,YAAa,GAAO,QAAU,GAC9B,UAAW,GACX,OAAQ,GACR,aAAc,MAItB","ignoreList":[4]}