module.exports=[43827,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72493),e=a.i(72988),f=a.i(23482),g=a.i(71987);let h=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var i=a.i(33508),j=a.i(96221),k=a.i(42043),l=a.i(18203);let m=["image/jpeg","image/jpg","image/png","image/webp"],n=5,o=({currentPhotoUrl:a,onUpload:d,onDelete:e,maxSizeMB:f=n,acceptedFormats:o=m,isLoading:p=!1,error:q})=>{let r=(0,c.useRef)(null),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),w=()=>o.map(a=>a.replace("image/","").toUpperCase()).join(", "),x=(0,c.useCallback)(async a=>{a&&(((v(""),o.includes(a.type))?a.size/1048576>f&&(v(`File size exceeds ${f}MB`),1):(v(`Only ${w()} images are allowed`),1))||await d(a))},[d,f,o]),y=()=>{r.current?.click()},z=async()=>{p||await e()},A=q||u;return(0,b.jsxs)("div",{className:"space-y-4",children:[a&&(0,b.jsxs)("div",{className:"relative flex flex-col items-center space-y-4",children:[(0,b.jsx)("div",{className:"relative h-32 w-32 overflow-hidden rounded-full border-4 border-border",children:(0,b.jsx)(g.default,{src:a,alt:"Current profile photo",fill:!0,className:"object-cover",sizes:"128px"})}),(0,b.jsxs)(k.Button,{type:"button",variant:"destructive",size:"sm",onClick:z,disabled:p,"aria-label":"Delete photo",children:[(0,b.jsx)(i.X,{className:"mr-2 h-4 w-4"}),"Delete Photo"]})]}),!a&&(0,b.jsxs)("div",{className:(0,l.cn)("relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 transition-colors",s&&"border-primary bg-primary/5",!s&&"border-border hover:border-primary/50",p&&"pointer-events-none opacity-50"),onDragOver:a=>{a.preventDefault(),a.stopPropagation(),t(!0)},onDragLeave:a=>{a.preventDefault(),a.stopPropagation(),t(!1)},onDrop:a=>{a.preventDefault(),a.stopPropagation(),t(!1);let b=a.dataTransfer.files?.[0];b&&x(b)},onClick:y,role:"button",tabIndex:0,onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&y()},children:[(0,b.jsx)("input",{ref:r,type:"file",accept:o.join(","),onChange:a=>{let b=a.target.files?.[0];b&&x(b),r.current&&(r.current.value="")},className:"hidden",disabled:p,"aria-label":"Upload profile photo"}),p?(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-2",role:"status","aria-live":"polite",children:[(0,b.jsx)(j.Loader2,{className:"h-12 w-12 animate-spin text-primary"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{className:"mb-4 h-12 w-12 text-muted-foreground"}),(0,b.jsx)("p",{className:"mb-2 text-sm font-medium text-foreground",children:"Upload Photo"}),(0,b.jsx)("p",{className:"mb-1 text-xs text-muted-foreground",children:"Drag and drop or click to select"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w()," (Max ",f,"MB)"]})]})]}),A&&(0,b.jsx)("div",{className:"rounded-md bg-destructive/10 p-3",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:A})})]})};var p=a.i(50253);function q(){let{user:a,isAuthenticated:c}=(0,e.useAuthStore)(),{profile:d,error:g,sectionStates:h,uploadPhoto:i,deletePhoto:j}=(0,f.useProfileStore)();if(!c||!a)return null;let k=d?.profilePhotoUrl||null,l="saving"===h.photo,m="error"===h.photo?g:null,n=async b=>{await i(a.userId,b)},q=async()=>{await j(a.userId)};return(0,b.jsx)("section",{role:"region","aria-labelledby":"profile-photo-heading",children:(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsx)(p.CardTitle,{id:"profile-photo-heading",style:{color:"#8B1538"},children:"Profile Photo"}),(0,b.jsx)(p.CardDescription,{children:"Upload a photo to personalize your profile and help others recognize you"})]}),(0,b.jsx)(p.CardContent,{children:(0,b.jsx)(o,{currentPhotoUrl:k,onUpload:n,onDelete:q,isLoading:l,error:m||void 0,maxSizeMB:5,acceptedFormats:["image/jpeg","image/jpg","image/png","image/webp"]})})]})})}var r=a.i(13858);let s=[{code:"SL_CUISINE",name:"Sri Lankan Cuisine"},{code:"BUDDHIST_FEST",name:"Buddhist Festivals & Traditions"},{code:"HINDU_FEST",name:"Hindu Festivals & Traditions"},{code:"ISLAMIC_FEST",name:"Islamic Festivals & Traditions"},{code:"CHRISTIAN_FEST",name:"Christian Festivals & Traditions"},{code:"TRAD_DANCE",name:"Traditional Dance (Kandyan, Sabaragamuwa, Low Country)"},{code:"CRICKET",name:"Cricket & Sports"},{code:"AYURVEDA",name:"Ayurvedic Medicine & Wellness"},{code:"SINHALA_MUSIC",name:"Sinhala Music & Arts"},{code:"TAMIL_MUSIC",name:"Tamil Music & Arts"},{code:"VESAK",name:"Vesak & Poson Celebrations"},{code:"SINHALA_NY",name:"Sinhala & Tamil New Year (Aluth Avurudda)"},{code:"TEA_CULTURE",name:"Ceylon Tea Culture"},{code:"TRAD_ARTS",name:"Traditional Arts & Crafts (Masks, Batik, Pottery)"},{code:"SL_WEDDINGS",name:"Sri Lankan Wedding Traditions"},{code:"TEMPLE_ARCH",name:"Temple Architecture & Heritage Sites"},{code:"SL_LITERATURE",name:"Sinhala/Tamil Literature & Poetry"},{code:"TRAD_GAMES",name:"Traditional Games (Elle, Ankeliya)"},{code:"SL_FASHION",name:"Traditional Dress & Fashion (Saree, Sarong)"},{code:"DIASPORA_NET",name:"Diaspora Community & Networking"}],t=100,u=100,v=20,w=100,x=10,y={min:0,max:20};var z=a.i(33441),A=a.i(24987);function B(){let{user:a,isAuthenticated:d}=(0,e.useAuthStore)(),{profile:g,error:h,sectionStates:i,updateLocation:j}=(0,f.useProfileStore)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)({city:"",state:"",zipCode:"",country:""}),[q,s]=(0,c.useState)({});if(!d||!a)return null;let x=g?.location,y="saving"===i.location,B="success"===i.location,C="error"===i.location,D=async()=>{let b;if(b={},n.city.trim()?n.city.length>t&&(b.city=`City cannot exceed ${t} characters`):b.city="City is required",n.state.trim()?n.state.length>u&&(b.state=`State cannot exceed ${u} characters`):b.state="State is required",n.zipCode.trim()?n.zipCode.length>v&&(b.zipCode=`Zip code cannot exceed ${v} characters`):b.zipCode="Zip code is required",n.country.trim()?n.country.length>w&&(b.country=`Country cannot exceed ${w} characters`):b.country="Country is required",s(b),0===Object.keys(b).length)try{await j(a.userId,{city:n.city.trim(),state:n.state.trim(),zipCode:n.zipCode.trim(),country:n.country.trim()}),m(!1)}catch(a){}},E=(a,b)=>{o(c=>({...c,[a]:b})),q[a]&&s(b=>{let c={...b};return delete c[a],c})};return(0,b.jsx)("section",{role:"region","aria-labelledby":"location-heading",children:(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.MapPin,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{id:"location-heading",style:{color:"#8B1538"},children:"Location"})]}),!l&&(0,b.jsx)(k.Button,{onClick:()=>{o({city:x?.city||"",state:x?.state||"",zipCode:x?.zipCode||"",country:x?.country||""}),s({}),m(!0)},variant:"outline",size:"sm",disabled:y,style:{borderColor:"#FF7900",color:"#8B1538"},children:"Edit"})]}),(0,b.jsx)(p.CardDescription,{children:"Help others in the community find you by sharing your location"})]}),(0,b.jsx)(p.CardContent,{children:l?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:"City *"}),(0,b.jsx)(r.Input,{id:"city",type:"text",value:n.city,onChange:a=>E("city",a.target.value),placeholder:"e.g., Toronto",disabled:y,error:!!q.city,"aria-label":"City","aria-invalid":!!q.city,"aria-describedby":q.city?"city-error":void 0,maxLength:t}),q.city&&(0,b.jsx)("p",{id:"city-error",className:"text-sm text-destructive mt-1",role:"alert",children:q.city})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium mb-1",children:"State/Province *"}),(0,b.jsx)(r.Input,{id:"state",type:"text",value:n.state,onChange:a=>E("state",a.target.value),placeholder:"e.g., Ontario",disabled:y,error:!!q.state,"aria-label":"State/Province","aria-invalid":!!q.state,"aria-describedby":q.state?"state-error":void 0,maxLength:u}),q.state&&(0,b.jsx)("p",{id:"state-error",className:"text-sm text-destructive mt-1",role:"alert",children:q.state})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium mb-1",children:"Zip/Postal Code *"}),(0,b.jsx)(r.Input,{id:"zipCode",type:"text",value:n.zipCode,onChange:a=>E("zipCode",a.target.value),placeholder:"e.g., M5H 2N2",disabled:y,error:!!q.zipCode,"aria-label":"Zip/Postal Code","aria-invalid":!!q.zipCode,"aria-describedby":q.zipCode?"zipCode-error":void 0,maxLength:v}),q.zipCode&&(0,b.jsx)("p",{id:"zipCode-error",className:"text-sm text-destructive mt-1",role:"alert",children:q.zipCode})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:"Country *"}),(0,b.jsx)(r.Input,{id:"country",type:"text",value:n.country,onChange:a=>E("country",a.target.value),placeholder:"e.g., Canada",disabled:y,error:!!q.country,"aria-label":"Country","aria-invalid":!!q.country,"aria-describedby":q.country?"country-error":void 0,maxLength:w}),q.country&&(0,b.jsx)("p",{id:"country-error",className:"text-sm text-destructive mt-1",role:"alert",children:q.country})]}),C&&h&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:h}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)(k.Button,{onClick:D,disabled:y,className:"flex-1 text-white",style:{background:"#FF7900"},children:y?"Saving...":"Save Location"}),(0,b.jsx)(k.Button,{onClick:()=>{m(!1),s({})},variant:"outline",disabled:y,className:"flex-1",style:{borderColor:"#8B1538",color:"#8B1538"},children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[x?(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("p",{className:"font-medium text-foreground",children:[x.city,", ",x.state," ",x.zipCode]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:x.country})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"Not set - Click Edit to add your location"}),B&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"#006400"},children:[(0,b.jsx)(z.Check,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Location saved successfully!"})]}),C&&h&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:h})]})})]})})}var C=a.i(76472);function D(){let{user:a,isAuthenticated:d}=(0,e.useAuthStore)(),{profile:g,error:h,sectionStates:i,updateCulturalInterests:j}=(0,f.useProfileStore)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),[q,r]=(0,c.useState)("");if(!d||!a)return null;let t=g?.culturalInterests||[],u="saving"===i.culturalInterests,v="success"===i.culturalInterests,w="error"===i.culturalInterests,y=async()=>{if(n.length>x)return void r(`Maximum ${x} interests allowed`);try{await j(a.userId,{culturalInterests:n}),m(!1)}catch(a){}};return(0,b.jsx)("section",{role:"region","aria-labelledby":"cultural-interests-heading",children:(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.Heart,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{id:"cultural-interests-heading",style:{color:"#8B1538"},children:"Cultural Interests"})]}),!l&&(0,b.jsx)(k.Button,{onClick:()=>{o([...t]),r(""),m(!0)},variant:"outline",size:"sm",disabled:u,style:{borderColor:"#FF7900",color:"#8B1538"},children:"Edit"})]}),(0,b.jsxs)(p.CardDescription,{children:["Share your cultural interests to connect with others (select 0-",x,")"]})]}),(0,b.jsx)(p.CardContent,{children:l?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(a=>{let c=n.includes(a.code);return(0,b.jsxs)("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,style:{background:c?"#FFE8CC":"white",borderColor:c?"#FF7900":"#e2e8f0"},children:[(0,b.jsx)("input",{type:"checkbox",checked:c,onChange:()=>{var b;return b=a.code,void o(a=>a.includes(b)?a.filter(a=>a!==b):a.length>=x?(r(`You can select up to ${x} interests`),a):(r(""),[...a,b]))},disabled:u,className:"mt-1 h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary","aria-label":a.name}),(0,b.jsx)("span",{className:"text-sm flex-1",children:a.name})]},a.code)})}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n.length," of ",x," selected"]}),q&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:q}),w&&h&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:h}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)(k.Button,{onClick:y,disabled:u,className:"flex-1 text-white",style:{background:"#FF7900"},children:u?"Saving...":"Save Interests"}),(0,b.jsx)(k.Button,{onClick:()=>{m(!1),r("")},variant:"outline",disabled:u,className:"flex-1",style:{borderColor:"#8B1538",color:"#8B1538"},children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[t.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(a=>{let c=s.find(b=>b.code===a);return c?(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",style:{background:"#FFE8CC",color:"#8B1538"},children:c.name},a):null})}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"No interests selected - Click Edit to add your cultural interests"}),v&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"#006400"},children:[(0,b.jsx)(z.Check,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Cultural interests saved successfully!"})]}),w&&h&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:h})]})})]})})}var E=a.i(5784),F=a.i(50522),G=a.i(99225);function H(){let{user:a}=(0,e.useAuthStore)(),{profile:d,updatePreferredMetroAreas:g,sectionStates:h,error:i,isLoading:j}=(0,f.useProfileStore)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(new Set),u=h.preferredMetroAreas,v=j||"saving"===u,w=d?.preferredMetroAreas||[],{max:x}=y;if(!a)return null;let B=a=>{o(b=>b.includes(a)?(r(""),b.filter(b=>b!==a)):b.length>=x?(r(`You cannot select more than ${x} metro areas`),b):(r(""),[...b,a]))},C=async()=>{if(a?.userId)try{await g(a.userId,{metroAreaIds:n}),m(!1),r(""),t(new Set)}catch(a){console.error("Failed to save preferred metro areas:",a)}},D=(0,G.getMetrosGroupedByState)();return(0,b.jsxs)(p.Card,{role:"region","aria-label":"Preferred Metro Areas",children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.MapPin,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,b.jsx)(p.CardTitle,{style:{color:"#8B1538"},children:"Preferred Metro Areas"})]}),!l&&(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>{m(!0),o([...w]),r(""),t(new Set)},disabled:v,style:{borderColor:"#FF7900",color:"#8B1538"},children:"Edit"})]}),(0,b.jsxs)(p.CardDescription,{children:["Select up to ",x," metro areas for personalized event and content filtering. You can opt out by leaving this empty."]})]}),(0,b.jsx)(p.CardContent,{children:l?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"#8B1538"},children:"State-Wide Selections"}),(0,b.jsx)("div",{className:"space-y-2",children:(0,G.getStateLevelAreas)().map(a=>{let c=n.includes(a.id);return(0,b.jsxs)("label",{className:`flex items-center gap-3 p-2 rounded-md border cursor-pointer transition-colors ${v?"opacity-50 cursor-not-allowed":""}`,style:{background:c?"#FFE8CC":"white",borderColor:c?"#FF7900":"#e2e8f0"},children:[(0,b.jsx)("input",{type:"checkbox",checked:c,onChange:()=>B(a.id),disabled:v,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary","aria-label":`Select all of ${a.name}`}),(0,b.jsxs)("span",{className:"flex-1 text-sm font-medium",children:["All ",a.name]})]},a.id)})})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200 my-4"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"#8B1538"},children:"City Metro Areas"}),(0,b.jsx)("div",{className:"space-y-2",children:G.US_STATES.map(a=>{let c=D.get(a.code)||[],d=c.filter(a=>!(0,G.isStateLevelArea)(a.id));if(0===d.length)return null;let e=s.has(a.code),f=n.filter(a=>c.map(a=>a.id).includes(a)&&!(0,G.isStateLevelArea)(a)).length;return(0,b.jsxs)("div",{className:"border rounded-md overflow-hidden",style:{borderColor:"#e2e8f0"},children:[(0,b.jsxs)("button",{onClick:()=>{var b;let c;return b=a.code,void((c=new Set(s)).has(b)?c.delete(b):c.add(b),t(c))},disabled:v,className:`w-full flex items-center gap-2 p-3 text-left transition-colors ${v?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,"aria-expanded":e,"aria-controls":`metros-${a.code}`,children:[e?(0,b.jsx)(E.ChevronDown,{className:"h-4 w-4",style:{color:"#FF7900"}}):(0,b.jsx)(F.ChevronRight,{className:"h-4 w-4",style:{color:"#FF7900"}}),(0,b.jsx)("span",{className:"flex-1 font-medium text-sm",children:a.name}),f>0&&(0,b.jsxs)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{background:"#FFE8CC",color:"#8B1538"},children:[f," selected"]})]}),e&&(0,b.jsx)("div",{id:`metros-${a.code}`,className:"space-y-2 p-3 bg-gray-50 border-t",style:{borderColor:"#e2e8f0"},children:d.map(a=>{let c=n.includes(a.id);return(0,b.jsxs)("label",{className:`flex items-start gap-3 p-2 rounded-md border cursor-pointer transition-colors ${v?"opacity-50 cursor-not-allowed":""}`,style:{background:c?"#FFE8CC":"white",borderColor:c?"#FF7900":"#e2e8f0"},children:[(0,b.jsx)("input",{type:"checkbox",checked:c,onChange:()=>B(a.id),disabled:v,className:"mt-0.5 h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary","aria-label":`${a.name}, ${a.state}`}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.cities.slice(0,2).join(", "),a.cities.length>2&&`, +${a.cities.length-2} more`]})]})]},a.id)})})]},a.code)})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",style:{borderColor:"#e2e8f0"},children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n.length," of ",x," selected"]}),q&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:q})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)(k.Button,{onClick:C,disabled:v||!!q,className:"flex-1 text-white",style:{background:"#FF7900"},children:v?"Saving...":"Save Changes"}),(0,b.jsx)(k.Button,{onClick:()=>{m(!1),o([]),r(""),t(new Set)},variant:"outline",disabled:v,className:"flex-1",style:{borderColor:"#8B1538",color:"#8B1538"},children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[w.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(a=>{let c=(0,G.getMetroById)(a);return c?(0,b.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",style:{background:"#FFE8CC",color:"#8B1538"},children:[c.name,!(0,G.isStateLevelArea)(a)&&`, ${c.state}`]},a):null})}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"No metro areas selected - Click Edit to add your preferred locations"}),"success"===u&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"#006400"},children:[(0,b.jsx)(z.Check,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Preferred metro areas saved successfully!"})]}),"error"===u&&i&&(0,b.jsx)("p",{className:"text-sm text-destructive",role:"alert",children:i})]})})]})}var I=a.i(88473),J=a.i(50944),K=a.i(43061),L=a.i(210);function M(){let a=(0,J.useRouter)(),{user:g,clearAuth:h,isAuthenticated:i,isLoading:j}=(0,e.useAuthStore)(),{loadProfile:l,profile:m,isLoading:n}=(0,f.useProfileStore)();(0,c.useEffect)(()=>{i&&g?.userId&&!m&&!n&&l(g.userId)},[i,g?.userId,m,n,l]);let o=async()=>{try{await K.authRepository.logout()}catch(a){}finally{h(),a.push("/login")}};return(0,b.jsx)(d.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen",style:{background:"#f7fafc"},children:[(0,b.jsx)("div",{className:"h-2 fixed top-0 left-0 right-0 z-50",style:{background:"linear-gradient(90deg, #FF7900 0%, #FF7900 33%, #8B1538 33%, #8B1538 66%, #006400 66%, #006400 100%)"}}),(0,b.jsx)("header",{className:"bg-white border-b sticky top-2 z-40",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",boxShadow:"0 2px 20px rgba(0,0,0,0.1)"},children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(I.Logo,{size:"md",showText:!0}),(0,b.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,b.jsx)("h1",{className:"text-2xl font-bold",style:{color:"#8B1538"},children:"My Profile"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(k.Button,{onClick:()=>{a.push("/dashboard")},variant:"outline",size:"sm",style:{borderColor:"#FF7900",color:"#8B1538"},children:[(0,b.jsx)(L.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,b.jsx)(k.Button,{onClick:o,variant:"outline",size:"sm",style:{borderColor:"#8B1538",color:"#8B1538"},children:"Logout"})]})]})})}),(0,b.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"rounded-xl overflow-hidden",style:{background:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},children:(0,b.jsx)("div",{className:"p-6",style:{background:"linear-gradient(135deg, #FF7900 0%, #8B1538 50%, #006400 100%)",color:"white"},children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white font-bold text-xl",style:{background:"rgba(255, 255, 255, 0.2)"},children:(g?.fullName||"U").split(" ").map(a=>a[0]).join("").toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-semibold mb-1",children:["Welcome, ",g?.fullName,"!"]}),(0,b.jsx)("p",{className:"text-white/90",children:"Manage your profile information to help others in the Sri Lankan community connect with you."})]})]})})}),(0,b.jsx)(q,{}),(0,b.jsx)(B,{}),(0,b.jsx)(D,{}),(0,b.jsx)(H,{}),n&&(0,b.jsx)("div",{className:"bg-white rounded-xl shadow p-6 text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"#FF7900"}}),(0,b.jsx)("p",{style:{color:"#8B1538"},children:"Loading profile..."})]})})]})})]})})}a.s(["default",()=>M],43827)}];

//# sourceMappingURL=src_app_%28dashboard%29_profile_page_tsx_f74027b2._.js.map