module.exports=[93003,99225,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(88473);let f=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];a.s(["US_STATES",0,f],99225);var g=a.i(2973),h=a.i(12863);function i({selectedMetroIds:a,receiveAllLocations:d,onMetrosChange:e,onReceiveAllChange:i,disabled:j=!1,maxSelections:k=20}){let[l,m]=(0,c.useState)(""),{metroAreasByState:n,isLoading:o,error:p}=(0,h.useMetroAreas)();(0,c.useEffect)(()=>{a.length>k?m(`You cannot select more than ${k} metro areas`):m("")},[a,k]);let q=(0,c.useMemo)(()=>{let b=[];for(let c of f){let d=(n.get(c.code)||[]).filter(a=>!a.isStateLevelArea);if(0===d.length)continue;let e=d.map(b=>({id:b.id,label:b.name,checked:a.includes(b.id)}));b.push({id:`state-${c.code}`,label:c.name,checked:e.every(b=>a.includes(b.id)),children:e})}return b},[n,a]);return o?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Get notifications for events in:"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Loading metro areas..."})]}),(0,b.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"#FF7900"}})})]}):p?(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Get notifications for events in:"}),(0,b.jsxs)("p",{className:"text-xs text-red-600",role:"alert",children:["Failed to load metro areas: ",p]})]})}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Get notifications for events in:"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:["Select up to ",k," metro areas or receive updates from all locations"]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("label",{className:"flex items-center text-sm text-gray-700 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d,onChange:a=>{var b;i(b=a.target.checked),b&&(e([]),m(""))},disabled:j,className:"mr-2 w-4 h-4 rounded border-gray-300 text-[#FF7900] focus:ring-2 focus:ring-[#FF7900]"}),(0,b.jsx)("span",{className:"font-medium",children:"Send me events from all locations"})]})}),!d&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(g.TreeDropdown,{nodes:q,selectedIds:a,onSelectionChange:a=>{let b=a.filter(a=>!a.startsWith("state-"));console.log("[NewsletterMetroSelector] TreeDropdown selection changed:"),console.log("  Raw IDs from TreeDropdown:",a),console.log("  Filtered metro IDs (state-* removed):",b),console.log("  Calling onMetrosChange with",b.length,"IDs"),e(b)},placeholder:"Select metro areas",maxSelections:k,disabled:j}),l&&(0,b.jsx)("p",{className:"text-xs text-red-600",role:"alert",children:l})]})]})}var j=a.i(70106);let k=(0,j.default)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),l=(0,j.default)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),m=(0,j.default)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),n=(0,j.default)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),o=(0,j.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var p=a.i(72988);let q=({href:a,children:c,external:e=!1})=>{let f="text-white/80 hover:text-white transition-colors duration-200 text-sm";return e?(0,b.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:f,"aria-label":`${c} (opens in new tab)`,children:c}):(0,b.jsx)(d.default,{href:a,className:f,children:c})};a.s(["default",0,()=>{let{isAuthenticated:a}=(0,p.useAuthStore)(),[d,f]=(0,c.useState)(""),[g,h]=(0,c.useState)("idle"),[j,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(2025);c.default.useEffect(()=>{v(new Date().getFullYear())},[]);let w=[{title:"Community",links:[{label:"Events",href:"/events"},{label:"Forums",href:"/forums"},{label:"Cultural Hub",href:"/culture"},...a?[{label:"Dashboard",href:"/dashboard"}]:[]]},{title:"Marketplace",links:[{label:"Browse Listings",href:"/marketplace"},{label:"Businesses",href:"/business"},{label:"Services",href:"/services"},{label:"Sell Items",href:"/marketplace/sell"}]},{title:"Resources",links:[{label:"Help Center",href:"/help"},{label:"Guidelines",href:"/guidelines"},{label:"Safety",href:"/safety"},{label:"Blog",href:"/blog"}]},{title:"About",links:[{label:"Our Story",href:"/about"},{label:"Contact Us",href:"/contact"},{label:"Careers",href:"/careers"},{label:"Press",href:"/press"}]}],x=async a=>{if(a.preventDefault(),console.log("[Footer] Newsletter form submitted:"),console.log("  Email:",d),console.log("  Receive all locations:",s),console.log("  Selected metro IDs:",j),console.log("  Selected metro count:",j.length),!d||!d.includes("@")){console.log("[Footer] ❌ Validation failed: Invalid email"),h("error");return}if(!s&&0===j.length){console.log("[Footer] ❌ Validation failed: No metros selected and not receiving all locations"),h("error");return}console.log("[Footer] ✅ Validation passed, submitting..."),h("loading");try{let a=await fetch("https://lankaconnect-api-staging.politebay-79d6e8a2.eastus2.azurecontainerapps.io/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:d,MetroAreaIds:s?[]:j,ReceiveAllLocations:s,Timestamp:new Date().toISOString()})}),b=await a.json();console.log("[Footer] Backend response:",a.status,b),b.success||b.Success?(h("success"),f(""),r([]),t(!1),setTimeout(()=>{h("idle")},3e3)):h("error")}catch(a){console.error("Newsletter subscription error:",a),h("error")}};return(0,b.jsxs)("footer",{className:"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 text-white mt-24 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,b.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,b.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 mb-12 border border-white/20",children:(0,b.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold mb-2 text-center",children:"Stay Connected"}),(0,b.jsx)("p",{className:"text-white/90 mb-6 text-center",children:"Subscribe to our newsletter for the latest events and community updates."}),(0,b.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,b.jsx)("input",{type:"email",placeholder:"Enter your email",value:d,onChange:a=>f(a.target.value),className:"w-full px-4 py-3 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500","aria-label":"Email address for newsletter",disabled:"loading"===g,required:!0}),(0,b.jsx)("div",{className:"bg-white/95 p-4 rounded-lg text-gray-800",children:(0,b.jsx)(i,{selectedMetroIds:j,receiveAllLocations:s,onMetrosChange:r,onReceiveAllChange:t,disabled:"loading"===g})}),(0,b.jsx)("button",{type:"submit",className:"w-full px-6 py-3 bg-[#FF7900] hover:bg-[#E56D00] text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:"loading"===g,"aria-label":"Subscribe to newsletter",children:"loading"===g?"Subscribing...":"success"===g?"Subscribed!":"Subscribe"})]}),"error"===g&&(0,b.jsx)("p",{className:"text-red-300 text-sm mt-2 text-center",role:"alert",children:"Please enter a valid email address and select at least one location."}),"success"===g&&(0,b.jsx)("p",{className:"text-green-300 text-sm mt-2 text-center",role:"alert",children:"Thank you for subscribing!"})]})}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:w.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-4",children:a.title}),(0,b.jsx)("ul",{className:"space-y-2",role:"list",children:a.links.map(a=>(0,b.jsx)("li",{children:(0,b.jsx)(q,{href:a.href,external:a.external,children:a.label})},a.label))})]},a.title))}),(0,b.jsxs)("div",{className:"pt-8 border-t border-white/20 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.Logo,{size:"md",showText:!1}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:"LankaConnect"}),(0,b.jsxs)("div",{className:"text-white/80 text-sm",children:["© ",u," All rights reserved"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors","aria-label":"Facebook",children:(0,b.jsx)(k,{className:"h-5 w-5"})}),(0,b.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors","aria-label":"Twitter",children:(0,b.jsx)(l,{className:"h-5 w-5"})}),(0,b.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors","aria-label":"Instagram",children:(0,b.jsx)(m,{className:"h-5 w-5"})}),(0,b.jsx)("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors","aria-label":"YouTube",children:(0,b.jsx)(n,{className:"h-5 w-5"})}),(0,b.jsx)("a",{href:"mailto:contact@lankaconnect.com",className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-lg transition-colors","aria-label":"Email",children:(0,b.jsx)(o,{className:"h-5 w-5"})})]})]})]})]})}],93003)}];

//# sourceMappingURL=src_presentation_components_layout_Footer_tsx_063968cf._.js.map