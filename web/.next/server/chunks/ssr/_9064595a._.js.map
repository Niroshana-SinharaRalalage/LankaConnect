{"version":3,"sources":["turbopack:///[project]/src/infrastructure/api/repositories/events.repository.ts","turbopack:///[project]/src/presentation/hooks/useEvents.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/map-pin.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/calendar.ts","turbopack:///[project]/src/presentation/components/ui/Badge.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/clock.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/sparkles.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/newspaper.ts","turbopack:///[project]/src/presentation/hooks/useGeolocation.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\r\nimport type {\r\n  EventDto,\r\n  RsvpDto,\r\n  EventSearchResultDto,\r\n  WaitingListEntryDto,\r\n  GetEventsRequest,\r\n  SearchEventsRequest,\r\n  GetNearbyEventsRequest,\r\n  CreateEventRequest,\r\n  UpdateEventRequest,\r\n  RsvpRequest,\r\n  UpdateRsvpRequest,\r\n  CancelEventRequest,\r\n  PostponeEventRequest,\r\n  CreateEventResponse,\r\n  EventImageDto,\r\n  SignUpListDto,\r\n  AddSignUpListRequest,\r\n  CommitToSignUpRequest,\r\n  CancelCommitmentRequest,\r\n} from '../types/events.types';\r\nimport type { PagedResult } from '../types/common.types';\r\n\r\n/**\r\n * EventsRepository\r\n * Handles all event-related API calls following the repository pattern\r\n *\r\n * Backend endpoints from EventsController.cs:\r\n * - GET /api/events - Get all events with filters\r\n * - GET /api/events/{id} - Get event by ID\r\n * - GET /api/events/search - Full-text search\r\n * - GET /api/events/nearby - Geospatial search\r\n * - POST /api/events - Create event\r\n * - PUT /api/events/{id} - Update event\r\n * - DELETE /api/events/{id} - Delete event\r\n * - POST /api/events/{id}/rsvp - RSVP to event\r\n * - DELETE /api/events/{id}/rsvp - Cancel RSVP\r\n * - PUT /api/events/{id}/rsvp - Update RSVP\r\n * - GET /api/events/my-rsvps - Get user's RSVPs\r\n * - POST /api/events/{id}/images - Upload image\r\n */\r\nexport class EventsRepository {\r\n  private readonly basePath = '/events';\r\n\r\n  // ==================== PUBLIC QUERIES ====================\r\n\r\n  /**\r\n   * Get all events with optional filtering and location-based sorting\r\n   * Maps to backend GetEventsQuery\r\n   *\r\n   * Location-based sorting:\r\n   * - For authenticated users: Pass userId to sort by preferred metros or home location\r\n   * - For anonymous users: Pass latitude + longitude to sort by coordinates\r\n   * - For specific metro filter: Pass metroAreaIds\r\n   */\r\n  async getEvents(filters: GetEventsRequest = {}): Promise<EventDto[]> {\r\n    const params = new URLSearchParams();\r\n\r\n    // Traditional filters\r\n    if (filters.status !== undefined) params.append('status', String(filters.status));\r\n    if (filters.category !== undefined) params.append('category', String(filters.category));\r\n    if (filters.startDateFrom) params.append('startDateFrom', filters.startDateFrom);\r\n    if (filters.startDateTo) params.append('startDateTo', filters.startDateTo);\r\n    if (filters.isFreeOnly !== undefined) params.append('isFreeOnly', String(filters.isFreeOnly));\r\n    if (filters.city) params.append('city', filters.city);\r\n\r\n    // NEW: Location-based sorting parameters\r\n    if (filters.state) params.append('state', filters.state);\r\n    if (filters.userId) params.append('userId', filters.userId);\r\n    if (filters.latitude !== undefined) params.append('latitude', String(filters.latitude));\r\n    if (filters.longitude !== undefined) params.append('longitude', String(filters.longitude));\r\n    if (filters.metroAreaIds && filters.metroAreaIds.length > 0) {\r\n      // Add each metro area ID as a separate query parameter\r\n      filters.metroAreaIds.forEach(id => params.append('metroAreaIds', id));\r\n    }\r\n\r\n    const queryString = params.toString();\r\n    const url = queryString ? `${this.basePath}?${queryString}` : this.basePath;\r\n\r\n    return await apiClient.get<EventDto[]>(url);\r\n  }\r\n\r\n  /**\r\n   * Get event by ID\r\n   * Maps to backend GetEventByIdQuery\r\n   */\r\n  async getEventById(id: string): Promise<EventDto> {\r\n    return await apiClient.get<EventDto>(`${this.basePath}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Search events using full-text search (PostgreSQL FTS)\r\n   * Returns paginated results with relevance scores\r\n   */\r\n  async searchEvents(request: SearchEventsRequest): Promise<PagedResult<EventSearchResultDto>> {\r\n    const params = new URLSearchParams({\r\n      searchTerm: request.searchTerm,\r\n      page: String(request.page ?? 1),\r\n      pageSize: String(request.pageSize ?? 20),\r\n    });\r\n\r\n    if (request.category !== undefined) params.append('category', String(request.category));\r\n    if (request.isFreeOnly !== undefined) params.append('isFreeOnly', String(request.isFreeOnly));\r\n    if (request.startDateFrom) params.append('startDateFrom', request.startDateFrom);\r\n\r\n    return await apiClient.get<PagedResult<EventSearchResultDto>>(\r\n      `${this.basePath}/search?${params.toString()}`\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get nearby events using geospatial query\r\n   * Maps to backend GetNearbyEventsQuery\r\n   */\r\n  async getNearbyEvents(request: GetNearbyEventsRequest): Promise<EventDto[]> {\r\n    const params = new URLSearchParams({\r\n      latitude: String(request.latitude),\r\n      longitude: String(request.longitude),\r\n      radiusKm: String(request.radiusKm),\r\n    });\r\n\r\n    if (request.category !== undefined) params.append('category', String(request.category));\r\n    if (request.isFreeOnly !== undefined) params.append('isFreeOnly', String(request.isFreeOnly));\r\n    if (request.startDateFrom) params.append('startDateFrom', request.startDateFrom);\r\n\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/nearby?${params.toString()}`);\r\n  }\r\n\r\n  /**\r\n   * Get featured events for landing page\r\n   * Returns up to 4 events sorted by location relevance\r\n   * For authenticated users: Uses preferred metro areas\r\n   * For anonymous users: Uses provided coordinates or default location\r\n   */\r\n  async getFeaturedEvents(\r\n    userId?: string,\r\n    latitude?: number,\r\n    longitude?: number\r\n  ): Promise<EventDto[]> {\r\n    const params = new URLSearchParams();\r\n\r\n    if (userId) params.append('userId', userId);\r\n    if (latitude !== undefined) params.append('latitude', String(latitude));\r\n    if (longitude !== undefined) params.append('longitude', String(longitude));\r\n\r\n    const queryString = params.toString();\r\n    const url = queryString ? `${this.basePath}/featured?${queryString}` : `${this.basePath}/featured`;\r\n\r\n    return await apiClient.get<EventDto[]>(url);\r\n  }\r\n\r\n  // ==================== AUTHENTICATED QUERIES ====================\r\n\r\n  // ==================== AUTHENTICATED MUTATIONS ====================\r\n\r\n  /**\r\n   * Create a new event\r\n   * Requires authentication\r\n   * Maps to backend CreateEventCommand\r\n   */\r\n  async createEvent(data: CreateEventRequest): Promise<string> {\r\n    const response = await apiClient.post<CreateEventResponse>(this.basePath, data);\r\n    return response.id;\r\n  }\r\n\r\n  /**\r\n   * Update an existing event\r\n   * Requires authentication and ownership\r\n   * Maps to backend UpdateEventCommand\r\n   */\r\n  async updateEvent(id: string, data: UpdateEventRequest): Promise<void> {\r\n    await apiClient.put<void>(`${this.basePath}/${id}`, { ...data, eventId: id });\r\n  }\r\n\r\n  /**\r\n   * Delete an event\r\n   * Requires authentication and ownership\r\n   * Only allowed for Draft/Cancelled events\r\n   */\r\n  async deleteEvent(id: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Submit event for approval (if approval workflow is enabled)\r\n   */\r\n  async submitForApproval(id: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${id}/submit`);\r\n  }\r\n\r\n  /**\r\n   * Publish event (make it visible to public)\r\n   * Requires authentication and ownership\r\n   */\r\n  async publishEvent(id: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${id}/publish`);\r\n  }\r\n\r\n  /**\r\n   * Cancel event with reason\r\n   * Notifies all registered users\r\n   */\r\n  async cancelEvent(id: string, reason: string): Promise<void> {\r\n    const request: CancelEventRequest = { reason };\r\n    await apiClient.post<void>(`${this.basePath}/${id}/cancel`, request);\r\n  }\r\n\r\n  /**\r\n   * Postpone event with reason\r\n   * Changes status to Postponed\r\n   */\r\n  async postponeEvent(id: string, reason: string): Promise<void> {\r\n    const request: PostponeEventRequest = { reason };\r\n    await apiClient.post<void>(`${this.basePath}/${id}/postpone`, request);\r\n  }\r\n\r\n  // ==================== RSVP OPERATIONS ====================\r\n\r\n  /**\r\n   * RSVP to an event\r\n   * Creates a registration for the user\r\n   * Maps to backend RsvpToEventCommand\r\n   */\r\n  async rsvpToEvent(eventId: string, userId: string, quantity: number = 1): Promise<void> {\r\n    const request: RsvpRequest = { eventId, userId, quantity };\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/rsvp`, request);\r\n  }\r\n\r\n  /**\r\n   * Cancel RSVP\r\n   * Removes registration and frees up capacity\r\n   */\r\n  async cancelRsvp(eventId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/rsvp`);\r\n  }\r\n\r\n  /**\r\n   * Update RSVP quantity\r\n   * Changes number of attendees for registration\r\n   */\r\n  async updateRsvp(eventId: string, userId: string, newQuantity: number): Promise<void> {\r\n    const request: UpdateRsvpRequest = { userId, newQuantity };\r\n    await apiClient.put<void>(`${this.basePath}/${eventId}/rsvp`, request);\r\n  }\r\n\r\n  /**\r\n   * Get current user's RSVPs\r\n   * Epic 1: Backend now returns full EventDto[] instead of RsvpDto[] for better UX\r\n   * Returns all events user has registered for\r\n   */\r\n  async getUserRsvps(): Promise<EventDto[]> {\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/my-rsvps`);\r\n  }\r\n\r\n  /**\r\n   * Get upcoming events for user\r\n   * Returns events happening in the future\r\n   */\r\n  async getUpcomingEvents(): Promise<EventDto[]> {\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/upcoming`);\r\n  }\r\n\r\n  /**\r\n   * Get events created by current user\r\n   * Returns all events user has created as organizer\r\n   */\r\n  async getUserCreatedEvents(): Promise<EventDto[]> {\r\n    return await apiClient.get<EventDto[]>(`${this.basePath}/my-events`);\r\n  }\r\n\r\n  // ==================== WAITING LIST ====================\r\n\r\n  /**\r\n   * Add user to waiting list\r\n   * Used when event is at capacity\r\n   */\r\n  async addToWaitingList(eventId: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/waiting-list`);\r\n  }\r\n\r\n  /**\r\n   * Remove user from waiting list\r\n   */\r\n  async removeFromWaitingList(eventId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/waiting-list`);\r\n  }\r\n\r\n  /**\r\n   * Get waiting list for event\r\n   * Returns list of users waiting for spots\r\n   */\r\n  async getWaitingList(eventId: string): Promise<WaitingListEntryDto[]> {\r\n    return await apiClient.get<WaitingListEntryDto[]>(`${this.basePath}/${eventId}/waiting-list`);\r\n  }\r\n\r\n  // ==================== SIGN-UP MANAGEMENT ====================\r\n\r\n  /**\r\n   * Get all sign-up lists for an event\r\n   * Returns sign-up lists with commitments\r\n   * Maps to backend GET /api/events/{id}/signups\r\n   */\r\n  async getEventSignUpLists(eventId: string): Promise<SignUpListDto[]> {\r\n    return await apiClient.get<SignUpListDto[]>(`${this.basePath}/${eventId}/signups`);\r\n  }\r\n\r\n  /**\r\n   * Add a sign-up list to event\r\n   * Organizer-only operation\r\n   * Maps to backend POST /api/events/{id}/signups\r\n   */\r\n  async addSignUpList(eventId: string, request: AddSignUpListRequest): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/signups`, request);\r\n  }\r\n\r\n  /**\r\n   * Remove a sign-up list from event\r\n   * Organizer-only operation\r\n   * Maps to backend DELETE /api/events/{eventId}/signups/{signupId}\r\n   */\r\n  async removeSignUpList(eventId: string, signupId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/signups/${signupId}`);\r\n  }\r\n\r\n  /**\r\n   * Commit to bringing an item to event\r\n   * User commits to sign-up list\r\n   * Maps to backend POST /api/events/{eventId}/signups/{signupId}/commit\r\n   */\r\n  async commitToSignUp(\r\n    eventId: string,\r\n    signupId: string,\r\n    request: CommitToSignUpRequest\r\n  ): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/signups/${signupId}/commit`, request);\r\n  }\r\n\r\n  /**\r\n   * Cancel user's commitment to sign-up list\r\n   * Maps to backend DELETE /api/events/{eventId}/signups/{signupId}/commit\r\n   */\r\n  async cancelCommitment(\r\n    eventId: string,\r\n    signupId: string,\r\n    request: CancelCommitmentRequest\r\n  ): Promise<void> {\r\n    await apiClient.delete<void>(\r\n      `${this.basePath}/${eventId}/signups/${signupId}/commit`,\r\n      { data: request }\r\n    );\r\n  }\r\n\r\n  // ==================== MEDIA OPERATIONS ====================\r\n\r\n  /**\r\n   * Upload image to event gallery\r\n   * Uses multipart/form-data for file upload\r\n   */\r\n  async uploadEventImage(eventId: string, file: File): Promise<EventImageDto> {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    return await apiClient.postMultipart<EventImageDto>(\r\n      `${this.basePath}/${eventId}/images`,\r\n      formData\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Delete image from event gallery\r\n   */\r\n  async deleteEventImage(eventId: string, imageId: string): Promise<void> {\r\n    await apiClient.delete<void>(`${this.basePath}/${eventId}/images/${imageId}`);\r\n  }\r\n\r\n  // ==================== UTILITY OPERATIONS ====================\r\n\r\n  /**\r\n   * Export event as ICS calendar file\r\n   * Returns blob for download\r\n   */\r\n  async getEventIcs(eventId: string): Promise<Blob> {\r\n    // Note: This endpoint returns a file, not JSON\r\n    // Using fetch directly instead of apiClient\r\n    const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\r\n    const response = await fetch(`${baseURL}${this.basePath}/${eventId}/ics`);\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to download ICS file');\r\n    }\r\n\r\n    return await response.blob();\r\n  }\r\n\r\n  /**\r\n   * Record social share for analytics\r\n   * Tracks event sharing on social media\r\n   */\r\n  async recordEventShare(eventId: string, platform?: string): Promise<void> {\r\n    await apiClient.post<void>(`${this.basePath}/${eventId}/share`, { platform });\r\n  }\r\n}\r\n\r\n/**\r\n * Singleton instance of the events repository\r\n * Export for use in React components and hooks\r\n */\r\nexport const eventsRepository = new EventsRepository();\r\n","/**\r\n * Events React Query Hooks\r\n *\r\n * Provides React Query hooks for Events API integration\r\n * Implements caching, optimistic updates, and proper error handling\r\n *\r\n * PREREQUISITES:\r\n * - events.repository.ts must be created in infrastructure/repositories/\r\n * - events.types.ts must be created in infrastructure/api/types/\r\n *\r\n * @requires @tanstack/react-query\r\n * @requires eventsRepository from infrastructure/repositories/events.repository\r\n * @requires Event types from infrastructure/api/types/events.types\r\n */\r\n\r\nimport {\r\n  useQuery,\r\n  useMutation,\r\n  useQueryClient,\r\n  UseQueryOptions,\r\n  UseMutationOptions,\r\n} from '@tanstack/react-query';\r\n\r\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\r\nimport type {\r\n  EventDto,\r\n  GetEventsRequest,\r\n  CreateEventRequest,\r\n  UpdateEventRequest,\r\n  RsvpRequest,\r\n} from '@/infrastructure/api/types/events.types';\r\n\r\nimport { ApiError } from '@/infrastructure/api/client/api-errors';\r\n\r\n/**\r\n * Query Keys for Events\r\n * Centralized query key management for cache invalidation\r\n */\r\nexport const eventKeys = {\r\n  all: ['events'] as const,\r\n  lists: () => [...eventKeys.all, 'list'] as const,\r\n  list: (filters: any) => [...eventKeys.lists(), filters] as const,\r\n  details: () => [...eventKeys.all, 'detail'] as const,\r\n  detail: (id: string) => [...eventKeys.details(), id] as const,\r\n  search: (searchTerm: string) => [...eventKeys.all, 'search', searchTerm] as const,\r\n  featured: (userId?: string, lat?: number, lng?: number) => [...eventKeys.all, 'featured', { userId, lat, lng }] as const,\r\n};\r\n\r\n/**\r\n * useEvents Hook\r\n *\r\n * Fetches a list of events with optional filters\r\n *\r\n * Features:\r\n * - Automatic caching with 5-minute stale time\r\n * - Refetch on window focus\r\n * - Proper error handling with ApiError types\r\n * - Query key includes filters for granular cache control\r\n *\r\n * @param filters - Optional filters for events (location, date, category, etc.)\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * const { data, isLoading, error } = useEvents({\r\n *   metroArea: 'colombo',\r\n *   startDate: '2024-01-01',\r\n *   category: 'cultural'\r\n * });\r\n * ```\r\n */\r\nexport function useEvents(\r\n  filters?: GetEventsRequest,\r\n  options?: Omit<UseQueryOptions<EventDto[], ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.list(filters || {}),\r\n    queryFn: async () => {\r\n      const result = await eventsRepository.getEvents(filters);\r\n      return result;\r\n    },\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n    refetchOnWindowFocus: true,\r\n    retry: 1, // Only retry once\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useEventById Hook\r\n *\r\n * Fetches a single event by ID\r\n *\r\n * Features:\r\n * - Caches individual event details\r\n * - Longer stale time (10 minutes) for detail pages\r\n * - Automatic refetch on window focus\r\n * - Enabled only when ID is provided\r\n *\r\n * @param id - Event ID (GUID)\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * const { data: event, isLoading } = useEventById(eventId);\r\n * ```\r\n */\r\nexport function useEventById(\r\n  id: string | undefined,\r\n  options?: Omit<UseQueryOptions<EventDto, ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.detail(id || ''),\r\n    queryFn: () => eventsRepository.getEventById(id!),\r\n    enabled: !!id, // Only fetch when ID is provided\r\n    staleTime: 10 * 60 * 1000, // 10 minutes\r\n    refetchOnWindowFocus: true,\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useSearchEvents Hook\r\n *\r\n * Searches events by search term\r\n *\r\n * Features:\r\n * - Debounced search (implement debouncing in component)\r\n * - Separate cache for search results\r\n * - 2-minute stale time for search results\r\n * - Only enabled when search term is provided\r\n *\r\n * @param searchTerm - Search query string\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * const debouncedSearch = useDebounce(searchTerm, 500);\r\n * const { data: results } = useSearchEvents(debouncedSearch);\r\n * ```\r\n */\r\nexport function useSearchEvents(\r\n  searchTerm: string | undefined,\r\n  options?: Omit<UseQueryOptions<any, ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.search(searchTerm || ''),\r\n    queryFn: () => eventsRepository.searchEvents({\r\n      searchTerm: searchTerm!,\r\n      page: 1,\r\n      pageSize: 20\r\n    }),\r\n    enabled: !!searchTerm && searchTerm.length >= 2, // Only search with 2+ characters\r\n    staleTime: 2 * 60 * 1000, // 2 minutes\r\n    refetchOnWindowFocus: false, // Don't refetch searches on focus\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useFeaturedEvents Hook\r\n *\r\n * Fetches featured events for the landing page\r\n *\r\n * Features:\r\n * - Returns up to 4 events sorted by location relevance\r\n * - For authenticated users: Uses preferred metro areas\r\n * - For anonymous users: Uses provided coordinates or default location\r\n * - 5-minute stale time for landing page performance\r\n * - Automatic refetch on window focus\r\n *\r\n * @param userId - Optional authenticated user ID\r\n * @param latitude - Optional latitude for anonymous users\r\n * @param longitude - Optional longitude for anonymous users\r\n * @param options - Additional React Query options\r\n *\r\n * @example\r\n * ```tsx\r\n * // Authenticated user\r\n * const { data: events } = useFeaturedEvents(user?.userId);\r\n *\r\n * // Anonymous user with location\r\n * const { data: events } = useFeaturedEvents(undefined, 34.0522, -118.2437);\r\n * ```\r\n */\r\nexport function useFeaturedEvents(\r\n  userId?: string,\r\n  latitude?: number,\r\n  longitude?: number,\r\n  options?: Omit<UseQueryOptions<EventDto[], ApiError>, 'queryKey' | 'queryFn'>\r\n) {\r\n  return useQuery({\r\n    queryKey: eventKeys.featured(userId, latitude, longitude),\r\n    queryFn: () => eventsRepository.getFeaturedEvents(userId, latitude, longitude),\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n    refetchOnWindowFocus: true,\r\n    retry: 1,\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * useCreateEvent Hook\r\n *\r\n * Mutation hook for creating a new event\r\n *\r\n * Features:\r\n * - Optimistic updates (optional)\r\n * - Automatic cache invalidation after success\r\n * - Proper error handling\r\n * - Success/error callbacks\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const createEvent = useCreateEvent();\r\n *\r\n * await createEvent.mutateAsync({\r\n *   title: 'New Event',\r\n *   date: '2024-12-01',\r\n *   location: 'Colombo'\r\n * });\r\n * ```\r\n */\r\nexport function useCreateEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (data: CreateEventRequest) => eventsRepository.createEvent(data),\r\n    onSuccess: () => {\r\n      // Invalidate all event lists to refetch with new event\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.lists() });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * useUpdateEvent Hook\r\n *\r\n * Mutation hook for updating an existing event\r\n *\r\n * Features:\r\n * - Optimistic updates\r\n * - Automatic cache invalidation\r\n * - Rollback on error\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const updateEvent = useUpdateEvent();\r\n *\r\n * await updateEvent.mutateAsync({\r\n *   id: 'event-123',\r\n *   title: 'Updated Title'\r\n * });\r\n * ```\r\n */\r\nexport function useUpdateEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({ id, ...data }: { id: string } & UpdateEventRequest) =>\r\n      eventsRepository.updateEvent(id, data),\r\n    onMutate: async ({ id, ...newData }) => {\r\n      // Cancel outgoing refetches\r\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(id) });\r\n\r\n      // Snapshot previous value for rollback\r\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(id));\r\n\r\n      // Optimistically update\r\n      queryClient.setQueryData(eventKeys.detail(id), (old: EventDto | undefined) => {\r\n        if (!old) return old;\r\n        return {\r\n          ...old,\r\n          ...newData,\r\n        };\r\n      });\r\n\r\n      return { previousEvent };\r\n    },\r\n    onError: (err, { id }, context) => {\r\n      // Rollback on error\r\n      if (context?.previousEvent) {\r\n        queryClient.setQueryData(eventKeys.detail(id), context.previousEvent);\r\n      }\r\n    },\r\n    onSuccess: (_data, variables) => {\r\n      // Invalidate affected queries\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.id) });\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.lists() });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * useDeleteEvent Hook\r\n *\r\n * Mutation hook for deleting an event\r\n *\r\n * Features:\r\n * - Immediate cache removal\r\n * - Automatic list invalidation\r\n * - Rollback on error\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const deleteEvent = useDeleteEvent();\r\n *\r\n * await deleteEvent.mutateAsync('event-123');\r\n * ```\r\n */\r\nexport function useDeleteEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (id: string) => eventsRepository.deleteEvent(id),\r\n    onMutate: async (id) => {\r\n      // Cancel queries\r\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(id) });\r\n\r\n      // Snapshot for rollback\r\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(id));\r\n\r\n      // Remove from cache immediately\r\n      queryClient.removeQueries({ queryKey: eventKeys.detail(id) });\r\n\r\n      return { previousEvent };\r\n    },\r\n    onError: (err, id, context) => {\r\n      // Restore on error\r\n      if (context?.previousEvent) {\r\n        queryClient.setQueryData(eventKeys.detail(id), context.previousEvent);\r\n      }\r\n    },\r\n    onSuccess: () => {\r\n      // Invalidate lists\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.lists() });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * useRsvpToEvent Hook\r\n *\r\n * Mutation hook for RSVPing to an event\r\n *\r\n * Features:\r\n * - Optimistic RSVP count update\r\n * - Automatic event detail refetch\r\n * - Rollback on error\r\n *\r\n * @param options - Additional React Query mutation options\r\n *\r\n * @example\r\n * ```tsx\r\n * const rsvpToEvent = useRsvpToEvent();\r\n *\r\n * await rsvpToEvent.mutateAsync({\r\n *   eventId: 'event-123',\r\n *   status: 'attending'\r\n * });\r\n * ```\r\n */\r\nexport function useRsvpToEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (data: RsvpRequest) =>\r\n      eventsRepository.rsvpToEvent(data.eventId, data.userId, data.quantity),\r\n    onMutate: async ({ eventId }) => {\r\n      // Cancel queries\r\n      await queryClient.cancelQueries({ queryKey: eventKeys.detail(eventId) });\r\n\r\n      // Snapshot\r\n      const previousEvent = queryClient.getQueryData(eventKeys.detail(eventId));\r\n\r\n      // Optimistically update RSVP count\r\n      queryClient.setQueryData(eventKeys.detail(eventId), (old: EventDto | undefined) => {\r\n        if (!old) return old;\r\n\r\n        return {\r\n          ...old,\r\n          currentRegistrations: old.currentRegistrations + 1,\r\n        };\r\n      });\r\n\r\n      return { previousEvent };\r\n    },\r\n    onError: (err, { eventId }, context) => {\r\n      // Rollback\r\n      if (context?.previousEvent) {\r\n        queryClient.setQueryData(eventKeys.detail(eventId), context.previousEvent);\r\n      }\r\n    },\r\n    onSuccess: (_data, variables) => {\r\n      // Refetch to get accurate data from server\r\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * usePrefetchEvent Hook\r\n *\r\n * Utility hook to prefetch an event for better UX\r\n * Useful for hover states or predictive loading\r\n *\r\n * @example\r\n * ```tsx\r\n * const prefetchEvent = usePrefetchEvent();\r\n *\r\n * <Link\r\n *   onMouseEnter={() => prefetchEvent(eventId)}\r\n * >\r\n *   Event Details\r\n * </Link>\r\n * ```\r\n */\r\nexport function usePrefetchEvent() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return (id: string) => {\r\n    queryClient.prefetchQuery({\r\n      queryKey: eventKeys.detail(id),\r\n      queryFn: () => eventsRepository.getEventById(id),\r\n      staleTime: 10 * 60 * 1000,\r\n    });\r\n  };\r\n}\r\n\r\n/**\r\n * useInvalidateEvents Hook\r\n *\r\n * Utility hook to manually invalidate event queries\r\n * Useful for force refresh scenarios\r\n *\r\n * @example\r\n * ```tsx\r\n * const invalidateEvents = useInvalidateEvents();\r\n *\r\n * <button onClick={() => invalidateEvents.all()}>\r\n *   Refresh All Events\r\n * </button>\r\n * ```\r\n */\r\nexport function useInvalidateEvents() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return {\r\n    all: () => queryClient.invalidateQueries({ queryKey: eventKeys.all }),\r\n    lists: () => queryClient.invalidateQueries({ queryKey: eventKeys.lists() }),\r\n    detail: (id: string) => queryClient.invalidateQueries({ queryKey: eventKeys.detail(id) }),\r\n  };\r\n}\r\n\r\n/**\r\n * Export all hooks\r\n */\r\nexport default {\r\n  useEvents,\r\n  useEventById,\r\n  useSearchEvents,\r\n  useFeaturedEvents,\r\n  useCreateEvent,\r\n  useUpdateEvent,\r\n  useDeleteEvent,\r\n  useRsvpToEvent,\r\n  usePrefetchEvent,\r\n  useInvalidateEvents,\r\n};\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/presentation/lib/utils';\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors',\n  {\n    variants: {\n      variant: {\n        default: 'bg-gray-100 text-gray-800',\n        cultural: 'bg-saffron-100 text-saffron-800',\n        arts: 'bg-pink-100 text-pink-800',\n        food: 'bg-orange-100 text-orange-800',\n        business: 'bg-cyan-100 text-cyan-800',\n        community: 'bg-purple-100 text-purple-800',\n        featured: 'bg-green-100 text-green-800',\n        new: 'bg-emerald-100 text-emerald-800',\n        hot: 'bg-red-100 text-red-800',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    VariantProps<typeof badgeVariants> {}\n\n/**\n * Badge Component\n *\n * Displays category labels, status indicators, and tags with color-coded variants.\n * Used for event categories, post types, and feature highlighting.\n *\n * @example\n * ```tsx\n * <Badge variant=\"cultural\">Cultural</Badge>\n * <Badge variant=\"hot\">Hot Deal</Badge>\n * ```\n *\n * Variants:\n * - default: Gray background (general use)\n * - cultural: Saffron color (cultural events)\n * - arts: Pink color (arts and performances)\n * - food: Orange color (food and culinary)\n * - business: Cyan color (business listings)\n * - community: Purple color (community events)\n * - featured: Green color (featured items)\n * - new: Emerald color (new items)\n * - hot: Red color (hot deals/trending)\n *\n * Phase: 6C.1 - Landing Page Redesign\n */\nconst Badge = React.forwardRef<HTMLSpanElement, BadgeProps>(\n  ({ className, variant, ...props }, ref) => {\n    return (\n      <span\n        ref={ref}\n        className={cn(badgeVariants({ variant }), className)}\n        {...props}\n      />\n    );\n  }\n);\n\nBadge.displayName = 'Badge';\n\nexport { Badge, badgeVariants };\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z',\n      key: '1s2grr',\n    },\n  ],\n  ['path', { d: 'M20 2v4', key: '1rf3ol' }],\n  ['path', { d: 'M22 4h-4', key: 'gwowj6' }],\n  ['circle', { cx: '4', cy: '20', r: '2', key: '6kqj1y' }],\n];\n\n/**\n * @component @name Sparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuMDE3IDIuODE0YTEgMSAwIDAgMSAxLjk2NiAwbDEuMDUxIDUuNTU4YTIgMiAwIDAgMCAxLjU5NCAxLjU5NGw1LjU1OCAxLjA1MWExIDEgMCAwIDEgMCAxLjk2NmwtNS41NTggMS4wNTFhMiAyIDAgMCAwLTEuNTk0IDEuNTk0bC0xLjA1MSA1LjU1OGExIDEgMCAwIDEtMS45NjYgMGwtMS4wNTEtNS41NThhMiAyIDAgMCAwLTEuNTk0LTEuNTk0bC01LjU1OC0xLjA1MWExIDEgMCAwIDEgMC0xLjk2Nmw1LjU1OC0xLjA1MWEyIDIgMCAwIDAgMS41OTQtMS41OTR6IiAvPgogIDxwYXRoIGQ9Ik0yMCAydjQiIC8+CiAgPHBhdGggZD0iTTIyIDRoLTQiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjIwIiByPSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sparkles = createLucideIcon('sparkles', __iconNode);\n\nexport default Sparkles;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 18h-5', key: '95g1m2' }],\n  ['path', { d: 'M18 14h-8', key: 'sponae' }],\n  [\n    'path',\n    {\n      d: 'M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2',\n      key: '39pd36',\n    },\n  ],\n  ['rect', { width: '8', height: '4', x: '10', y: '6', rx: '1', key: 'aywv1n' }],\n];\n\n/**\n * @component @name Newspaper\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMThoLTUiIC8+CiAgPHBhdGggZD0iTTE4IDE0aC04IiAvPgogIDxwYXRoIGQ9Ik00IDIyaDE2YTIgMiAwIDAgMCAyLTJWNGEyIDIgMCAwIDAtMi0ySDhhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDEtNCAwdi05YTIgMiAwIDAgMSAyLTJoMiIgLz4KICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4PSIxMCIgeT0iNiIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/newspaper\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Newspaper = createLucideIcon('newspaper', __iconNode);\n\nexport default Newspaper;\n","import { useState, useEffect } from 'react';\n\ninterface GeolocationState {\n  latitude: number | null;\n  longitude: number | null;\n  loading: boolean;\n  error: string | null;\n}\n\ninterface IpApiResponse {\n  latitude: number;\n  longitude: number;\n  city?: string;\n  region?: string;\n  country?: string;\n}\n\n/**\n * Hook to detect user's geographic location\n *\n * Priority 1: Browser Geolocation API (most accurate, requires user permission)\n * Priority 2: IP-based geolocation (fallback, no permission needed)\n *\n * Used for anonymous users to show location-relevant events\n */\nexport function useGeolocation(enabled: boolean = true) {\n  const [state, setState] = useState<GeolocationState>({\n    latitude: null,\n    longitude: null,\n    loading: enabled,\n    error: null,\n  });\n\n  useEffect(() => {\n    if (!enabled) {\n      setState({\n        latitude: null,\n        longitude: null,\n        loading: false,\n        error: null,\n      });\n      return;\n    }\n\n    let isMounted = true;\n\n    const getLocation = async () => {\n      // Priority 1: Try browser Geolocation API (most accurate)\n      if ('geolocation' in navigator) {\n        navigator.geolocation.getCurrentPosition(\n          (position) => {\n            if (isMounted) {\n              setState({\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n                loading: false,\n                error: null,\n              });\n            }\n          },\n          async (error) => {\n            // Browser geolocation failed/denied - fallback to IP geolocation\n            console.warn('Browser geolocation failed:', error.message);\n            await getIpBasedLocation();\n          },\n          {\n            timeout: 10000, // 10 second timeout\n            maximumAge: 300000, // Cache for 5 minutes\n            enableHighAccuracy: false, // Faster, less battery drain\n          }\n        );\n      } else {\n        // Browser doesn't support geolocation - use IP fallback\n        await getIpBasedLocation();\n      }\n    };\n\n    const getIpBasedLocation = async () => {\n      try {\n        // Using ipapi.co - free, no API key required\n        // Rate limit: 1000 requests/day for free tier\n        const response = await fetch('https://ipapi.co/json/', {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json',\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`IP geolocation API error: ${response.status}`);\n        }\n\n        const data: IpApiResponse = await response.json();\n\n        if (isMounted && data.latitude && data.longitude) {\n          setState({\n            latitude: data.latitude,\n            longitude: data.longitude,\n            loading: false,\n            error: null,\n          });\n        } else {\n          throw new Error('Invalid response from IP geolocation service');\n        }\n      } catch (err) {\n        console.error('IP-based geolocation failed:', err);\n        if (isMounted) {\n          setState({\n            latitude: null,\n            longitude: null,\n            loading: false,\n            error: err instanceof Error ? err.message : 'Failed to detect location',\n          });\n        }\n      }\n    };\n\n    getLocation();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [enabled]);\n\n  return state;\n}\n"],"names":[],"mappings":"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ApBxC,AAoBkD,CAAA,AApB/C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,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","ignoreList":[2,3,5,6,7]}