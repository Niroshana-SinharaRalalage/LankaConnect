{"version":3,"sources":["turbopack:///[project]/src/presentation/hooks/useEventSignUps.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-alert.ts","turbopack:///[project]/src/presentation/components/features/events/SignUpManagementSection.tsx"],"sourcesContent":["/**\n * Event Sign-Up Management React Query Hooks\n *\n * Provides React Query hooks for Event Sign-Up Lists API integration\n * Implements caching, optimistic updates, and proper error handling\n *\n * @requires @tanstack/react-query\n * @requires eventsRepository from infrastructure/repositories/events.repository\n * @requires SignUp types from infrastructure/api/types/events.types\n */\n\nimport {\n  useQuery,\n  useMutation,\n  useQueryClient,\n  UseQueryOptions,\n} from '@tanstack/react-query';\n\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\nimport type {\n  SignUpListDto,\n  AddSignUpListRequest,\n  CommitToSignUpRequest,\n  CancelCommitmentRequest,\n  AddSignUpListWithCategoriesRequest,\n  AddSignUpItemRequest,\n  CommitToSignUpItemRequest,\n} from '@/infrastructure/api/types/events.types';\n\nimport { ApiError } from '@/infrastructure/api/client/api-errors';\nimport { eventKeys } from './useEvents';\n\n/**\n * Query Keys for Event Sign-Ups\n * Centralized query key management for cache invalidation\n */\nexport const signUpKeys = {\n  all: ['signups'] as const,\n  lists: () => [...signUpKeys.all, 'list'] as const,\n  list: (eventId: string) => [...signUpKeys.lists(), eventId] as const,\n};\n\n/**\n * useEventSignUps Hook\n *\n * Fetches all sign-up lists for a specific event\n *\n * Features:\n * - Automatic caching with 5-minute stale time\n * - Refetch on window focus\n * - Proper error handling with ApiError types\n * - Only enabled when eventId is provided\n *\n * @param eventId - Event ID (GUID)\n * @param options - Additional React Query options\n *\n * @example\n * ```tsx\n * const { data: signUpLists, isLoading, error } = useEventSignUps(eventId);\n * ```\n */\nexport function useEventSignUps(\n  eventId: string | undefined,\n  options?: Omit<UseQueryOptions<SignUpListDto[], ApiError>, 'queryKey' | 'queryFn'>\n) {\n  return useQuery({\n    queryKey: signUpKeys.list(eventId || ''),\n    queryFn: () => eventsRepository.getEventSignUpLists(eventId!),\n    enabled: !!eventId, // Only fetch when eventId is provided\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    refetchOnWindowFocus: true,\n    retry: 1,\n    ...options,\n  });\n}\n\n/**\n * useAddSignUpList Hook\n *\n * Mutation hook for adding a sign-up list to an event (organizer only)\n *\n * Features:\n * - Automatic cache invalidation after success\n * - Proper error handling\n * - Invalidates both sign-up lists and event detail\n *\n * @example\n * ```tsx\n * const addSignUpList = useAddSignUpList();\n *\n * await addSignUpList.mutateAsync({\n *   eventId: 'event-123',\n *   category: 'Food & Drinks',\n *   description: 'Please bring items for the potluck',\n *   signUpType: SignUpType.Predefined,\n *   predefinedItems: ['Appetizers', 'Main Course', 'Desserts']\n * });\n * ```\n */\nexport function useAddSignUpList() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ eventId, ...data }: { eventId: string } & AddSignUpListRequest) =>\n      eventsRepository.addSignUpList(eventId, data),\n    onSuccess: (_data, variables) => {\n      // Invalidate sign-up lists for this event\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n      // Invalidate event detail to reflect updated event\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useRemoveSignUpList Hook\n *\n * Mutation hook for removing a sign-up list from an event (organizer only)\n *\n * Features:\n * - Optimistic update (removes from cache immediately)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const removeSignUpList = useRemoveSignUpList();\n *\n * await removeSignUpList.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456'\n * });\n * ```\n */\nexport function useRemoveSignUpList() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ eventId, signupId }: { eventId: string; signupId: string }) =>\n      eventsRepository.removeSignUpList(eventId, signupId),\n    onMutate: async ({ eventId, signupId }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      // Snapshot for rollback\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically remove from cache\n      queryClient.setQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId),\n        (old) => old?.filter((s) => s.id !== signupId) || []\n      );\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      // Invalidate to ensure consistency\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useCommitToSignUp Hook\n *\n * Mutation hook for user to commit to bringing an item\n *\n * Features:\n * - Optimistic update (adds commitment to cache immediately)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const commitToSignUp = useCommitToSignUp();\n *\n * await commitToSignUp.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   userId: 'user-789',\n *   itemDescription: 'Vegetable Salad',\n *   quantity: 1\n * });\n * ```\n */\nexport function useCommitToSignUp() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n    } & CommitToSignUpRequest) => eventsRepository.commitToSignUp(eventId, signupId, data),\n    onMutate: async ({ eventId, signupId, userId, itemDescription, quantity }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      // Snapshot for rollback\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically add commitment\n      queryClient.setQueryData<SignUpListDto[]>(signUpKeys.list(eventId), (old) => {\n        if (!old) return old;\n\n        return old.map((signUp) => {\n          if (signUp.id !== signupId) return signUp;\n\n          return {\n            ...signUp,\n            commitments: [\n              ...signUp.commitments,\n              {\n                id: `temp-${Date.now()}`, // Temporary ID until server responds\n                userId,\n                itemDescription,\n                quantity,\n                committedAt: new Date().toISOString(),\n              },\n            ],\n            commitmentCount: signUp.commitmentCount + 1,\n          };\n        });\n      });\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      // Refetch to get accurate data from server (with real IDs)\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useCancelCommitment Hook\n *\n * Mutation hook for user to cancel their commitment\n *\n * Features:\n * - Optimistic update (removes commitment from cache immediately)\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const cancelCommitment = useCancelCommitment();\n *\n * await cancelCommitment.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   userId: 'user-789'\n * });\n * ```\n */\nexport function useCancelCommitment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n    } & CancelCommitmentRequest) => eventsRepository.cancelCommitment(eventId, signupId, data),\n    onMutate: async ({ eventId, signupId, userId }) => {\n      // Cancel queries\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      // Snapshot for rollback\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically remove commitment\n      queryClient.setQueryData<SignUpListDto[]>(signUpKeys.list(eventId), (old) => {\n        if (!old) return old;\n\n        return old.map((signUp) => {\n          if (signUp.id !== signupId) return signUp;\n\n          return {\n            ...signUp,\n            commitments: signUp.commitments.filter((c) => c.userId !== userId),\n            commitmentCount: Math.max(0, signUp.commitmentCount - 1),\n          };\n        });\n      });\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      // Rollback on error\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      // Refetch to ensure consistency\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n// ==================== CATEGORY-BASED SIGN-UP HOOKS ====================\n\n/**\n * useAddSignUpListWithCategories Hook\n *\n * Mutation hook for adding a category-based sign-up list (organizer only)\n *\n * Features:\n * - Automatic cache invalidation after success\n * - Proper error handling\n * - Invalidates sign-up lists and event detail\n *\n * @example\n * ```tsx\n * const addCategoryList = useAddSignUpListWithCategories();\n *\n * await addCategoryList.mutateAsync({\n *   eventId: 'event-123',\n *   category: 'Potluck Items',\n *   description: 'Bring food for the community potluck',\n *   hasMandatoryItems: true,\n *   hasPreferredItems: true,\n *   hasSuggestedItems: false\n * });\n * ```\n */\nexport function useAddSignUpListWithCategories() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      ...data\n    }: { eventId: string } & AddSignUpListWithCategoriesRequest) =>\n      eventsRepository.addSignUpListWithCategories(eventId, data),\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n      queryClient.invalidateQueries({ queryKey: eventKeys.detail(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useAddSignUpItem Hook\n *\n * Mutation hook for adding an item to a category-based sign-up list (organizer only)\n *\n * Features:\n * - Returns the newly created item ID\n * - Optimistic update adds item to cache\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const addItem = useAddSignUpItem();\n *\n * const itemId = await addItem.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   itemDescription: 'Rice (5 cups)',\n *   quantity: 2,\n *   itemCategory: SignUpItemCategory.Mandatory,\n *   notes: 'Basmati preferred'\n * });\n * ```\n */\nexport function useAddSignUpItem() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n    } & AddSignUpItemRequest) => eventsRepository.addSignUpItem(eventId, signupId, data),\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useRemoveSignUpItem Hook\n *\n * Mutation hook for removing an item from a category-based sign-up list (organizer only)\n *\n * Features:\n * - Optimistic update removes item from cache\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const removeItem = useRemoveSignUpItem();\n *\n * await removeItem.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   itemId: 'item-789'\n * });\n * ```\n */\nexport function useRemoveSignUpItem() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      itemId,\n    }: {\n      eventId: string;\n      signupId: string;\n      itemId: string;\n    }) => eventsRepository.removeSignUpItem(eventId, signupId, itemId),\n    onMutate: async ({ eventId, signupId, itemId }) => {\n      await queryClient.cancelQueries({ queryKey: signUpKeys.list(eventId) });\n\n      const previousSignUps = queryClient.getQueryData<SignUpListDto[]>(\n        signUpKeys.list(eventId)\n      );\n\n      // Optimistically remove item\n      queryClient.setQueryData<SignUpListDto[]>(signUpKeys.list(eventId), (old) => {\n        if (!old) return old;\n\n        return old.map((signUp) => {\n          if (signUp.id !== signupId) return signUp;\n\n          return {\n            ...signUp,\n            items: signUp.items.filter((item) => item.id !== itemId),\n          };\n        });\n      });\n\n      return { previousSignUps };\n    },\n    onError: (err, { eventId }, context) => {\n      if (context?.previousSignUps) {\n        queryClient.setQueryData(signUpKeys.list(eventId), context.previousSignUps);\n      }\n    },\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * useCommitToSignUpItem Hook\n *\n * Mutation hook for user to commit to bringing a specific item\n *\n * Features:\n * - Optimistic update adds commitment to item\n * - Updates remaining quantity\n * - Automatic cache invalidation\n * - Rollback on error\n *\n * @example\n * ```tsx\n * const commitToItem = useCommitToSignUpItem();\n *\n * await commitToItem.mutateAsync({\n *   eventId: 'event-123',\n *   signupId: 'signup-456',\n *   itemId: 'item-789',\n *   userId: 'user-abc',\n *   quantity: 1,\n *   notes: 'Will bring brown rice'\n * });\n * ```\n */\nexport function useCommitToSignUpItem() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      eventId,\n      signupId,\n      itemId,\n      ...data\n    }: {\n      eventId: string;\n      signupId: string;\n      itemId: string;\n    } & CommitToSignUpItemRequest) =>\n      eventsRepository.commitToSignUpItem(eventId, signupId, itemId, data),\n    onSuccess: (_data, variables) => {\n      queryClient.invalidateQueries({ queryKey: signUpKeys.list(variables.eventId) });\n    },\n  });\n}\n\n/**\n * Export all hooks\n */\nexport default {\n  useEventSignUps,\n  useAddSignUpList,\n  useRemoveSignUpList,\n  useCommitToSignUp,\n  useCancelCommitment,\n  useAddSignUpListWithCategories,\n  useAddSignUpItem,\n  useRemoveSignUpItem,\n  useCommitToSignUpItem,\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","/**\n * SignUpManagementSection Component\n *\n * Complete UI for Event Sign-Up Management feature\n * Displays sign-up lists with commitments and allows users to commit or cancel\n *\n * Features:\n * - View all sign-up lists for an event\n * - See existing commitments from other users\n * - Commit to bringing items (authenticated users)\n * - Cancel commitments (own commitments only)\n * - Organizer can add/remove sign-up lists\n * - NEW: Category-based sign-ups (Mandatory, Preferred, Suggested)\n * - Backward compatible with legacy Open/Predefined sign-ups\n *\n * @requires useEventSignUps hook\n * @requires useCommitToSignUp, useCancelCommitment mutations\n * @requires useCommitToSignUpItem mutation (category-based)\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport {\n  useEventSignUps,\n  useCommitToSignUp,\n  useCancelCommitment,\n  useAddSignUpList,\n  useRemoveSignUpList,\n  useCommitToSignUpItem,\n} from '@/presentation/hooks/useEventSignUps';\nimport { SignUpType, SignUpItemCategory } from '@/infrastructure/api/types/events.types';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/presentation/components/ui/Card';\nimport { Button } from '@/presentation/components/ui/Button';\n\n/**\n * Props for SignUpManagementSection\n */\ninterface SignUpManagementSectionProps {\n  eventId: string;\n  userId?: string; // Current user ID (undefined if not logged in)\n  isOrganizer?: boolean; // Is current user the event organizer\n}\n\n/**\n * SignUpManagementSection Component\n */\nexport function SignUpManagementSection({\n  eventId,\n  userId,\n  isOrganizer = false,\n}: SignUpManagementSectionProps) {\n  const [commitDialogOpen, setCommitDialogOpen] = useState(false);\n  const [selectedSignUpId, setSelectedSignUpId] = useState<string | null>(null);\n  const [itemDescription, setItemDescription] = useState('');\n  const [quantity, setQuantity] = useState(1);\n\n  // Category-based sign-up state\n  const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n  const [commitQuantity, setCommitQuantity] = useState(1);\n  const [commitNotes, setCommitNotes] = useState('');\n\n  // Fetch sign-up lists\n  const { data: signUpLists, isLoading, error } = useEventSignUps(eventId);\n\n  // Mutations\n  const commitToSignUp = useCommitToSignUp();\n  const cancelCommitment = useCancelCommitment();\n  const commitToSignUpItem = useCommitToSignUpItem();\n\n  // Handle commit to sign-up\n  const handleCommit = async (signUpId: string) => {\n    if (!userId) {\n      alert('Please log in to commit to items');\n      return;\n    }\n\n    if (!itemDescription.trim()) {\n      alert('Please enter an item description');\n      return;\n    }\n\n    try {\n      await commitToSignUp.mutateAsync({\n        eventId,\n        signupId: signUpId,\n        userId,\n        itemDescription: itemDescription.trim(),\n        quantity,\n      });\n\n      // Reset form\n      setItemDescription('');\n      setQuantity(1);\n      setCommitDialogOpen(false);\n      setSelectedSignUpId(null);\n    } catch (err) {\n      console.error('Failed to commit:', err);\n      alert('Failed to commit. Please try again.');\n    }\n  };\n\n  // Handle cancel commitment\n  const handleCancel = async (signUpId: string) => {\n    if (!userId) {\n      return;\n    }\n\n    if (!confirm('Are you sure you want to cancel your commitment?')) {\n      return;\n    }\n\n    try {\n      await cancelCommitment.mutateAsync({\n        eventId,\n        signupId: signUpId,\n        userId,\n      });\n    } catch (err) {\n      console.error('Failed to cancel commitment:', err);\n      alert('Failed to cancel commitment. Please try again.');\n    }\n  };\n\n  // Handle commit to specific item (category-based)\n  const handleCommitToItem = async (signUpId: string, itemId: string) => {\n    if (!userId) {\n      alert('Please log in to commit to items');\n      return;\n    }\n\n    if (commitQuantity < 1) {\n      alert('Please enter a valid quantity');\n      return;\n    }\n\n    try {\n      await commitToSignUpItem.mutateAsync({\n        eventId,\n        signupId: signUpId,\n        itemId,\n        userId,\n        quantity: commitQuantity,\n        notes: commitNotes.trim() || undefined,\n      });\n\n      // Reset form\n      setSelectedItemId(null);\n      setCommitQuantity(1);\n      setCommitNotes('');\n    } catch (err) {\n      console.error('Failed to commit to item:', err);\n      alert('Failed to commit. Please try again.');\n    }\n  };\n\n  // Get category badge color\n  const getCategoryColor = (category: SignUpItemCategory) => {\n    switch (category) {\n      case SignUpItemCategory.Mandatory:\n        return 'bg-red-100 text-red-800 border-red-300';\n      case SignUpItemCategory.Preferred:\n        return 'bg-blue-100 text-blue-800 border-blue-300';\n      case SignUpItemCategory.Suggested:\n        return 'bg-green-100 text-green-800 border-green-300';\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-300';\n    }\n  };\n\n  // Get category label\n  const getCategoryLabel = (category: SignUpItemCategory) => {\n    switch (category) {\n      case SignUpItemCategory.Mandatory:\n        return 'Mandatory';\n      case SignUpItemCategory.Preferred:\n        return 'Preferred';\n      case SignUpItemCategory.Suggested:\n        return 'Suggested';\n      default:\n        return 'Unknown';\n    }\n  };\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"py-8\">\n        <p className=\"text-center text-muted-foreground\">Loading sign-up lists...</p>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"py-8\">\n        <p className=\"text-center text-destructive\">\n          Failed to load sign-up lists. Please try again.\n        </p>\n      </div>\n    );\n  }\n\n  // No sign-up lists\n  if (!signUpLists || signUpLists.length === 0) {\n    return (\n      <div className=\"py-8\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Sign-Up Lists</CardTitle>\n            <CardDescription>\n              No sign-up lists for this event yet.\n              {isOrganizer && ' Create one to let attendees volunteer to bring items!'}\n            </CardDescription>\n          </CardHeader>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-2xl font-bold\">Sign-Up Lists</h2>\n\n      {signUpLists.map((signUpList) => {\n        // Check if current user has committed to this list\n        const userCommitment = signUpList.commitments.find((c) => c.userId === userId);\n\n        // Check if this is a category-based sign-up (has items)\n        const isCategoryBased = signUpList.items && signUpList.items.length > 0;\n\n        return (\n          <Card key={signUpList.id}>\n            <CardHeader>\n              <CardTitle>{signUpList.category}</CardTitle>\n              <CardDescription>{signUpList.description}</CardDescription>\n              <div className=\"text-sm text-muted-foreground\">\n                {isCategoryBased ? (\n                  <div className=\"flex gap-2 flex-wrap mt-2\">\n                    {signUpList.hasMandatoryItems && (\n                      <span className=\"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800\">\n                        Has Mandatory Items\n                      </span>\n                    )}\n                    {signUpList.hasPreferredItems && (\n                      <span className=\"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800\">\n                        Has Preferred Items\n                      </span>\n                    )}\n                    {signUpList.hasSuggestedItems && (\n                      <span className=\"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800\">\n                        Has Suggested Items\n                      </span>\n                    )}\n                  </div>\n                ) : (\n                  <span>Type: {signUpList.signUpType === SignUpType.Predefined ? 'Predefined Items' : 'Open'}</span>\n                )}\n              </div>\n            </CardHeader>\n\n            <CardContent>\n              {/* CATEGORY-BASED SIGN-UPS (NEW) */}\n              {isCategoryBased ? (\n                <div className=\"space-y-6\">\n                  {/* Group items by category */}\n                  {[SignUpItemCategory.Mandatory, SignUpItemCategory.Preferred, SignUpItemCategory.Suggested].map((category) => {\n                    const categoryItems = signUpList.items.filter(item => item.itemCategory === category);\n\n                    if (categoryItems.length === 0) return null;\n\n                    return (\n                      <div key={category} className=\"space-y-3\">\n                        <h4 className=\"font-semibold flex items-center gap-2\">\n                          <span className={`px-2 py-1 rounded text-xs font-medium border ${getCategoryColor(category)}`}>\n                            {getCategoryLabel(category)}\n                          </span>\n                          <span className=\"text-sm text-muted-foreground\">\n                            ({categoryItems.length} {categoryItems.length === 1 ? 'item' : 'items'})\n                          </span>\n                        </h4>\n\n                        <div className=\"space-y-3\">\n                          {categoryItems.map((item) => {\n                            const userItemCommitment = item.commitments.find(c => c.userId === userId);\n                            const remainingQty = item.remainingQuantity;\n                            const percentCommitted = Math.round((item.committedQuantity / item.quantity) * 100);\n\n                            return (\n                              <div key={item.id} className=\"border rounded-lg p-4 space-y-2\">\n                                <div className=\"flex justify-between items-start\">\n                                  <div className=\"flex-1\">\n                                    <p className=\"font-medium\">{item.itemDescription}</p>\n                                    {item.notes && (\n                                      <p className=\"text-sm text-muted-foreground mt-1\">{item.notes}</p>\n                                    )}\n                                  </div>\n                                  <div className=\"text-right ml-4\">\n                                    <p className={`text-sm font-medium ${remainingQty === 0 ? 'text-green-600' : 'text-blue-600'}`}>\n                                      {item.committedQuantity} of {item.quantity} committed\n                                    </p>\n                                    <p className=\"text-xs text-muted-foreground\">\n                                      {remainingQty} remaining\n                                    </p>\n                                  </div>\n                                </div>\n\n                                {/* Progress bar */}\n                                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                                  <div\n                                    className={`h-2 rounded-full ${\n                                      percentCommitted === 100 ? 'bg-green-500' : 'bg-blue-500'\n                                    }`}\n                                    style={{ width: `${percentCommitted}%` }}\n                                  />\n                                </div>\n\n                                {/* Commitments */}\n                                {item.commitments.length > 0 && (\n                                  <div className=\"space-y-1 mt-2\">\n                                    <p className=\"text-xs font-medium text-muted-foreground\">Commitments:</p>\n                                    {item.commitments.map((commitment) => (\n                                      <div key={commitment.id} className=\"text-sm bg-muted p-2 rounded\">\n                                        <div className=\"flex justify-between items-center\">\n                                          <span>Quantity: {commitment.quantity}</span>\n                                          {commitment.userId === userId && (\n                                            <span className=\"text-xs text-blue-600 font-medium\">(You)</span>\n                                          )}\n                                        </div>\n                                        {commitment.notes && (\n                                          <p className=\"text-xs text-muted-foreground mt-1\">Note: {commitment.notes}</p>\n                                        )}\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n\n                                {/* Commit button */}\n                                {!userItemCommitment && userId && remainingQty > 0 && (\n                                  <div className=\"mt-3\">\n                                    {selectedItemId === item.id ? (\n                                      <div className=\"space-y-2\">\n                                        <div>\n                                          <label className=\"block text-sm font-medium mb-1\">\n                                            Quantity (max: {remainingQty})\n                                          </label>\n                                          <input\n                                            type=\"number\"\n                                            min=\"1\"\n                                            max={remainingQty}\n                                            value={commitQuantity}\n                                            onChange={(e) => setCommitQuantity(Math.min(parseInt(e.target.value) || 1, remainingQty))}\n                                            className=\"w-full px-3 py-2 border rounded-md\"\n                                          />\n                                        </div>\n                                        <div>\n                                          <label className=\"block text-sm font-medium mb-1\">\n                                            Notes (optional)\n                                          </label>\n                                          <textarea\n                                            value={commitNotes}\n                                            onChange={(e) => setCommitNotes(e.target.value)}\n                                            placeholder=\"Any additional details...\"\n                                            rows={2}\n                                            className=\"w-full px-3 py-2 border rounded-md\"\n                                          />\n                                        </div>\n                                        <div className=\"flex gap-2\">\n                                          <Button\n                                            onClick={() => handleCommitToItem(signUpList.id, item.id)}\n                                            disabled={commitToSignUpItem.isPending}\n                                            size=\"sm\"\n                                          >\n                                            {commitToSignUpItem.isPending ? 'Committing...' : 'Confirm Commitment'}\n                                          </Button>\n                                          <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => {\n                                              setSelectedItemId(null);\n                                              setCommitQuantity(1);\n                                              setCommitNotes('');\n                                            }}\n                                          >\n                                            Cancel\n                                          </Button>\n                                        </div>\n                                      </div>\n                                    ) : (\n                                      <Button\n                                        onClick={() => {\n                                          setSelectedItemId(item.id);\n                                          setCommitQuantity(Math.min(1, remainingQty));\n                                        }}\n                                        size=\"sm\"\n                                        variant=\"outline\"\n                                      >\n                                        I can bring this\n                                      </Button>\n                                    )}\n                                  </div>\n                                )}\n\n                                {!userId && remainingQty > 0 && (\n                                  <p className=\"text-xs text-muted-foreground mt-2\">\n                                    Please log in to commit to this item\n                                  </p>\n                                )}\n\n                                {userItemCommitment && (\n                                  <div className=\"mt-2 p-2 bg-blue-50 border border-blue-200 rounded\">\n                                    <p className=\"text-sm font-medium text-blue-800\">\n                                      You committed to bring {userItemCommitment.quantity} of this item\n                                    </p>\n                                  </div>\n                                )}\n\n                                {remainingQty === 0 && !userItemCommitment && (\n                                  <div className=\"mt-2 p-2 bg-green-50 border border-green-200 rounded\">\n                                    <p className=\"text-sm font-medium text-green-800\">\n                                      âœ“ Fully committed - Thank you everyone!\n                                    </p>\n                                  </div>\n                                )}\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : (\n                /* LEGACY OPEN/PREDEFINED SIGN-UPS */\n                <>\n                  {/* Predefined items */}\n                  {signUpList.signUpType === SignUpType.Predefined && signUpList.predefinedItems.length > 0 && (\n                    <div className=\"mb-4\">\n                      <h4 className=\"font-semibold mb-2\">Suggested Items:</h4>\n                      <ul className=\"list-disc list-inside text-sm text-muted-foreground\">\n                        {signUpList.predefinedItems.map((item, index) => (\n                          <li key={index}>{item}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Existing commitments */}\n                  {signUpList.commitments.length > 0 ? (\n                    <div>\n                      <h4 className=\"font-semibold mb-2\">\n                        Commitments ({signUpList.commitmentCount}):\n                      </h4>\n                      <div className=\"space-y-2\">\n                        {signUpList.commitments.map((commitment) => (\n                          <div\n                            key={commitment.id}\n                            className=\"flex justify-between items-center p-2 bg-muted rounded-md\"\n                          >\n                            <div>\n                              <p className=\"font-medium\">{commitment.itemDescription}</p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                Quantity: {commitment.quantity}\n                              </p>\n                            </div>\n                            {commitment.userId === userId && (\n                              <Button\n                                variant=\"destructive\"\n                                size=\"sm\"\n                                onClick={() => handleCancel(signUpList.id)}\n                                disabled={cancelCommitment.isPending}\n                              >\n                                {cancelCommitment.isPending ? 'Canceling...' : 'Cancel'}\n                              </Button>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground\">No commitments yet. Be the first!</p>\n                  )}\n                </>\n              )}\n            </CardContent>\n\n            {/* Footer only for legacy sign-ups */}\n            {!isCategoryBased && (\n              <CardFooter>\n                {!userCommitment && userId && (\n                  <div className=\"w-full space-y-3\">\n                    {selectedSignUpId === signUpList.id ? (\n                      <div className=\"space-y-3\">\n                        <div>\n                          <label className=\"block text-sm font-medium mb-1\">\n                            Item Description *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={itemDescription}\n                            onChange={(e) => setItemDescription(e.target.value)}\n                            placeholder=\"What will you bring?\"\n                            className=\"w-full px-3 py-2 border rounded-md\"\n                          />\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium mb-1\">Quantity</label>\n                          <input\n                            type=\"number\"\n                            min=\"1\"\n                            value={quantity}\n                            onChange={(e) => setQuantity(parseInt(e.target.value) || 1)}\n                            className=\"w-full px-3 py-2 border rounded-md\"\n                          />\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            onClick={() => handleCommit(signUpList.id)}\n                            disabled={commitToSignUp.isPending || !itemDescription.trim()}\n                          >\n                            {commitToSignUp.isPending ? 'Committing...' : 'Confirm'}\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            onClick={() => {\n                              setSelectedSignUpId(null);\n                              setItemDescription('');\n                              setQuantity(1);\n                            }}\n                          >\n                            Cancel\n                          </Button>\n                        </div>\n                      </div>\n                    ) : (\n                      <Button onClick={() => setSelectedSignUpId(signUpList.id)}>\n                        I can bring something\n                      </Button>\n                    )}\n                  </div>\n                )}\n                {!userId && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Please log in to commit to items\n                  </p>\n                )}\n              </CardFooter>\n            )}\n          </Card>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default SignUpManagementSection;\n"],"names":[],"mappings":"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","ignoreList":[1]}