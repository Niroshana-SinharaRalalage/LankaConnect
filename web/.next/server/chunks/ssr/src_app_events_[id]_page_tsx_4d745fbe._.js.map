{"version":3,"sources":["turbopack:///[project]/src/presentation/components/features/events/EventRegistrationForm.tsx","turbopack:///[project]/src/presentation/components/features/events/MediaGallery.tsx","turbopack:///[project]/src/app/events/[id]/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-left.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Input } from '@/presentation/components/ui/Input';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Clock } from 'lucide-react';\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\nimport type { AnonymousRegistrationRequest, AttendeeDto, RsvpRequest, GroupPricingTierDto } from '@/infrastructure/api/types/events.types';\n\n/**\n * Event Registration Form Component\n * Session 21: Multi-attendee registration with individual names and ages\n * Phase 6D: Group tiered pricing support\n * Supports both anonymous and authenticated registration flows\n * - Anonymous users: Fill in contact details + individual attendee names/ages\n * - Authenticated users: Pre-populate first attendee from profile, details auto-filled\n */\ninterface EventRegistrationFormProps {\n  eventId: string;\n  spotsLeft: number;\n  isFree: boolean;\n  ticketPrice?: number;\n  // Session 21: Dual pricing support\n  hasDualPricing?: boolean;\n  adultPrice?: number;\n  childPrice?: number;\n  childAgeLimit?: number;\n  // Phase 6D: Group tiered pricing support\n  hasGroupPricing?: boolean;\n  groupPricingTiers?: readonly GroupPricingTierDto[];\n  isProcessing: boolean;\n  onSubmit: (data: AnonymousRegistrationRequest | RsvpRequest) => Promise<void>;\n  error?: string | null;\n}\n\nexport function EventRegistrationForm({\n  eventId,\n  spotsLeft,\n  isFree,\n  ticketPrice,\n  hasDualPricing,\n  adultPrice,\n  childPrice,\n  childAgeLimit,\n  hasGroupPricing,\n  groupPricingTiers,\n  isProcessing,\n  onSubmit,\n  error,\n}: EventRegistrationFormProps) {\n  const { user } = useAuthStore();\n  const { profile, loadProfile } = useProfileStore();\n\n  // Form state\n  const [quantity, setQuantity] = useState(1);\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n\n  // Session 21: Multi-attendee state (array of { name, age } objects)\n  const [attendees, setAttendees] = useState<Array<{ name: string; age: number | '' }>>([\n    { name: '', age: '' },\n  ]);\n\n  // Validation state\n  const [touched, setTouched] = useState({\n    address: false,\n    email: false,\n    phoneNumber: false,\n    attendees: [] as boolean[],\n  });\n\n  // Load profile for authenticated users\n  useEffect(() => {\n    if (user?.userId && !profile) {\n      loadProfile(user.userId);\n    }\n  }, [user?.userId, profile, loadProfile]);\n\n  // Auto-fill from profile for authenticated users\n  useEffect(() => {\n    if (user && profile) {\n      setEmail(profile.email);\n      setPhoneNumber(profile.phoneNumber || '');\n\n      // Build address from location if available\n      if (profile.location) {\n        const addressParts = [\n          profile.location.city,\n          profile.location.state,\n          profile.location.zipCode\n        ].filter(Boolean);\n        setAddress(addressParts.join(', '));\n      }\n\n      // Pre-populate first attendee with user's profile name\n      // Note: Age must still be entered by user as it's not stored in profile\n      setAttendees([\n        {\n          name: `${profile.firstName} ${profile.lastName}`.trim(),\n          age: '',\n        },\n      ]);\n    }\n  }, [user, profile]);\n\n  // Session 21: Update attendee array when quantity changes\n  useEffect(() => {\n    const newAttendees = Array.from({ length: quantity }, (_, index) => {\n      // Preserve existing attendee data if available\n      return attendees[index] || { name: '', age: '' };\n    });\n    setAttendees(newAttendees);\n    setTouched(prev => ({\n      ...prev,\n      attendees: Array(quantity).fill(false),\n    }));\n  }, [quantity]);\n\n  // Session 21: Update individual attendee\n  const handleAttendeeChange = (index: number, field: 'name' | 'age', value: string | number) => {\n    const updated = [...attendees];\n    updated[index] = {\n      ...updated[index],\n      [field]: field === 'age' ? (value === '' ? '' : Number(value)) : value,\n    };\n    setAttendees(updated);\n  };\n\n  const handleAttendeeTouched = (index: number) => {\n    const updatedTouched = [...touched.attendees];\n    updatedTouched[index] = true;\n    setTouched(prev => ({ ...prev, attendees: updatedTouched }));\n  };\n\n  // Phase 6D: Find applicable group pricing tier based on total attendee count\n  const findApplicableTier = (): GroupPricingTierDto | null => {\n    if (!hasGroupPricing || !groupPricingTiers || groupPricingTiers.length === 0) {\n      return null;\n    }\n\n    const totalAttendees = quantity;\n    const sortedTiers = [...groupPricingTiers].sort((a, b) => a.minAttendees - b.minAttendees);\n\n    for (const tier of sortedTiers) {\n      if (totalAttendees >= tier.minAttendees) {\n        // If tier has no max (unlimited), it applies\n        if (!tier.maxAttendees) {\n          return tier;\n        }\n        // If tier has max and attendees are within range, it applies\n        if (totalAttendees <= tier.maxAttendees) {\n          return tier;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  // Session 21 + Phase 6D: Calculate total price with group/dual/single pricing support\n  const calculateTotalPrice = (): number => {\n    if (isFree) return 0;\n\n    // Phase 6D: Group tiered pricing (highest priority)\n    if (hasGroupPricing && groupPricingTiers && groupPricingTiers.length > 0) {\n      const applicableTier = findApplicableTier();\n      if (applicableTier) {\n        return applicableTier.pricePerPerson * quantity;\n      }\n      return 0; // No applicable tier found\n    }\n\n    // Session 21: Dual pricing (age-based)\n    if (hasDualPricing && adultPrice && childPrice && childAgeLimit) {\n      // Calculate based on attendee ages\n      return attendees.reduce((total, attendee) => {\n        if (attendee.age === '' || attendee.age === 0) return total;\n        const age = Number(attendee.age);\n        return total + (age < childAgeLimit ? childPrice : adultPrice);\n      }, 0);\n    }\n\n    // Legacy single pricing\n    if (ticketPrice) {\n      return ticketPrice * quantity;\n    }\n\n    return 0;\n  };\n\n  // Validation\n  const errors = {\n    address: touched.address && !user && !address.trim() ? 'Address is required' : '',\n    email: touched.email && !user && (!email.trim() || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) ? 'Valid email is required' : '',\n    phoneNumber: touched.phoneNumber && !user && (!phoneNumber.trim() || !/^\\+?[\\d\\s\\-()]+$/.test(phoneNumber)) ? 'Valid phone number is required' : '',\n    attendees: attendees.map((attendee, index) => {\n      if (!touched.attendees[index]) return { name: '', age: '' };\n      return {\n        name: !attendee.name.trim() ? 'Name is required' : '',\n        age: !attendee.age || attendee.age < 1 || attendee.age > 120 ? 'Valid age is required (1-120)' : '',\n      };\n    }),\n  };\n\n  const isFormValid = !user\n    ? address.trim() &&\n      email.trim() &&\n      /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email) &&\n      phoneNumber.trim() &&\n      /^\\+?[\\d\\s\\-()]+$/.test(phoneNumber) &&\n      attendees.every(a => a.name.trim() && a.age && a.age >= 1 && a.age <= 120)\n    : attendees.every(a => a.name.trim() && a.age && a.age >= 1 && a.age <= 120);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Mark all fields as touched for validation\n    setTouched({\n      address: true,\n      email: true,\n      phoneNumber: true,\n      attendees: Array(quantity).fill(true),\n    });\n\n    if (!isFormValid) {\n      return;\n    }\n\n    // Session 21: Prepare attendees array in new format\n    const attendeesData: AttendeeDto[] = attendees.map(a => ({\n      name: a.name.trim(),\n      age: Number(a.age),\n    }));\n\n    if (!user) {\n      // Anonymous registration with multi-attendee\n      const anonymousData: AnonymousRegistrationRequest = {\n        attendees: attendeesData,\n        address: address.trim(),\n        email: email.trim(),\n        phoneNumber: phoneNumber.trim(),\n      };\n\n      await onSubmit(anonymousData);\n    } else {\n      // Authenticated registration with multi-attendee\n      const rsvpData: RsvpRequest = {\n        userId: user.userId,\n        attendees: attendeesData,\n        email: email.trim() || undefined,\n        phoneNumber: phoneNumber.trim() || undefined,\n        address: address.trim() || undefined,\n      };\n\n      await onSubmit(rsvpData);\n    }\n  };\n\n  const totalPrice = calculateTotalPrice();\n  const applicableTier = hasGroupPricing ? findApplicableTier() : null;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      {/* Quantity Selector */}\n      <div>\n        <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n          Number of Attendees\n        </label>\n        <Input\n          type=\"number\"\n          min=\"1\"\n          max={Math.min(10, spotsLeft)}\n          value={quantity}\n          onChange={(e) => setQuantity(parseInt(e.target.value) || 1)}\n          disabled={isProcessing}\n          className=\"w-full\"\n        />\n        <p className=\"text-xs text-neutral-500 mt-1\">\n          You'll provide name and age for each attendee below\n        </p>\n      </div>\n\n      {/* Session 21: Individual Attendee Fields */}\n      <div className=\"border-t pt-4\">\n        <h4 className=\"text-sm font-semibold mb-3 text-neutral-700\">Attendee Information</h4>\n        {!user && (\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            Please provide name and age for each attendee\n          </p>\n        )}\n        {user && profile && (\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            First attendee pre-populated from your profile. You can edit if needed.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {attendees.map((attendee, index) => (\n            <div key={index} className=\"p-4 bg-neutral-50 rounded-lg border border-neutral-200\">\n              <h5 className=\"text-sm font-medium mb-3 text-neutral-700\">\n                Attendee {index + 1}\n              </h5>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Name */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n                    Full Name <span className=\"text-red-500\">*</span>\n                  </label>\n                  <Input\n                    type=\"text\"\n                    value={attendee.name}\n                    onChange={(e) => handleAttendeeChange(index, 'name', e.target.value)}\n                    onBlur={() => handleAttendeeTouched(index)}\n                    error={!!errors.attendees[index]?.name}\n                    disabled={isProcessing}\n                    placeholder=\"Enter full name\"\n                    className=\"w-full\"\n                  />\n                  {errors.attendees[index]?.name && (\n                    <p className=\"text-xs text-red-600 mt-1\">{errors.attendees[index].name}</p>\n                  )}\n                </div>\n\n                {/* Age */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n                    Age <span className=\"text-red-500\">*</span>\n                    {hasDualPricing && childAgeLimit && (\n                      <span className=\"text-xs text-neutral-500 ml-2\">\n                        (Under {childAgeLimit} = child price)\n                      </span>\n                    )}\n                  </label>\n                  <Input\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"120\"\n                    value={attendee.age}\n                    onChange={(e) => handleAttendeeChange(index, 'age', e.target.value ? parseInt(e.target.value) : '')}\n                    onBlur={() => handleAttendeeTouched(index)}\n                    error={!!errors.attendees[index]?.age}\n                    disabled={isProcessing}\n                    placeholder=\"Age\"\n                    className=\"w-full\"\n                  />\n                  {errors.attendees[index]?.age && (\n                    <p className=\"text-xs text-red-600 mt-1\">{errors.attendees[index].age}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Contact Information (anonymous users only, or editable for authenticated) */}\n      {!user && (\n        <div className=\"border-t pt-4\">\n          <h4 className=\"text-sm font-semibold mb-3 text-neutral-700\">Contact Information</h4>\n          <p className=\"text-xs text-neutral-500 mb-4\">\n            We'll use this information to send you event updates and confirmations.\n          </p>\n\n          {/* Address */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Address <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"text\"\n              value={address}\n              onChange={(e) => setAddress(e.target.value)}\n              onBlur={() => setTouched({ ...touched, address: true })}\n              error={!!errors.address}\n              disabled={isProcessing}\n              placeholder=\"Enter your address\"\n              className=\"w-full\"\n            />\n            {errors.address && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.address}</p>\n            )}\n          </div>\n\n          {/* Email */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Email <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              onBlur={() => setTouched({ ...touched, email: true })}\n              error={!!errors.email}\n              disabled={isProcessing}\n              placeholder=\"your.email@example.com\"\n              className=\"w-full\"\n            />\n            {errors.email && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.email}</p>\n            )}\n          </div>\n\n          {/* Phone Number */}\n          <div>\n            <label className=\"block text-sm font-medium mb-2 text-neutral-700\">\n              Phone Number <span className=\"text-red-500\">*</span>\n            </label>\n            <Input\n              type=\"tel\"\n              value={phoneNumber}\n              onChange={(e) => setPhoneNumber(e.target.value)}\n              onBlur={() => setTouched({ ...touched, phoneNumber: true })}\n              error={!!errors.phoneNumber}\n              disabled={isProcessing}\n              placeholder=\"+1-123-456-7890\"\n              className=\"w-full\"\n            />\n            {errors.phoneNumber && (\n              <p className=\"text-xs text-red-600 mt-1\">{errors.phoneNumber}</p>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Authenticated User Contact Info Display */}\n      {user && profile && (\n        <div className=\"border-t pt-4\">\n          <h4 className=\"text-sm font-semibold mb-3 text-neutral-700\">Contact Details</h4>\n          <div className=\"bg-neutral-50 p-4 rounded-lg space-y-2 text-sm\">\n            <div>\n              <span className=\"font-medium\">Email:</span> {profile.email}\n            </div>\n            {profile.phoneNumber && (\n              <div>\n                <span className=\"font-medium\">Phone:</span> {profile.phoneNumber}\n              </div>\n            )}\n            {address && (\n              <div>\n                <span className=\"font-medium\">Address:</span> {address}\n              </div>\n            )}\n          </div>\n          <p className=\"text-xs text-neutral-500 mt-2\">\n            Contact details from your profile\n          </p>\n        </div>\n      )}\n\n      {/* Total Price with Group/Dual/Single Pricing Breakdown */}\n      {!isFree && totalPrice > 0 && (\n        <div className=\"p-4 bg-neutral-50 rounded-lg border-t-2 border-orange-500\">\n          {/* Phase 6D: Group Tiered Pricing Breakdown */}\n          {hasGroupPricing && applicableTier && (\n            <div className=\"mb-3 space-y-2 text-sm\">\n              <h5 className=\"font-medium text-neutral-700\">Group Pricing Applied:</h5>\n              <div className=\"flex justify-between items-center p-3 bg-white rounded-lg border border-orange-200\">\n                <div>\n                  <span className=\"font-medium text-orange-600\">{applicableTier.tierRange}</span>\n                  <span className=\"text-neutral-600 ml-2\">attendees</span>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-sm font-medium text-neutral-700\">\n                    ${applicableTier.pricePerPerson.toFixed(2)} per person\n                  </div>\n                  <div className=\"text-xs text-neutral-500\">\n                    {quantity} × ${applicableTier.pricePerPerson.toFixed(2)}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Session 21: Dual Pricing Breakdown */}\n          {hasDualPricing && adultPrice && childPrice && childAgeLimit && (\n            <div className=\"mb-3 space-y-2 text-sm\">\n              <h5 className=\"font-medium text-neutral-700\">Price Breakdown:</h5>\n              {attendees.map((attendee, index) => {\n                if (!attendee.age) return null;\n                const age = Number(attendee.age);\n                const price = age < childAgeLimit ? childPrice : adultPrice;\n                const priceType = age < childAgeLimit ? 'Child' : 'Adult';\n                return (\n                  <div key={index} className=\"flex justify-between text-xs text-neutral-600\">\n                    <span>{attendee.name || `Attendee ${index + 1}`} ({priceType}, Age {age})</span>\n                    <span>${price.toFixed(2)}</span>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n\n          <div className=\"flex justify-between items-center border-t pt-3\">\n            <span className=\"text-base font-medium text-neutral-700\">Total</span>\n            <span className=\"text-xl font-bold\" style={{ color: '#8B1538' }}>\n              ${totalPrice.toFixed(2)}\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n\n      {/* Submit Button */}\n      <Button\n        type=\"submit\"\n        disabled={isProcessing || !isFormValid}\n        className=\"w-full text-lg py-6\"\n        style={{ background: '#FF7900' }}\n      >\n        {isProcessing ? (\n          <>\n            <Clock className=\"h-5 w-5 mr-2 animate-spin\" />\n            Processing...\n          </>\n        ) : isFree ? (\n          'Register for Free'\n        ) : (\n          'Continue to Payment'\n        )}\n      </Button>\n\n      {!user && (\n        <p className=\"text-sm text-center text-neutral-500\">\n          Have an account? <a href=\"/login\" className=\"text-orange-600 hover:underline\">Sign in</a> to register faster\n        </p>\n      )}\n    </form>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { X, Play, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Dialog, DialogContent } from '@/presentation/components/ui/Dialog';\nimport { EventImageDto, EventVideoDto } from '@/infrastructure/api/types/events.types';\n\ninterface MediaGalleryProps {\n  images?: readonly EventImageDto[];\n  videos?: readonly EventVideoDto[];\n  className?: string;\n}\n\n/**\n * MediaGallery Component\n * Read-only gallery for displaying event images and videos on the event detail page\n * Features:\n * - Responsive grid layout\n * - Lightbox modal for full-screen viewing\n * - Image/video carousel navigation\n * - Dark mode support\n */\nexport function MediaGallery({ images = [], videos = [], className = '' }: MediaGalleryProps) {\n  const [lightboxOpen, setLightboxOpen] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [mediaType, setMediaType] = useState<'image' | 'video'>('image');\n\n  // Combine images and videos for total media count\n  const totalImages = images.length;\n  const totalVideos = videos.length;\n  const totalMedia = totalImages + totalVideos;\n\n  if (totalMedia === 0) {\n    return null; // Don't render if no media\n  }\n\n  // Open lightbox for image\n  const openImageLightbox = (index: number) => {\n    setCurrentIndex(index);\n    setMediaType('image');\n    setLightboxOpen(true);\n  };\n\n  // Open lightbox for video\n  const openVideoLightbox = (index: number) => {\n    setCurrentIndex(index);\n    setMediaType('video');\n    setLightboxOpen(true);\n  };\n\n  // Navigate to previous media\n  const goToPrevious = () => {\n    if (mediaType === 'image') {\n      setCurrentIndex((prev) => (prev === 0 ? totalImages - 1 : prev - 1));\n    } else {\n      setCurrentIndex((prev) => (prev === 0 ? totalVideos - 1 : prev - 1));\n    }\n  };\n\n  // Navigate to next media\n  const goToNext = () => {\n    if (mediaType === 'image') {\n      setCurrentIndex((prev) => (prev === totalImages - 1 ? 0 : prev + 1));\n    } else {\n      setCurrentIndex((prev) => (prev === totalVideos - 1 ? 0 : prev + 1));\n    }\n  };\n\n  return (\n    <>\n      <div className={`space-y-6 ${className}`}>\n        {/* Images Section */}\n        {totalImages > 0 && (\n          <div>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3\">\n              Photos ({totalImages})\n            </h3>\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n              {[...images]\n                .sort((a, b) => a.displayOrder - b.displayOrder)\n                .map((image, index) => (\n                  <button\n                    key={image.id}\n                    onClick={() => openImageLightbox(index)}\n                    className=\"relative aspect-square rounded-lg overflow-hidden bg-neutral-100 dark:bg-neutral-800 hover:opacity-90 transition-opacity group\"\n                  >\n                    <img\n                      src={image.imageUrl}\n                      alt={`Event photo ${image.displayOrder}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors\" />\n                    <div className=\"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n                      {image.displayOrder}\n                    </div>\n                  </button>\n                ))}\n            </div>\n          </div>\n        )}\n\n        {/* Videos Section */}\n        {totalVideos > 0 && (\n          <div>\n            <h3 className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3\">\n              Videos ({totalVideos})\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n              {[...videos]\n                .sort((a, b) => a.displayOrder - b.displayOrder)\n                .map((video, index) => (\n                  <button\n                    key={video.id}\n                    onClick={() => openVideoLightbox(index)}\n                    className=\"relative aspect-video rounded-lg overflow-hidden bg-neutral-100 dark:bg-neutral-800 hover:opacity-90 transition-opacity group\"\n                  >\n                    <img\n                      src={video.thumbnailUrl}\n                      alt={`Video ${video.displayOrder}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors flex items-center justify-center\">\n                      <div className=\"bg-white/90 rounded-full p-4\">\n                        <Play className=\"h-8 w-8 text-neutral-900\" fill=\"currentColor\" />\n                      </div>\n                    </div>\n                    <div className=\"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n                      {video.displayOrder}\n                    </div>\n                  </button>\n                ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Lightbox Modal */}\n      <Dialog open={lightboxOpen} onOpenChange={setLightboxOpen}>\n        <DialogContent className=\"max-w-7xl w-full h-[90vh] p-0 bg-black/95\">\n          <div className=\"relative w-full h-full flex items-center justify-center\">\n            {/* Close Button */}\n            <button\n              onClick={() => setLightboxOpen(false)}\n              className=\"absolute top-4 right-4 z-50 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n              aria-label=\"Close lightbox\"\n            >\n              <X className=\"h-6 w-6 text-white\" />\n            </button>\n\n            {/* Navigation Buttons */}\n            {((mediaType === 'image' && totalImages > 1) ||\n              (mediaType === 'video' && totalVideos > 1)) && (\n              <>\n                <button\n                  onClick={goToPrevious}\n                  className=\"absolute left-4 z-50 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n                  aria-label=\"Previous media\"\n                >\n                  <ChevronLeft className=\"h-6 w-6 text-white\" />\n                </button>\n                <button\n                  onClick={goToNext}\n                  className=\"absolute right-4 z-50 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n                  aria-label=\"Next media\"\n                >\n                  <ChevronRight className=\"h-6 w-6 text-white\" />\n                </button>\n              </>\n            )}\n\n            {/* Media Content */}\n            <div className=\"w-full h-full flex items-center justify-center p-12\">\n              {mediaType === 'image' && images[currentIndex] && (\n                <img\n                  src={images[currentIndex].imageUrl}\n                  alt={`Event photo ${images[currentIndex].displayOrder}`}\n                  className=\"max-w-full max-h-full object-contain\"\n                />\n              )}\n\n              {mediaType === 'video' && videos[currentIndex] && (\n                <video\n                  src={videos[currentIndex].videoUrl}\n                  controls\n                  autoPlay\n                  className=\"max-w-full max-h-full\"\n                  poster={videos[currentIndex].thumbnailUrl}\n                >\n                  Your browser does not support the video tag.\n                </video>\n              )}\n            </div>\n\n            {/* Media Counter */}\n            <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white text-sm px-4 py-2 rounded-full\">\n              {currentIndex + 1} / {mediaType === 'image' ? totalImages : totalVideos}\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","'use client';\n\nimport { use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, Calendar, MapPin, Users, DollarSign, Clock, AlertCircle } from 'lucide-react';\nimport { Header } from '@/presentation/components/layout/Header';\nimport Footer from '@/presentation/components/layout/Footer';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/presentation/components/ui/Card';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Badge } from '@/presentation/components/ui/Badge';\nimport { useEventById, useRsvpToEvent, useUserRsvpForEvent, useUserRegistrationDetails } from '@/presentation/hooks/useEvents';\nimport { SignUpManagementSection } from '@/presentation/components/features/events/SignUpManagementSection';\nimport { EventRegistrationForm } from '@/presentation/components/features/events/EventRegistrationForm';\nimport { MediaGallery } from '@/presentation/components/features/events/MediaGallery';\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\nimport { EventCategory, EventStatus, type AnonymousRegistrationRequest, type RsvpRequest } from '@/infrastructure/api/types/events.types';\nimport { paymentsRepository } from '@/infrastructure/api/repositories/payments.repository';\nimport { eventsRepository } from '@/infrastructure/api/repositories/events.repository';\nimport { useState } from 'react';\n\n/**\n * Event Detail Page\n * Displays full event details with RSVP, Stripe payment, waitlist, and sign-up management\n */\nexport default function EventDetailPage({ params }: { params: Promise<{ id: string }> }) {\n  const { id } = use(params);\n  const router = useRouter();\n  const { user } = useAuthStore();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [isJoiningWaitlist, setIsJoiningWaitlist] = useState(false);\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [showCancelConfirm, setShowCancelConfirm] = useState(false);\n  const [cancelError, setCancelError] = useState<string | null>(null);\n  const [isCancelling, setIsCancelling] = useState(false);\n\n  // Fetch event details\n  const { data: event, isLoading, error: fetchError } = useEventById(id);\n\n  // Check if user is already registered for this event\n  const { data: userRsvp, isLoading: isLoadingRsvp } = useUserRsvpForEvent(\n    user?.userId ? id : undefined\n  );\n  const isUserRegistered = !!userRsvp;\n\n  // Fix 1: Fetch full registration details with attendee information\n  // Only fetch when user is registered to avoid unnecessary 404/401 errors\n  const { data: registrationDetails, isLoading: isLoadingRegistration } = useUserRegistrationDetails(\n    user?.userId ? id : undefined,\n    isUserRegistered // Only enabled when user is actually registered\n  );\n\n  // RSVP mutation\n  const rsvpMutation = useRsvpToEvent();\n\n  // Category labels\n  const categoryLabels: Record<EventCategory, string> = {\n    [EventCategory.Religious]: 'Religious',\n    [EventCategory.Cultural]: 'Cultural',\n    [EventCategory.Community]: 'Community',\n    [EventCategory.Educational]: 'Educational',\n    [EventCategory.Social]: 'Social',\n    [EventCategory.Business]: 'Business',\n    [EventCategory.Charity]: 'Charity',\n    [EventCategory.Entertainment]: 'Entertainment',\n  };\n\n  // Handle Registration (both anonymous and authenticated)\n  const handleRegistration = async (data: AnonymousRegistrationRequest | RsvpRequest) => {\n    if (!event) return;\n\n    try {\n      setIsProcessing(true);\n      setError(null);\n\n      // Check if this is anonymous or authenticated registration\n      if ('userId' in data) {\n        // Authenticated user registration (RsvpRequest)\n        // Session 23: Build redirect URLs for payment flow\n        const baseUrl = typeof window !== 'undefined' ? window.location.origin : '';\n        const successUrl = `${baseUrl}/events/payment/success?eventId=${id}`;\n        const cancelUrl = `${baseUrl}/events/payment/cancel?eventId=${id}`;\n\n        // Session 23: RSVP with payment support\n        // Backend returns checkout URL for paid events, null for free events\n        const checkoutUrl = await rsvpMutation.mutateAsync({\n          eventId: id,\n          userId: data.userId,\n          ...(data.attendees ? { attendees: data.attendees } : { quantity: (data as any).quantity || 1 }),\n          email: data.email,\n          phoneNumber: data.phoneNumber,\n          address: data.address,\n          successUrl,\n          cancelUrl,\n        });\n\n        // If checkout URL is returned, redirect to Stripe for payment\n        if (checkoutUrl) {\n          // Paid event - redirect to Stripe Checkout\n          window.location.href = checkoutUrl;\n          return; // Don't set isProcessing false - user is being redirected\n        }\n\n        // Free event - show success message and reload\n        alert('Registration successful!');\n        window.location.reload();\n      } else {\n        // Anonymous registration\n        await eventsRepository.registerAnonymous(id, data);\n\n        // Show success message\n        alert('Registration successful! We\\'ve sent a confirmation email to ' + data.email);\n\n        // Reload to show updated registration count\n        window.location.reload();\n      }\n\n      setIsProcessing(false);\n    } catch (err) {\n      console.error('Registration failed:', err);\n      setError(err instanceof Error ? err.message : 'Failed to register. Please try again.');\n      setIsProcessing(false);\n    }\n  };\n\n  // Handle Waitlist\n  const handleJoinWaitlist = async () => {\n    if (!user?.userId) {\n      router.push('/login?redirect=' + encodeURIComponent(`/events/${id}`));\n      return;\n    }\n\n    try {\n      setIsJoiningWaitlist(true);\n      setError(null);\n      await eventsRepository.addToWaitingList(id);\n      setIsJoiningWaitlist(false);\n      // Show success message or update UI\n      alert('Successfully joined waitlist! You will be notified when a spot becomes available.');\n    } catch (err) {\n      console.error('Failed to join waitlist:', err);\n      setError(err instanceof Error ? err.message : 'Failed to join waitlist. Please try again.');\n      setIsJoiningWaitlist(false);\n    }\n  };\n\n  // Handle Publish Event\n  const handlePublishEvent = async () => {\n    if (!event || event.organizerId !== user?.userId) {\n      return;\n    }\n\n    try {\n      setIsPublishing(true);\n      setError(null);\n      await eventsRepository.publishEvent(id);\n      setIsPublishing(false);\n      // Reload page to show updated status\n      window.location.reload();\n    } catch (err) {\n      console.error('Failed to publish event:', err);\n      setError(err instanceof Error ? err.message : 'Failed to publish event. Please try again.');\n      setIsPublishing(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <Card className=\"animate-pulse\">\n            <CardContent className=\"p-12\">\n              <div className=\"h-8 bg-neutral-200 rounded w-3/4 mb-4\"></div>\n              <div className=\"h-4 bg-neutral-200 rounded w-1/2 mb-8\"></div>\n              <div className=\"h-64 bg-neutral-200 rounded mb-8\"></div>\n              <div className=\"h-32 bg-neutral-200 rounded\"></div>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (fetchError || !event) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <Card>\n            <CardContent className=\"p-12 text-center\">\n              <AlertCircle className=\"h-16 w-16 mx-auto mb-4 text-destructive\" />\n              <h3 className=\"text-xl font-semibold text-neutral-900 mb-2\">\n                Event Not Found\n              </h3>\n              <p className=\"text-neutral-500 mb-6\">\n                The event you're looking for doesn't exist or has been removed.\n              </p>\n              <Button onClick={() => router.push('/events')}>\n                Back to Events\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const startDate = new Date(event.startDate);\n  const endDate = new Date(event.endDate);\n  const formattedStartDate = startDate.toLocaleDateString('en-US', {\n    month: 'long',\n    day: 'numeric',\n    year: 'numeric',\n  });\n  const formattedStartTime = startDate.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n  });\n  const formattedEndTime = endDate.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n  });\n\n  const isFull = event.currentRegistrations >= event.capacity;\n  const spotsLeft = event.capacity - event.currentRegistrations;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\n      <Header />\n\n      {/* Back Button and Organizer Actions */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <Button\n            variant=\"outline\"\n            onClick={() => router.push('/events')}\n            className=\"flex items-center gap-2\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            Back to Events\n          </Button>\n\n          {/* Organizer-only actions */}\n          {event && user && event.organizerId === user.userId && (\n            <div className=\"flex items-center gap-3\">\n              {/* Publish button - only show for Draft events */}\n              {event.status === EventStatus.Draft && (\n                <Button\n                  onClick={handlePublishEvent}\n                  disabled={isPublishing}\n                  className=\"flex items-center gap-2\"\n                  style={{ background: '#10B981' }}\n                >\n                  {isPublishing ? 'Publishing...' : 'Publish Event'}\n                </Button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Event Hero Section */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12\">\n        <Card className=\"overflow-hidden\">\n          {/* Event Image */}\n          {event.images && event.images.length > 0 && (\n            <div className=\"relative h-96 bg-gradient-to-br from-orange-500 to-rose-500\">\n              <img\n                src={event.images[0].imageUrl}\n                alt={event.title}\n                className=\"w-full h-full object-cover\"\n              />\n              <div className=\"absolute top-4 right-4\">\n                <Badge\n                  variant=\"default\"\n                  className=\"text-white shadow-lg text-base px-4 py-2\"\n                  style={{ background: '#8B1538' }}\n                >\n                  {categoryLabels[event.category]}\n                </Badge>\n              </div>\n            </div>\n          )}\n\n          <CardContent className=\"p-8\">\n            {/* Title and Description */}\n            <div className=\"mb-8\">\n              <h1 className=\"text-4xl font-bold text-neutral-900 mb-4\">\n                {event.title}\n              </h1>\n              <p className=\"text-lg text-neutral-600 leading-relaxed whitespace-pre-wrap\">\n                {event.description}\n              </p>\n            </div>\n\n            {/* Event Details Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n              {/* Date & Time */}\n              <div className=\"flex items-start gap-3\">\n                <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\n                  <Calendar className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-neutral-500\">Date & Time</p>\n                  <p className=\"text-base font-semibold text-neutral-900\">\n                    {formattedStartDate}\n                  </p>\n                  <p className=\"text-sm text-neutral-600\">\n                    {formattedStartTime} - {formattedEndTime}\n                  </p>\n                </div>\n              </div>\n\n              {/* Location */}\n              {event.city && event.state && (\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\n                    <MapPin className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-neutral-500\">Location</p>\n                    <p className=\"text-base font-semibold text-neutral-900\">\n                      {event.city}, {event.state}\n                    </p>\n                    {event.address && (\n                      <p className=\"text-sm text-neutral-600\">{event.address}</p>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Capacity */}\n              <div className=\"flex items-start gap-3\">\n                <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\n                  <Users className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-neutral-500\">Capacity</p>\n                  <p className=\"text-base font-semibold text-neutral-900\">\n                    {event.currentRegistrations} / {event.capacity} registered\n                  </p>\n                  {isFull ? (\n                    <Badge className=\"mt-1 bg-red-600 text-white\">Event Full</Badge>\n                  ) : (\n                    <p className=\"text-sm text-neutral-600\">\n                      {spotsLeft} {spotsLeft === 1 ? 'spot' : 'spots'} remaining\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Pricing - Session 23: Dual pricing support */}\n              <div className=\"flex items-start gap-3\">\n                <div className=\"p-3 rounded-lg\" style={{ background: '#FFF4ED' }}>\n                  <DollarSign className=\"h-6 w-6\" style={{ color: '#FF7900' }} />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-neutral-500\">Pricing</p>\n                  {event.isFree ? (\n                    <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\n                      Free Event\n                    </p>\n                  ) : event.hasDualPricing ? (\n                    <>\n                      <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\n                        Adult: ${event.adultPriceAmount?.toFixed(2)}\n                      </p>\n                      <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\n                        Child (under {event.childAgeLimit}): ${event.childPriceAmount?.toFixed(2)}\n                      </p>\n                      <p className=\"text-sm text-neutral-600\">\n                        {event.adultPriceCurrency === 1 ? 'USD' : 'LKR'}\n                      </p>\n                    </>\n                  ) : (\n                    <>\n                      <p className=\"text-base font-semibold\" style={{ color: '#8B1538' }}>\n                        ${event.ticketPriceAmount?.toFixed(2)} per person\n                      </p>\n                      <p className=\"text-sm text-neutral-600\">\n                        {event.ticketPriceCurrency === 1 ? 'USD' : 'LKR'}\n                      </p>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Media Gallery */}\n            {((event.images && event.images.length > 0) || (event.videos && event.videos.length > 0)) && (\n              <div className=\"mb-8\">\n                <MediaGallery images={event.images} videos={event.videos} />\n              </div>\n            )}\n\n            {/* Registration Section */}\n            <Card className=\"border-2\" style={{ borderColor: '#FF7900' }}>\n              <CardHeader>\n                <CardTitle>\n                  {isUserRegistered ? 'Your Registration' : 'Register for this Event'}\n                </CardTitle>\n                <CardDescription>\n                  {isUserRegistered\n                    ? 'You are already registered for this event!'\n                    : isFull\n                    ? 'This event is currently full. Join the waitlist to be notified when spots become available.'\n                    : 'Reserve your spot now!'}\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {isUserRegistered ? (\n                  // Show registration status when user is already registered\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <svg\n                          className=\"h-5 w-5 text-green-600 dark:text-green-400\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M5 13l4 4L19 7\"\n                          />\n                        </svg>\n                        <h3 className=\"text-lg font-semibold text-green-900 dark:text-green-100\">\n                          You're Registered!\n                        </h3>\n                      </div>\n                      <p className=\"text-sm text-green-800 dark:text-green-200 mb-3\">\n                        You have successfully registered for this event. We look forward to seeing you there!\n                      </p>\n\n                      {/* Registration Summary with Attendee Details */}\n                      <div className=\"mt-3 pt-3 border-t border-green-200 dark:border-green-700\">\n                        <h4 className=\"text-sm font-medium text-green-900 dark:text-green-100 mb-2\">\n                          Registration Details:\n                        </h4>\n                        {isLoadingRegistration ? (\n                          <p className=\"text-sm text-green-800 dark:text-green-200\">Loading registration details...</p>\n                        ) : registrationDetails && registrationDetails.attendees && registrationDetails.attendees.length > 0 ? (\n                          <div className=\"space-y-2\">\n                            <p className=\"text-sm font-medium text-green-900 dark:text-green-100\">\n                              Attendees ({registrationDetails.attendees.length}):\n                            </p>\n                            <ul className=\"space-y-1\">\n                              {registrationDetails.attendees.map((attendee, index) => (\n                                <li key={index} className=\"text-sm text-green-800 dark:text-green-200 pl-3\">\n                                  • {attendee.name} (Age: {attendee.age})\n                                </li>\n                              ))}\n                            </ul>\n                            {registrationDetails.contactEmail && (\n                              <p className=\"text-xs text-green-700 dark:text-green-300 mt-2\">\n                                Contact: {registrationDetails.contactEmail}\n                              </p>\n                            )}\n                          </div>\n                        ) : (\n                          <div className=\"text-sm text-green-800 dark:text-green-200\">\n                            <p>Number of attendees: {registrationDetails?.quantity || userRsvp.currentRegistrations || 1}</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Cancel Error Message */}\n                    {cancelError && (\n                      <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                        <div className=\"flex items-start gap-2\">\n                          <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5\" />\n                          <div className=\"flex-1\">\n                            <h4 className=\"text-sm font-semibold text-red-900 mb-1\">\n                              Failed to Cancel Registration\n                            </h4>\n                            <p className=\"text-sm text-red-700\">\n                              {cancelError}\n                            </p>\n                            <p className=\"text-xs text-red-600 mt-2\">\n                              Please try again or contact support if the problem persists.\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Edit and Cancel buttons */}\n                    <div className=\"flex gap-3\">\n                      <Button\n                        variant=\"outline\"\n                        className=\"flex-1\"\n                        onClick={() => {\n                          alert('Edit registration feature coming soon! You will be able to update attendee names and ages.');\n                        }}\n                      >\n                        Edit Registration\n                      </Button>\n\n                      {!showCancelConfirm ? (\n                        <Button\n                          variant=\"outline\"\n                          className=\"flex-1\"\n                          style={{ borderColor: '#EF4444', color: '#EF4444' }}\n                          onClick={() => {\n                            console.log('[CancelRsvp] User clicked Cancel Registration button');\n                            setShowCancelConfirm(true);\n                          }}\n                        >\n                          Cancel Registration\n                        </Button>\n                      ) : (\n                        <div className=\"flex flex-1 gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            className=\"flex-1\"\n                            onClick={() => {\n                              console.log('[CancelRsvp] User cancelled the cancellation');\n                              setShowCancelConfirm(false);\n                              setCancelError(null);\n                              setIsCancelling(false);\n                            }}\n                          >\n                            Keep Registration\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            className=\"flex-1\"\n                            disabled={isCancelling}\n                            style={{\n                              borderColor: '#EF4444',\n                              color: '#FFFFFF',\n                              backgroundColor: '#EF4444',\n                              opacity: isCancelling ? 0.6 : 1\n                            }}\n                            onClick={async () => {\n                              try {\n                                console.log('[CancelRsvp] User confirmed cancellation, attempting to cancel registration for event:', id);\n                                setIsCancelling(true);\n                                setCancelError(null);\n                                await eventsRepository.cancelRsvp(id);\n                                console.log('[CancelRsvp] Successfully cancelled registration - reloading page');\n                                window.location.reload();\n                              } catch (error: any) {\n                                console.error('[CancelRsvp] Failed to cancel registration:', error);\n                                console.error('[CancelRsvp] Error details:', {\n                                  message: error?.message,\n                                  response: error?.response,\n                                  status: error?.response?.status,\n                                  data: error?.response?.data,\n                                  detail: error?.response?.data?.detail\n                                });\n                                const errorMessage = error?.response?.data?.detail || error?.response?.data?.message || error?.message || 'Unknown error';\n                                setCancelError(errorMessage);\n                                setIsCancelling(false);\n                                // Don't reset showCancelConfirm so user can see the error and try again\n                              }\n                            }}\n                          >\n                            {isCancelling ? 'Cancelling...' : 'Confirm Cancel'}\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ) : !isFull ? (\n                  <EventRegistrationForm\n                    eventId={id}\n                    spotsLeft={spotsLeft}\n                    isFree={event.isFree}\n                    ticketPrice={event.ticketPriceAmount ?? undefined}\n                    hasDualPricing={event.hasDualPricing}\n                    adultPrice={event.adultPriceAmount ?? undefined}\n                    childPrice={event.childPriceAmount ?? undefined}\n                    childAgeLimit={event.childAgeLimit ?? undefined}\n                    isProcessing={isProcessing}\n                    onSubmit={handleRegistration}\n                    error={error}\n                  />\n                ) : (\n                  <>\n                    {/* Waitlist Section */}\n                    <div className=\"space-y-4\">\n                      <Button\n                        onClick={handleJoinWaitlist}\n                        disabled={isJoiningWaitlist}\n                        className=\"w-full text-lg py-6\"\n                        variant=\"outline\"\n                        style={{ borderColor: '#FF7900', color: '#FF7900' }}\n                      >\n                        {isJoiningWaitlist ? (\n                          <>\n                            <Clock className=\"h-5 w-5 mr-2 animate-spin\" />\n                            Joining...\n                          </>\n                        ) : (\n                          'Join Waitlist'\n                        )}\n                      </Button>\n\n                      {!user?.userId && (\n                        <p className=\"text-sm text-center text-neutral-500\">\n                          You'll be redirected to login before joining the waitlist\n                        </p>\n                      )}\n                    </div>\n\n                    {error && (\n                      <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                        <p className=\"text-sm text-red-600\">{error}</p>\n                      </div>\n                    )}\n                  </>\n                )}\n              </CardContent>\n            </Card>\n          </CardContent>\n        </Card>\n\n        {/* Sign-Up Management Section */}\n        <div className=\"mt-8\">\n          <SignUpManagementSection\n            eventId={id}\n            userId={user?.userId}\n            isOrganizer={event.organizerId === user?.userId}\n          />\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n"],"names":[],"mappings":"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","ignoreList":[3]}