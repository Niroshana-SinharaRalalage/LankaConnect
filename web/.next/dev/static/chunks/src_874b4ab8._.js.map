{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/lib/react-query.ts"],"sourcesContent":["/**\r\n * React Query Configuration\r\n *\r\n * This file exports a factory function for creating QueryClient instances.\r\n * DO NOT add 'use client' directive - this is a utility module imported by both\r\n * Server and Client Components.\r\n *\r\n * CRITICAL NEXT.JS 16 + REACT 19 PATTERN:\r\n * - The QueryClient must be created using useState in the Providers component\r\n * - Module-level singletons break during SSR/hydration with React 19's automatic batching\r\n * - See: https://tanstack.com/query/latest/docs/framework/react/guides/nextjs\r\n */\r\n\r\nimport { QueryClient } from '@tanstack/react-query';\r\n\r\n/**\r\n * Creates a new QueryClient instance with recommended defaults for Next.js 16 + React 19\r\n *\r\n * Configuration:\r\n * - staleTime: 60s (avoid immediate refetch on client after SSR)\r\n * - refetchOnWindowFocus: true (keep data fresh when user returns)\r\n * - retry: 1 (single retry on failure)\r\n *\r\n * @returns A new QueryClient instance\r\n */\r\nexport function makeQueryClient() {\r\n  return new QueryClient({\r\n    defaultOptions: {\r\n      queries: {\r\n        // With SSR, we usually want to set some default staleTime\r\n        // above 0 to avoid refetching immediately on the client\r\n        staleTime: 60 * 1000,\r\n\r\n        // Refetch on window focus for data freshness\r\n        refetchOnWindowFocus: true,\r\n\r\n        // Only retry once on error (prevents infinite loops)\r\n        retry: 1,\r\n      },\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;CAWC;;;;AAED;;AAYO,SAAS;IACd,OAAO,IAAI,+LAAW,CAAC;QACrB,gBAAgB;YACd,SAAS;gBACP,0DAA0D;gBAC1D,wDAAwD;gBACxD,WAAW,KAAK;gBAEhB,6CAA6C;gBAC7C,sBAAsB;gBAEtB,qDAAqD;gBACrD,OAAO;YACT;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/app/providers.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { makeQueryClient } from '@/lib/react-query';\r\n\r\n/**\r\n * Providers Component\r\n *\r\n * CRITICAL PATTERN for Next.js 16 + React 19 + React Query v5:\r\n *\r\n * We MUST use useState with an initialization function to create the QueryClient.\r\n * This ensures the client is created ONCE on component mount and survives React 19's\r\n * automatic batching during hydration.\r\n *\r\n * DO NOT use module-level singletons or external functions - this breaks during\r\n * SSR/hydration and causes queries to never execute.\r\n *\r\n * See: https://tanstack.com/query/latest/docs/framework/react/guides/nextjs\r\n */\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  // âœ… CORRECT: Use useState with initialization function\r\n  // This creates the QueryClient ONCE on client mount\r\n  // and ensures it survives React 19's automatic batching during hydration\r\n  const [queryClient] = useState(() => makeQueryClient());\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {children}\r\n      <ReactQueryDevtools initialIsOpen={false} />\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAqBO,SAAS,UAAU,EAAE,QAAQ,EAAiC;;IACnE,uDAAuD;IACvD,oDAAoD;IACpD,yEAAyE;IACzE,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;8BAAC,IAAM,IAAA,kJAAe;;IAEpD,qBACE,6LAAC,gNAAmB;QAAC,QAAQ;;YAC1B;0BACD,6LAAC,6MAAkB;gBAAC,eAAe;;;;;;;;;;;;AAGzC;GAZgB;KAAA","debugId":null}}]
}