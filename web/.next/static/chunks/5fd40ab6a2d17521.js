(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},75244,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(57022);let a=s.forwardRef(({className:e,type:s="text",error:a,...n},l)=>(0,t.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a&&"border-destructive focus-visible:ring-destructive",e),ref:l,"aria-invalid":a?"true":void 0,...n}));a.displayName="Input",e.s(["Input",()=>a])},45771,e=>{"use strict";var t,s,i,a,n,l=((t={})[t.Draft=0]="Draft",t[t.Published=1]="Published",t[t.Active=2]="Active",t[t.Postponed=3]="Postponed",t[t.Cancelled=4]="Cancelled",t[t.Completed=5]="Completed",t[t.Archived=6]="Archived",t[t.UnderReview=7]="UnderReview",t),r=((s={})[s.Religious=0]="Religious",s[s.Cultural=1]="Cultural",s[s.Community=2]="Community",s[s.Educational=3]="Educational",s[s.Social=4]="Social",s[s.Business=5]="Business",s[s.Charity=6]="Charity",s[s.Entertainment=7]="Entertainment",s),d=((i={})[i.USD=1]="USD",i[i.LKR=2]="LKR",i[i.GBP=3]="GBP",i[i.EUR=4]="EUR",i[i.CAD=5]="CAD",i[i.AUD=6]="AUD",i),c=((a={})[a.Open=0]="Open",a[a.Predefined=1]="Predefined",a),o=((n={})[n.Mandatory=0]="Mandatory",n[n.Preferred=1]="Preferred",n[n.Suggested=2]="Suggested",n);e.s(["Currency",()=>d,"EventCategory",()=>r,"EventStatus",()=>l,"SignUpItemCategory",()=>o,"SignUpType",()=>c])},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},28424,e=>{"use strict";var t,s=((t={}).GeneralUser="GeneralUser",t.BusinessOwner="BusinessOwner",t.EventOrganizer="EventOrganizer",t.EventOrganizerAndBusinessOwner="EventOrganizerAndBusinessOwner",t.Admin="Admin",t.AdminManager="AdminManager",t);e.s(["UserRole",()=>s])},91499,e=>{"use strict";var t=e.i(66027),s=e.i(54616),i=e.i(12598),a=e.i(3318),n=e.i(97353);let l={all:["signups"],lists:()=>[...l.all,"list"],list:e=>[...l.lists(),e]};function r(e,s){return(0,t.useQuery)({queryKey:l.list(e||""),queryFn:()=>a.eventsRepository.getEventSignUpLists(e),enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!0,retry:1,...s})}function d(){let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:({eventId:e,signupId:t})=>a.eventsRepository.removeSignUpList(e,t),onMutate:async({eventId:t,signupId:s})=>{await e.cancelQueries({queryKey:l.list(t)});let i=e.getQueryData(l.list(t));return e.setQueryData(l.list(t),e=>e?.filter(e=>e.id!==s)||[]),{previousSignUps:i}},onError:(t,{eventId:s},i)=>{i?.previousSignUps&&e.setQueryData(l.list(s),i.previousSignUps)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:l.list(s.eventId)}),e.invalidateQueries({queryKey:n.eventKeys.detail(s.eventId)})}})}function c(){let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:({eventId:e,signupId:t,...s})=>a.eventsRepository.commitToSignUp(e,t,s),onMutate:async({eventId:t,signupId:s,userId:i,itemDescription:a,quantity:n})=>{await e.cancelQueries({queryKey:l.list(t)});let r=e.getQueryData(l.list(t));return e.setQueryData(l.list(t),e=>e?e.map(e=>e.id!==s?e:{...e,commitments:[...e.commitments,{id:`temp-${Date.now()}`,userId:i,itemDescription:a,quantity:n,committedAt:new Date().toISOString()}],commitmentCount:e.commitmentCount+1}):e),{previousSignUps:r}},onError:(t,{eventId:s},i)=>{i?.previousSignUps&&e.setQueryData(l.list(s),i.previousSignUps)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:l.list(s.eventId)})}})}function o(){let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:({eventId:e,signupId:t,...s})=>a.eventsRepository.cancelCommitment(e,t,s),onMutate:async({eventId:t,signupId:s,userId:i})=>{await e.cancelQueries({queryKey:l.list(t)});let a=e.getQueryData(l.list(t));return e.setQueryData(l.list(t),e=>e?e.map(e=>e.id!==s?e:{...e,commitments:e.commitments.filter(e=>e.userId!==i),commitmentCount:Math.max(0,e.commitmentCount-1)}):e),{previousSignUps:a}},onError:(t,{eventId:s},i)=>{i?.previousSignUps&&e.setQueryData(l.list(s),i.previousSignUps)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:l.list(s.eventId)})}})}function u(){let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:({eventId:e,...t})=>a.eventsRepository.createSignUpList(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:l.list(s.eventId)}),e.invalidateQueries({queryKey:n.eventKeys.detail(s.eventId)})}})}function m(){let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:({eventId:e,signupId:t,itemId:s})=>a.eventsRepository.removeSignUpItem(e,t,s),onMutate:async({eventId:t,signupId:s,itemId:i})=>{await e.cancelQueries({queryKey:l.list(t)});let a=e.getQueryData(l.list(t));return e.setQueryData(l.list(t),e=>e?e.map(e=>e.id!==s?e:{...e,items:e.items.filter(e=>e.id!==i)}):e),{previousSignUps:a}},onError:(t,{eventId:s},i)=>{i?.previousSignUps&&e.setQueryData(l.list(s),i.previousSignUps)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:l.list(s.eventId)})}})}function x(){let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:({eventId:e,signupId:t,itemId:s,...i})=>a.eventsRepository.commitToSignUpItem(e,t,s,i),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:l.list(s.eventId)})}})}e.s(["useCancelCommitment",()=>o,"useCommitToSignUp",()=>c,"useCommitToSignUpItem",()=>x,"useCreateSignUpList",()=>u,"useEventSignUps",()=>r,"useRemoveSignUpItem",()=>m,"useRemoveSignUpList",()=>d])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},86292,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(18566),a=e.i(3224),n=e.i(79574),l=e.i(88129),r=e.i(97353),d=e.i(91499),c=e.i(21065),o=e.i(44212),u=e.i(75244),m=e.i(7233),x=e.i(75254);let h=(0,x.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),p=(0,x.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var g=e.i(71689);let v=(0,x.default)("list-plus",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);var y=e.i(61911),j=e.i(45771),f=e.i(28424);function b(){let e=(0,i.useParams)(),x=(0,i.useRouter)(),b=e.id,{user:N,isAuthenticated:C}=(0,l.useAuthStore)(),{data:w,isLoading:S}=(0,r.useEventById)(b),{data:k,isLoading:I}=(0,d.useEventSignUps)(b),U=(0,d.useRemoveSignUpList)(),D=(0,d.useCreateSignUpList)();(0,d.useRemoveSignUpItem)();let[M,Q]=(0,s.useState)(!1),[A,q]=(0,s.useState)(""),[E,B]=(0,s.useState)(""),[R,F]=(0,s.useState)(null),[P,L]=(0,s.useState)(null),[z,H]=(0,s.useState)(!1),[K,O]=(0,s.useState)(!1),[T,V]=(0,s.useState)(!1),[$,G]=(0,s.useState)([]),[Y,W]=(0,s.useState)([]),[J,X]=(0,s.useState)([]),[Z,_]=(0,s.useState)(""),[ee,et]=(0,s.useState)(1),[es,ei]=(0,s.useState)(""),[ea,en]=(0,s.useState)(""),[el,er]=(0,s.useState)(1),[ed,ec]=(0,s.useState)(""),[eo,eu]=(0,s.useState)(""),[em,ex]=(0,s.useState)(1),[eh,ep]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!C||!N?.userId)return void x.push("/login?redirect="+encodeURIComponent(`/events/${b}/manage-signups`));let e=w&&(w.organizerId===N.userId||N.role===f.UserRole.Admin||N.role===f.UserRole.AdminManager);w&&!e&&x.push(`/events/${b}`)},[C,N,w,b,x]);let eg=async()=>{if(!A.trim())return void L("Category is required");if(!E.trim())return void L("Description is required");if(!z&&!K&&!T)return void L("Please select at least one category (Mandatory, Preferred, or Suggested)");if(0==[...$,...Y,...J].length)return void L("Please add at least one item to the sign-up list");try{L(null);let e=[...$.map(e=>({itemDescription:e.description,quantity:e.quantity,itemCategory:j.SignUpItemCategory.Mandatory,notes:e.notes||null})),...Y.map(e=>({itemDescription:e.description,quantity:e.quantity,itemCategory:j.SignUpItemCategory.Preferred,notes:e.notes||null})),...J.map(e=>({itemDescription:e.description,quantity:e.quantity,itemCategory:j.SignUpItemCategory.Suggested,notes:e.notes||null}))];await D.mutateAsync({eventId:b,category:A.trim(),description:E.trim(),hasMandatoryItems:z,hasPreferredItems:K,hasSuggestedItems:T,items:e}),q(""),B(""),H(!1),O(!1),V(!1),G([]),W([]),X([]),Q(!1)}catch(e){console.error("Failed to create sign-up list:",e),L(e instanceof Error?e.message:"Failed to create sign-up list")}},ev=async e=>{try{await U.mutateAsync({eventId:b,signupId:e}),F(null)}catch(e){console.error("Failed to delete sign-up list:",e),alert("Failed to delete sign-up list. Please try again.")}};if(!C||!N?.userId)return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(a.Header,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-neutral-500",children:"Redirecting to login..."})})}),(0,t.jsx)(n.default,{})]});if(S||!w)return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(a.Header,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-neutral-500",children:"Loading event..."})})}),(0,t.jsx)(n.default,{})]});if(w.organizerId!==N.userId)return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(a.Header,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-destructive",children:"You are not authorized to manage this event"})})}),(0,t.jsx)(n.default,{})]});let ey=k?.reduce((e,t)=>e+t.commitmentCount,0)||0;return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(a.Header,{}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-8 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,t.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)(o.Button,{variant:"outline",onClick:()=>x.push(`/events/${b}/manage`),className:"mb-4 bg-white/10 text-white border-white/30 hover:bg-white/20 hover:border-white/50",children:[(0,t.jsx)(g.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Manage Event"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Manage Sign-Up Lists"}),(0,t.jsx)("p",{className:"text-lg text-white/90",children:w.title})]})]}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsx)(c.Card,{children:(0,t.jsx)(c.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-neutral-500",children:"Total Sign-Up Lists"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-neutral-900 mt-1",children:k?.length||0})]}),(0,t.jsx)("div",{className:"p-3 rounded-lg",style:{background:"#FFF4ED"},children:(0,t.jsx)(v,{className:"h-6 w-6",style:{color:"#FF7900"}})})]})})}),(0,t.jsx)(c.Card,{children:(0,t.jsx)(c.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-neutral-500",children:"Total Commitments"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-neutral-900 mt-1",children:ey})]}),(0,t.jsx)("div",{className:"p-3 rounded-lg",style:{background:"#FFF4ED"},children:(0,t.jsx)(y.Users,{className:"h-6 w-6",style:{color:"#FF7900"}})})]})})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#8B1538"},children:"Sign-Up Lists"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[k&&k.length>0&&(0,t.jsxs)(o.Button,{variant:"outline",onClick:()=>{if(!k||0===k.length)return void alert("No sign-up lists to download");let e="Category,Item Description,User ID,Quantity,Committed At\n";k.forEach(t=>{t.commitments.forEach(s=>{e+=`"${t.category}","${s.itemDescription}","${s.userId}",${s.quantity},"${s.committedAt}"
`})});let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),i=URL.createObjectURL(t);s.setAttribute("href",i),s.setAttribute("download",`event-${b}-signups.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"flex items-center gap-2",children:[(0,t.jsx)(p,{className:"h-4 w-4"}),"Download CSV"]}),(0,t.jsxs)(o.Button,{onClick:()=>Q(!M),style:{background:"#FF7900"},className:"flex items-center gap-2",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4"}),M?"Cancel":"Create Sign-Up List"]})]})]}),M&&(0,t.jsxs)(c.Card,{className:"mb-6",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{style:{color:"#8B1538"},children:"Create New Sign-Up List"}),(0,t.jsx)(c.CardDescription,{children:"Add a new sign-up list for attendees to commit to bringing items"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Category *"}),(0,t.jsx)(u.Input,{id:"category",type:"text",placeholder:"e.g., Food & Drinks, Decorations, Supplies",value:A,onChange:e=>q(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Description *"}),(0,t.jsx)("textarea",{id:"description",rows:3,placeholder:"Describe what items are needed or provide instructions...",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:E,onChange:e=>B(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Select Item Categories * (at least one required)"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-neutral-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:z,onChange:e=>H(e.target.checked),className:"w-4 h-4 text-red-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-neutral-900",children:"Mandatory Items"}),(0,t.jsx)("p",{className:"text-sm text-neutral-500",children:"Required items that must be brought"})]})]}),z&&(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-neutral-800 mb-3 flex items-center gap-2",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800",children:"Mandatory Items"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Item Description *"}),(0,t.jsx)(u.Input,{type:"text",placeholder:"e.g., Rice (5 cups)",value:Z,onChange:e=>_(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Quantity *"}),(0,t.jsx)(u.Input,{type:"number",min:"1",value:ee,onChange:e=>et(parseInt(e.target.value)||1)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Notes (optional)"}),(0,t.jsx)("textarea",{rows:2,placeholder:"Any additional details...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:es,onChange:e=>ei(e.target.value)})]}),(0,t.jsxs)(o.Button,{type:"button",onClick:()=>{Z.trim()?ee<1?L("Quantity must be at least 1"):(G([...$,{description:Z.trim(),quantity:ee,notes:es.trim()}]),_(""),et(1),ei(""),L(null)):L("Item description is required")},variant:"outline",className:"w-full",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:0===$.length?(0,t.jsx)("div",{className:"p-4 text-center text-neutral-500 text-sm",children:"No items added yet"}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-neutral-100 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Item"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Qty"}),(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-neutral-600",children:"Action"})]})}),(0,t.jsx)("tbody",{children:$.map((e,s)=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.description}),e.notes&&(0,t.jsx)("p",{className:"text-xs text-neutral-500",children:e.notes})]})}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.quantity}),(0,t.jsx)("td",{className:"px-3 py-2 text-center",children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{G($.filter((e,t)=>t!==s))},children:(0,t.jsx)(h,{className:"h-4 w-4"})})})]},s))})]})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-neutral-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:K,onChange:e=>O(e.target.checked),className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-neutral-900",children:"Preferred Items"}),(0,t.jsx)("p",{className:"text-sm text-neutral-500",children:"Highly desired items that would be helpful"})]})]}),K&&(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-neutral-800 mb-3 flex items-center gap-2",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Preferred Items"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Item Description *"}),(0,t.jsx)(u.Input,{type:"text",placeholder:"e.g., Side dish",value:ea,onChange:e=>en(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Quantity *"}),(0,t.jsx)(u.Input,{type:"number",min:"1",value:el,onChange:e=>er(parseInt(e.target.value)||1)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Notes (optional)"}),(0,t.jsx)("textarea",{rows:2,placeholder:"Any additional details...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:ed,onChange:e=>ec(e.target.value)})]}),(0,t.jsxs)(o.Button,{type:"button",onClick:()=>{ea.trim()?el<1?L("Quantity must be at least 1"):(W([...Y,{description:ea.trim(),quantity:el,notes:ed.trim()}]),en(""),er(1),ec(""),L(null)):L("Item description is required")},variant:"outline",className:"w-full",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:0===Y.length?(0,t.jsx)("div",{className:"p-4 text-center text-neutral-500 text-sm",children:"No items added yet"}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-neutral-100 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Item"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Qty"}),(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-neutral-600",children:"Action"})]})}),(0,t.jsx)("tbody",{children:Y.map((e,s)=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.description}),e.notes&&(0,t.jsx)("p",{className:"text-xs text-neutral-500",children:e.notes})]})}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.quantity}),(0,t.jsx)("td",{className:"px-3 py-2 text-center",children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{W(Y.filter((e,t)=>t!==s))},children:(0,t.jsx)(h,{className:"h-4 w-4"})})})]},s))})]})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-neutral-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:T,onChange:e=>V(e.target.checked),className:"w-4 h-4 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-neutral-900",children:"Suggested Items"}),(0,t.jsx)("p",{className:"text-sm text-neutral-500",children:"Optional items that would be nice to have"})]})]}),T&&(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-neutral-800 mb-3 flex items-center gap-2",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Suggested Items"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Item Description *"}),(0,t.jsx)(u.Input,{type:"text",placeholder:"e.g., Dessert",value:eo,onChange:e=>eu(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Quantity *"}),(0,t.jsx)(u.Input,{type:"number",min:"1",value:em,onChange:e=>ex(parseInt(e.target.value)||1)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Notes (optional)"}),(0,t.jsx)("textarea",{rows:2,placeholder:"Any additional details...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:eh,onChange:e=>ep(e.target.value)})]}),(0,t.jsxs)(o.Button,{type:"button",onClick:()=>{eo.trim()?em<1?L("Quantity must be at least 1"):(X([...J,{description:eo.trim(),quantity:em,notes:eh.trim()}]),eu(""),ex(1),ep(""),L(null)):L("Item description is required")},variant:"outline",className:"w-full",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:0===J.length?(0,t.jsx)("div",{className:"p-4 text-center text-neutral-500 text-sm",children:"No items added yet"}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-neutral-100 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Item"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Qty"}),(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-neutral-600",children:"Action"})]})}),(0,t.jsx)("tbody",{children:J.map((e,s)=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.description}),e.notes&&(0,t.jsx)("p",{className:"text-xs text-neutral-500",children:e.notes})]})}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.quantity}),(0,t.jsx)("td",{className:"px-3 py-2 text-center",children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{X(J.filter((e,t)=>t!==s))},children:(0,t.jsx)(h,{className:"h-4 w-4"})})})]},s))})]})})]})]})]})]}),P&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:P})}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>{Q(!1),q(""),B(""),H(!1),O(!1),V(!1),G([]),W([]),X([]),L(null)},children:"Cancel"}),(0,t.jsx)(o.Button,{onClick:eg,disabled:D.isPending,style:{background:"#FF7900"},children:D.isPending?"Creating...":"Create Sign-Up List"})]})]})]}),I?(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6",children:[void 0,void 0].map((e,s)=>(0,t.jsx)(c.Card,{className:"animate-pulse",children:(0,t.jsxs)(c.CardContent,{className:"p-6",children:[(0,t.jsx)("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-2/3"})]})},s))}):k&&k.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6",children:k.map(e=>(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.CardTitle,{style:{color:"#8B1538"},children:e.category}),(0,t.jsx)(c.CardDescription,{className:"mt-2",children:e.description})]}),R===e.id?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{variant:"destructive",size:"sm",onClick:()=>ev(e.id),disabled:U.isPending,children:"Confirm Delete"}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>F(null),children:"Cancel"})]}):(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>F(e.id),className:"text-red-600 hover:text-red-700",children:[(0,t.jsx)(h,{className:"h-4 w-4 mr-2"}),"Delete"]})]})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-neutral-700 mb-3",children:["Commitments (",e.commitmentCount,")"]}),e.commitments.length>0?(0,t.jsx)("div",{className:"space-y-2",children:e.commitments.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-neutral-900",children:e.itemDescription}),(0,t.jsxs)("p",{className:"text-sm text-neutral-500",children:["Quantity: ",e.quantity," â€¢ User: ",e.userId.substring(0,8),"..."]})]}),(0,t.jsx)("p",{className:"text-sm text-neutral-400",children:new Date(e.committedAt).toLocaleDateString()})]},e.id))}):(0,t.jsx)("p",{className:"text-neutral-500 text-sm italic",children:"No commitments yet"})]})})})]},e.id))}):(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-12 text-center",children:[(0,t.jsx)(v,{className:"h-16 w-16 mx-auto mb-4 text-neutral-400"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"No Sign-Up Lists Yet"}),(0,t.jsx)("p",{className:"text-neutral-500 mb-6",children:"Create your first sign-up list to let attendees commit to bringing items"}),(0,t.jsxs)(o.Button,{onClick:()=>Q(!0),style:{background:"#FF7900"},children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Create Sign-Up List"]})]})})]}),(0,t.jsx)(n.default,{})]})}e.s(["default",()=>b],86292)},45865,e=>{e.v(t=>Promise.all(["static/chunks/f0466de78faadcde.js"].map(t=>e.l(t))).then(()=>t(42490)))}]);