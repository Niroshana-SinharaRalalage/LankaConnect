module.exports=[30125,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(50388),f=a.i(93003),g=a.i(72988),h=a.i(74934),i=a.i(11760),j=a.i(50253),k=a.i(42043),l=a.i(13858),m=a.i(15618),n=a.i(81560),o=a.i(70106);let p=(0,o.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var q=a.i(210);let r=(0,o.default)("list-plus",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);var s=a.i(60246),t=a.i(24569),u=a.i(69212),v=a.i(64734);function w(){let a=(0,d.useParams)(),o=(0,d.useRouter)(),w=a.id,{user:x,isAuthenticated:y}=(0,g.useAuthStore)(),{data:z,isLoading:A}=(0,h.useEventById)(w),{data:B,isLoading:C}=(0,i.useEventSignUps)(w);(0,c.useEffect)(()=>{console.log("[ManageSignUps] Sign-up lists data:",B),console.log("[ManageSignUps] Loading state:",C)},[B,C]);let D=(0,i.useRemoveSignUpList)(),E=(0,i.useCreateSignUpList)();(0,i.useRemoveSignUpItem)();let[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)([]),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(1),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(""),[ah,ai]=(0,c.useState)(1),[aj,ak]=(0,c.useState)(""),[al,am]=(0,c.useState)(""),[an,ao]=(0,c.useState)(1),[ap,aq]=(0,c.useState)("");(0,c.useEffect)(()=>{if(!y||!x?.userId)return void o.push("/login?redirect="+encodeURIComponent(`/events/${w}/manage-signups`));let a=z&&(z.organizerId===x.userId||x.role===v.UserRole.Admin||x.role===v.UserRole.AdminManager);z&&!a&&o.push(`/events/${w}`)},[y,x,z,w,o]);let ar=async()=>{if(console.log("[ManageSignUps] handleCreateSignUpList called"),!H.trim())return void O("Category is required");if(!J.trim())return void O("Description is required");if(!P&&!R&&!T)return void O("Please select at least one category (Mandatory, Preferred, or Suggested)");if(0==[...V,...X,...Z].length)return void O("Please add at least one item to the sign-up list");try{O(null);let a=[...V.map(a=>({itemDescription:a.description,quantity:a.quantity,itemCategory:u.SignUpItemCategory.Mandatory,notes:a.notes||null})),...X.map(a=>({itemDescription:a.description,quantity:a.quantity,itemCategory:u.SignUpItemCategory.Preferred,notes:a.notes||null})),...Z.map(a=>({itemDescription:a.description,quantity:a.quantity,itemCategory:u.SignUpItemCategory.Suggested,notes:a.notes||null}))],b={eventId:w,category:H.trim(),description:J.trim(),hasMandatoryItems:P,hasPreferredItems:R,hasSuggestedItems:T,items:a};console.log("[ManageSignUps] Creating sign-up list with payload:",b);let c=await E.mutateAsync(b);console.log("[ManageSignUps] Sign-up list created successfully:",c),I(""),K(""),Q(!1),S(!1),U(!1),W([]),Y([]),$([]),G(!1),console.log("[ManageSignUps] Form reset complete")}catch(a){console.error("[ManageSignUps] Failed to create sign-up list:",a),O(a instanceof Error?a.message:"Failed to create sign-up list")}},as=async a=>{try{await D.mutateAsync({eventId:w,signupId:a}),M(null)}catch(a){console.error("Failed to delete sign-up list:",a),alert("Failed to delete sign-up list. Please try again.")}};if(!y||!x?.userId)return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-neutral-500",children:"Redirecting to login..."})})}),(0,b.jsx)(f.default,{})]});if(A||!z)return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-neutral-500",children:"Loading event..."})})}),(0,b.jsx)(f.default,{})]});if(z.organizerId!==x.userId)return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-destructive",children:"You are not authorized to manage this event"})})}),(0,b.jsx)(f.default,{})]});let at=B?.reduce((a,b)=>a+b.commitmentCount,0)||0;return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,b.jsx)(e.Header,{}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-8 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,b.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,b.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)(k.Button,{variant:"outline",onClick:()=>o.push(`/events/${w}/manage`),className:"mb-4 bg-white/10 text-white border-white/30 hover:bg-white/20 hover:border-white/50",children:[(0,b.jsx)(q.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Manage Event"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Manage Sign-Up Lists"}),(0,b.jsx)("p",{className:"text-lg text-white/90",children:z.title})]})]}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,b.jsx)(j.Card,{children:(0,b.jsx)(j.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-neutral-500",children:"Total Sign-Up Lists"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-neutral-900 mt-1",children:B?.length||0})]}),(0,b.jsx)("div",{className:"p-3 rounded-lg",style:{background:"#FFF4ED"},children:(0,b.jsx)(r,{className:"h-6 w-6",style:{color:"#FF7900"}})})]})})}),(0,b.jsx)(j.Card,{children:(0,b.jsx)(j.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-neutral-500",children:"Total Commitments"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-neutral-900 mt-1",children:at})]}),(0,b.jsx)("div",{className:"p-3 rounded-lg",style:{background:"#FFF4ED"},children:(0,b.jsx)(s.Users,{className:"h-6 w-6",style:{color:"#FF7900"}})})]})})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#8B1538"},children:"Sign-Up Lists"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[B&&B.length>0&&(0,b.jsxs)(k.Button,{variant:"outline",onClick:()=>{if(!B||0===B.length)return void alert("No sign-up lists to download");let a="Category,Item Description,User ID,Quantity,Committed At\n";B.forEach(b=>{(b.commitments||[]).forEach(c=>{a+=`"${b.category}","${c.itemDescription}","${c.userId}",${c.quantity},"${c.committedAt}"
`})});let b=new Blob([a],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),d=URL.createObjectURL(b);c.setAttribute("href",d),c.setAttribute("download",`event-${w}-signups.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},className:"flex items-center gap-2",children:[(0,b.jsx)(p,{className:"h-4 w-4"}),"Download CSV"]}),(0,b.jsxs)(k.Button,{onClick:()=>G(!F),style:{background:"#FF7900"},className:"flex items-center gap-2",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4"}),F?"Cancel":"Create Sign-Up List"]})]})]}),F&&(0,b.jsxs)(j.Card,{className:"mb-6",children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsx)(j.CardTitle,{style:{color:"#8B1538"},children:"Create New Sign-Up List"}),(0,b.jsx)(j.CardDescription,{children:"Add a new sign-up list for attendees to commit to bringing items"})]}),(0,b.jsxs)(j.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Category *"}),(0,b.jsx)(l.Input,{id:"category",type:"text",placeholder:"e.g., Food & Drinks, Decorations, Supplies",value:H,onChange:a=>I(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Description *"}),(0,b.jsx)("textarea",{id:"description",rows:3,placeholder:"Describe what items are needed or provide instructions...",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:J,onChange:a=>K(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Select Item Categories * (at least one required)"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-neutral-50",children:[(0,b.jsx)("input",{type:"checkbox",checked:P,onChange:a=>Q(a.target.checked),className:"w-4 h-4 text-red-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:"Mandatory Items"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Required items that must be brought"})]})]}),P&&(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h4",{className:"text-md font-semibold text-neutral-800 mb-3 flex items-center gap-2",children:(0,b.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800",children:"Mandatory Items"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Item Description *"}),(0,b.jsx)(l.Input,{type:"text",placeholder:"e.g., Rice (5 cups)",value:_,onChange:a=>aa(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Quantity *"}),(0,b.jsx)(l.Input,{type:"number",min:"1",value:ab,onChange:a=>ac(parseInt(a.target.value)||1)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Notes (optional)"}),(0,b.jsx)("textarea",{rows:2,placeholder:"Any additional details...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:ad,onChange:a=>ae(a.target.value)})]}),(0,b.jsxs)(k.Button,{type:"button",onClick:()=>{_.trim()?ab<1?O("Quantity must be at least 1"):(W([...V,{description:_.trim(),quantity:ab,notes:ad.trim()}]),aa(""),ac(1),ae(""),O(null)):O("Item description is required")},variant:"outline",className:"w-full",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,b.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:0===V.length?(0,b.jsx)("div",{className:"p-4 text-center text-neutral-500 text-sm",children:"No items added yet"}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-neutral-100 sticky top-0",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Item"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Qty"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-neutral-600",children:"Action"})]})}),(0,b.jsx)("tbody",{children:V.map((a,c)=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.description}),a.notes&&(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:a.notes})]})}),(0,b.jsx)("td",{className:"px-3 py-2 text-sm",children:a.quantity}),(0,b.jsx)("td",{className:"px-3 py-2 text-center",children:(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>{W(V.filter((a,b)=>b!==c))},children:(0,b.jsx)(n.Trash2,{className:"h-4 w-4"})})})]},c))})]})})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-neutral-50",children:[(0,b.jsx)("input",{type:"checkbox",checked:R,onChange:a=>S(a.target.checked),className:"w-4 h-4 text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:"Preferred Items"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Highly desired items that would be helpful"})]})]}),R&&(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h4",{className:"text-md font-semibold text-neutral-800 mb-3 flex items-center gap-2",children:(0,b.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Preferred Items"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Item Description *"}),(0,b.jsx)(l.Input,{type:"text",placeholder:"e.g., Side dish",value:af,onChange:a=>ag(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Quantity *"}),(0,b.jsx)(l.Input,{type:"number",min:"1",value:ah,onChange:a=>ai(parseInt(a.target.value)||1)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Notes (optional)"}),(0,b.jsx)("textarea",{rows:2,placeholder:"Any additional details...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:aj,onChange:a=>ak(a.target.value)})]}),(0,b.jsxs)(k.Button,{type:"button",onClick:()=>{af.trim()?ah<1?O("Quantity must be at least 1"):(Y([...X,{description:af.trim(),quantity:ah,notes:aj.trim()}]),ag(""),ai(1),ak(""),O(null)):O("Item description is required")},variant:"outline",className:"w-full",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,b.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:0===X.length?(0,b.jsx)("div",{className:"p-4 text-center text-neutral-500 text-sm",children:"No items added yet"}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-neutral-100 sticky top-0",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Item"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Qty"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-neutral-600",children:"Action"})]})}),(0,b.jsx)("tbody",{children:X.map((a,c)=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.description}),a.notes&&(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:a.notes})]})}),(0,b.jsx)("td",{className:"px-3 py-2 text-sm",children:a.quantity}),(0,b.jsx)("td",{className:"px-3 py-2 text-center",children:(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>{Y(X.filter((a,b)=>b!==c))},children:(0,b.jsx)(n.Trash2,{className:"h-4 w-4"})})})]},c))})]})})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-neutral-50",children:[(0,b.jsx)("input",{type:"checkbox",checked:T,onChange:a=>U(a.target.checked),className:"w-4 h-4 text-green-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:"Suggested Items"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Optional items that would be nice to have"})]})]}),T&&(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h4",{className:"text-md font-semibold text-neutral-800 mb-3 flex items-center gap-2",children:(0,b.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Suggested Items"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Item Description *"}),(0,b.jsx)(l.Input,{type:"text",placeholder:"e.g., Dessert",value:al,onChange:a=>am(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Quantity *"}),(0,b.jsx)(l.Input,{type:"number",min:"1",value:an,onChange:a=>ao(parseInt(a.target.value)||1)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:"Notes (optional)"}),(0,b.jsx)("textarea",{rows:2,placeholder:"Any additional details...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",value:ap,onChange:a=>aq(a.target.value)})]}),(0,b.jsxs)(k.Button,{type:"button",onClick:()=>{al.trim()?an<1?O("Quantity must be at least 1"):($([...Z,{description:al.trim(),quantity:an,notes:ap.trim()}]),am(""),ao(1),aq(""),O(null)):O("Item description is required")},variant:"outline",className:"w-full",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,b.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:0===Z.length?(0,b.jsx)("div",{className:"p-4 text-center text-neutral-500 text-sm",children:"No items added yet"}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-neutral-100 sticky top-0",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Item"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600",children:"Qty"}),(0,b.jsx)("th",{className:"px-3 py-2 text-center text-xs font-medium text-neutral-600",children:"Action"})]})}),(0,b.jsx)("tbody",{children:Z.map((a,c)=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.description}),a.notes&&(0,b.jsx)("p",{className:"text-xs text-neutral-500",children:a.notes})]})}),(0,b.jsx)("td",{className:"px-3 py-2 text-sm",children:a.quantity}),(0,b.jsx)("td",{className:"px-3 py-2 text-center",children:(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>{$(Z.filter((a,b)=>b!==c))},children:(0,b.jsx)(n.Trash2,{className:"h-4 w-4"})})})]},c))})]})})]})]})]})]}),N&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-red-600",children:N})}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>{G(!1),I(""),K(""),Q(!1),S(!1),U(!1),W([]),Y([]),$([]),O(null)},children:"Cancel"}),(0,b.jsx)(k.Button,{onClick:ar,disabled:E.isPending,style:{background:"#FF7900"},children:E.isPending?"Creating...":"Create Sign-Up List"})]})]})]}),C?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-6",children:[void 0,void 0].map((a,c)=>(0,b.jsx)(j.Card,{className:"animate-pulse",children:(0,b.jsxs)(j.CardContent,{className:"p-6",children:[(0,b.jsx)("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),(0,b.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-2/3"})]})},c))}):B&&B.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-6",children:B.map(a=>(0,b.jsxs)(j.Card,{children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.CardTitle,{style:{color:"#8B1538"},children:a.category}),(0,b.jsx)(j.CardDescription,{className:"mt-2",children:a.description})]}),L===a.id?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(k.Button,{variant:"destructive",size:"sm",onClick:()=>as(a.id),disabled:D.isPending,children:"Confirm Delete"}),(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>M(null),children:"Cancel"})]}):(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(k.Button,{variant:"outline",size:"sm",onClick:()=>o.push(`/events/${w}/manage-signups/${a.id}`),className:"text-orange-600 hover:text-orange-700",children:[(0,b.jsx)(t.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsxs)(k.Button,{variant:"outline",size:"sm",onClick:()=>M(a.id),className:"text-red-600 hover:text-red-700",children:[(0,b.jsx)(n.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-neutral-700 mb-3",children:["Commitments (",a.commitmentCount||0,")"]}),(a.commitments?.length??0)>0?(0,b.jsx)("div",{className:"space-y-2",children:(a.commitments||[]).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:a.itemDescription}),(0,b.jsxs)("p",{className:"text-sm text-neutral-500",children:["Quantity: ",a.quantity," â€¢ User: ",a.userId.substring(0,8),"..."]})]}),(0,b.jsx)("p",{className:"text-sm text-neutral-400",children:new Date(a.committedAt).toLocaleDateString()})]},a.id))}):(0,b.jsx)("p",{className:"text-neutral-500 text-sm italic",children:"No commitments yet"})]})})})]},a.id))}):(0,b.jsx)(j.Card,{children:(0,b.jsxs)(j.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(r,{className:"h-16 w-16 mx-auto mb-4 text-neutral-400"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"No Sign-Up Lists Yet"}),(0,b.jsx)("p",{className:"text-neutral-500 mb-6",children:"Create your first sign-up list to let attendees commit to bringing items"}),(0,b.jsxs)(k.Button,{onClick:()=>G(!0),style:{background:"#FF7900"},children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Create Sign-Up List"]})]})})]}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>w],30125)}];

//# sourceMappingURL=src_app_events_%5Bid%5D_manage-signups_page_tsx_b7e58f41._.js.map