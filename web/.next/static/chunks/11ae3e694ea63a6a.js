(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},75244,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(57022);let s=a.forwardRef(({className:e,type:a="text",error:s,...i},l)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"border-destructive focus-visible:ring-destructive",e),ref:l,"aria-invalid":s?"true":void 0,...i}));s.displayName="Input",e.s(["Input",()=>s])},28424,e=>{"use strict";var t,a=((t={}).GeneralUser="GeneralUser",t.BusinessOwner="BusinessOwner",t.EventOrganizer="EventOrganizer",t.EventOrganizerAndBusinessOwner="EventOrganizerAndBusinessOwner",t.Admin="Admin",t.AdminManager="AdminManager",t);e.s(["UserRole",()=>a])},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},78583,51975,24225,52184,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>a],78583);let r=(0,t.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>r],51975);var s=e.i(81307),i=e.i(45771);let l=s.z.object({title:s.z.string().min(1,"Event title is required").min(5,"Title must be at least 5 characters").max(200,"Title must be less than 200 characters"),description:s.z.string().min(1,"Event description is required").min(20,"Description must be at least 20 characters").max(5e3,"Description must be less than 5000 characters"),category:s.z.nativeEnum(i.EventCategory),startDate:s.z.string().min(1,"Start date and time are required").refine(e=>new Date(e)>new Date,"Start date must be in the future"),endDate:s.z.string().min(1,"End date and time are required"),capacity:s.z.number().int("Capacity must be a whole number").min(1,"Capacity must be at least 1").max(1e4,"Capacity cannot exceed 10,000"),locationAddress:s.z.string().max(200,"Address must be less than 200 characters").optional().or(s.z.literal("")),locationCity:s.z.string().max(100,"City must be less than 100 characters").optional().or(s.z.literal("")),locationState:s.z.string().max(100,"State must be less than 100 characters").optional().or(s.z.literal("")),locationZipCode:s.z.string().regex(/^\d{5}(-\d{4})?$/,"ZIP code must be in format 12345 or 12345-6789").optional().or(s.z.literal("")),locationCountry:s.z.string().max(100,"Country must be less than 100 characters").optional().or(s.z.literal("")),isFree:s.z.boolean(),ticketPriceAmount:s.z.number().min(0,"Price cannot be negative").max(1e4,"Price cannot exceed $10,000").optional().nullable(),ticketPriceCurrency:s.z.nativeEnum(i.Currency).optional().nullable()}).refine(e=>{let t=new Date(e.startDate);return new Date(e.endDate)>t},{message:"End date must be after start date",path:["endDate"]}).refine(e=>!!e.isFree||null!==e.ticketPriceAmount&&void 0!==e.ticketPriceAmount&&e.ticketPriceAmount>0&&null!==e.ticketPriceCurrency,{message:"Price and currency are required for paid events",path:["ticketPriceAmount"]});async function n(e,t,a,r="United States",s){try{let i=[e,t,a,s,r].filter(Boolean).join(", ");console.log("ðŸ—ºï¸ Geocoding address:",i);let l=new URL("https://nominatim.openstreetmap.org/search");l.searchParams.append("q",i),l.searchParams.append("format","json"),l.searchParams.append("limit","1"),l.searchParams.append("addressdetails","1");let n=await fetch(l.toString(),{headers:{"User-Agent":"LankaConnect/1.0 (Event Management Platform)"}});if(!n.ok)return console.error("âŒ Geocoding API error:",n.status,n.statusText),null;let o=await n.json();if(!o||0===o.length)return console.warn("âš ï¸ No geocoding results found for:",i),null;let c=o[0];return console.log("âœ… Geocoding successful:",{latitude:parseFloat(c.lat),longitude:parseFloat(c.lon),displayName:c.display_name}),{latitude:parseFloat(c.lat),longitude:parseFloat(c.lon),displayName:c.display_name}}catch(e){return console.error("âŒ Geocoding error:",e),null}}e.s(["createEventSchema",0,l],24225),e.s(["geocodeAddress",()=>n],52184)},37775,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(71689),i=e.i(63209),l=e.i(3224),n=e.i(79574),o=e.i(21065),c=e.i(44212),d=e.i(53145),u=e.i(94814),m=e.i(87316),x=e.i(46897),p=e.i(61911),h=e.i(12426),g=e.i(78583),v=e.i(51975),y=e.i(75244),b=e.i(24225),f=e.i(88129),C=e.i(45771),j=e.i(3318),N=e.i(52184);function k({event:e}){let s=(0,r.useRouter)(),{user:i}=(0,f.useAuthStore)(),[l,n]=(0,a.useState)(null),[k,w]=(0,a.useState)(!1),E=(0,a.useCallback)(e=>"number"==typeof e?e:({Religious:C.EventCategory.Religious,Cultural:C.EventCategory.Cultural,Community:C.EventCategory.Community,Educational:C.EventCategory.Educational,Social:C.EventCategory.Social,Business:C.EventCategory.Business,Charity:C.EventCategory.Charity,Entertainment:C.EventCategory.Entertainment})[e]??C.EventCategory.Community,[]),A=e=>{let t=new Date(e),a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${a}-${r}-${s}T${i}:${l}`},{register:S,handleSubmit:P,watch:F,reset:D,formState:{errors:z}}=(0,d.useForm)({resolver:(0,u.zodResolver)(b.createEventSchema),defaultValues:{title:e.title,description:e.description,category:E(e.category),startDate:A(e.startDate),endDate:A(e.endDate),capacity:e.capacity,isFree:e.isFree??!0,ticketPriceAmount:e.ticketPriceAmount||void 0,ticketPriceCurrency:e.ticketPriceCurrency||C.Currency.USD,locationAddress:e.address||void 0,locationCity:e.city||void 0,locationState:e.state||void 0,locationZipCode:e.zipCode||void 0,locationCountry:e.country||void 0}});(0,a.useEffect)(()=>{let t=E(e.category);console.log("ðŸ”„ Resetting form with event data:",{eventId:e.id,category:e.category,categoryType:typeof e.category,categoryNumber:t,isFree:e.isFree}),D({title:e.title,description:e.description,category:t,startDate:A(e.startDate),endDate:A(e.endDate),capacity:e.capacity,isFree:e.isFree,ticketPriceAmount:e.ticketPriceAmount||void 0,ticketPriceCurrency:e.ticketPriceCurrency||C.Currency.USD,locationAddress:e.address||void 0,locationCity:e.city||void 0,locationState:e.state||void 0,locationZipCode:e.zipCode||void 0,locationCountry:e.country||void 0})},[e.id]);let I=F("isFree"),U=P(async t=>{if(!i?.userId)return void n("You must be logged in to edit events");if(e.organizerId!==i.userId)return void n("You can only edit your own events");try{let a,r;w(!0),n(null),console.log("ðŸ“‹ Form Submission - Updating Event:",{eventId:e.id,userId:i.userId,userRole:i.role});let l=!!(t.locationAddress&&t.locationCity);if(l){console.log("ðŸ—ºï¸ Geocoding address for location-based filtering...");let e=await (0,N.geocodeAddress)(t.locationAddress,t.locationCity,t.locationState||void 0,t.locationCountry||"United States",t.locationZipCode||void 0);e?(a=e.latitude,r=e.longitude,console.log("âœ… Geocoding successful:",{lat:a,lon:r,display:e.displayName})):console.warn("âš ï¸ Geocoding failed - event will not appear in location-based filters")}let o=new Date(t.startDate).toISOString(),c=new Date(t.endDate).toISOString(),d={eventId:e.id,title:t.title,description:t.description,startDate:o,endDate:c,capacity:t.capacity,category:t.category,...l&&{locationAddress:t.locationAddress,locationCity:t.locationCity,locationState:t.locationState||null,locationZipCode:t.locationZipCode||null,locationCountry:t.locationCountry||null,locationLatitude:a??null,locationLongitude:r??null},ticketPriceAmount:t.isFree?null:t.ticketPriceAmount,ticketPriceCurrency:t.isFree?null:t.ticketPriceCurrency};console.log("ðŸ“¤ Updating event with payload:",JSON.stringify(d,null,2)),console.log("ðŸ“‹ Event details before update:",{eventId:e.id,eventIdType:typeof e.id,currentCategory:e.category,currentCategoryType:typeof e.category,newCategory:t.category,newCategoryType:typeof t.category,eventStatus:e.status,isFree:t.isFree,ticketPriceAmount:t.ticketPriceAmount,ticketPriceCurrency:t.ticketPriceCurrency}),console.log("ðŸŒ API Request Details:",{url:`/events/${e.id}`,method:"PUT",payloadSize:JSON.stringify(d).length,payloadKeys:Object.keys(d)}),await j.eventsRepository.updateEvent(e.id,d),console.log("âœ… Event updated successfully!"),s.push(`/events/${e.id}`)}catch(e){console.error("âŒ Event update failed:",e),n(e instanceof Error?e.message:"Failed to update event. Please try again.")}finally{w(!1)}}),T=[{value:C.EventCategory.Religious,label:"Religious"},{value:C.EventCategory.Cultural,label:"Cultural"},{value:C.EventCategory.Community,label:"Community"},{value:C.EventCategory.Educational,label:"Educational"},{value:C.EventCategory.Social,label:"Social"},{value:C.EventCategory.Business,label:"Business"},{value:C.EventCategory.Charity,label:"Charity"},{value:C.EventCategory.Entertainment,label:"Entertainment"}];return(0,t.jsxs)("form",{onSubmit:U,className:"space-y-6",children:[(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.FileText,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,t.jsx)(o.CardTitle,{style:{color:"#8B1538"},children:"Basic Information"})]}),(0,t.jsx)(o.CardDescription,{children:"Update the essential details about your event"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Title *"}),(0,t.jsx)(y.Input,{id:"title",type:"text",placeholder:"e.g., Sri Lankan Cultural Festival 2025",error:!!z.title,...S("title")}),z.title&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.title.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Description *"}),(0,t.jsx)("textarea",{id:"description",rows:6,placeholder:"Provide a detailed description of your event, including what attendees can expect...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none ${z.description?"border-destructive":"border-neutral-300"}`,...S("description")}),z.description&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.description.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Event Category *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(v.Tag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}),(0,t.jsx)("select",{id:"category",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 appearance-none ${z.category?"border-destructive":"border-neutral-300"}`,...S("category",{valueAsNumber:!0}),children:T.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),z.category&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.category.message})]})]})]}),(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Calendar,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,t.jsx)(o.CardTitle,{style:{color:"#8B1538"},children:"Date & Time"})]}),(0,t.jsx)(o.CardDescription,{children:"Update when your event will take place"})]}),(0,t.jsx)(o.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Start Date & Time *"}),(0,t.jsx)(y.Input,{id:"startDate",type:"datetime-local",error:!!z.startDate,...S("startDate")}),z.startDate&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.startDate.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"End Date & Time *"}),(0,t.jsx)(y.Input,{id:"endDate",type:"datetime-local",error:!!z.endDate,...S("endDate")}),z.endDate&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.endDate.message})]})]})})]}),(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.MapPin,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,t.jsx)(o.CardTitle,{style:{color:"#8B1538"},children:"Location"})]}),(0,t.jsx)(o.CardDescription,{children:"Update where the event will take place (Optional but recommended)"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"locationAddress",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Street Address"}),(0,t.jsx)(y.Input,{id:"locationAddress",type:"text",placeholder:"e.g., 123 Main Street",error:!!z.locationAddress,...S("locationAddress")}),z.locationAddress&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.locationAddress.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"locationCity",className:"block text-sm font-medium text-neutral-700 mb-2",children:"City"}),(0,t.jsx)(y.Input,{id:"locationCity",type:"text",placeholder:"e.g., Columbus",error:!!z.locationCity,...S("locationCity")}),z.locationCity&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.locationCity.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"locationState",className:"block text-sm font-medium text-neutral-700 mb-2",children:"State"}),(0,t.jsx)(y.Input,{id:"locationState",type:"text",placeholder:"e.g., Ohio",error:!!z.locationState,...S("locationState")}),z.locationState&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.locationState.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"locationZipCode",className:"block text-sm font-medium text-neutral-700 mb-2",children:"ZIP Code"}),(0,t.jsx)(y.Input,{id:"locationZipCode",type:"text",placeholder:"e.g., 43201",error:!!z.locationZipCode,...S("locationZipCode")}),z.locationZipCode&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.locationZipCode.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"locationCountry",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Country"}),(0,t.jsx)(y.Input,{id:"locationCountry",type:"text",placeholder:"e.g., United States",error:!!z.locationCountry,...S("locationCountry")}),z.locationCountry&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.locationCountry.message})]})]})]})]}),(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Users,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,t.jsx)(o.CardTitle,{style:{color:"#8B1538"},children:"Capacity & Pricing"})]}),(0,t.jsx)(o.CardDescription,{children:"Update attendance limits and ticket pricing"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"capacity",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Maximum Capacity *"}),(0,t.jsx)(y.Input,{id:"capacity",type:"number",min:"1",max:"10000",placeholder:"e.g., 100",error:!!z.capacity,...S("capacity",{valueAsNumber:!0})}),z.capacity&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.capacity.message})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-neutral-50 rounded-lg",children:[(0,t.jsx)("input",{id:"isFree",type:"checkbox",className:"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500",...S("isFree")}),(0,t.jsx)("label",{htmlFor:"isFree",className:"text-sm font-medium text-neutral-700",children:"This is a free event (no ticket purchase required)"})]}),!I&&(0,t.jsxs)("div",{className:"space-y-4 p-4 border-2 border-orange-200 rounded-lg bg-orange-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(h.DollarSign,{className:"h-5 w-5",style:{color:"#FF7900"}}),(0,t.jsx)("h4",{className:"text-sm font-semibold text-neutral-900",children:"Ticket Pricing"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ticketPriceAmount",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Ticket Price *"}),(0,t.jsx)(y.Input,{id:"ticketPriceAmount",type:"number",min:"0",max:"10000",step:"0.01",placeholder:"e.g., 25.00",error:!!z.ticketPriceAmount,...S("ticketPriceAmount",{valueAsNumber:!0})}),z.ticketPriceAmount&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.ticketPriceAmount.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ticketPriceCurrency",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Currency *"}),(0,t.jsxs)("select",{id:"ticketPriceCurrency",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${z.ticketPriceCurrency?"border-destructive":"border-neutral-300"}`,...S("ticketPriceCurrency",{valueAsNumber:!0}),children:[(0,t.jsx)("option",{value:C.Currency.USD,children:"USD ($)"}),(0,t.jsx)("option",{value:C.Currency.LKR,children:"LKR (Rs)"})]}),z.ticketPriceCurrency&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:z.ticketPriceCurrency.message})]})]})]})]})]}),(0,t.jsx)(o.Card,{children:(0,t.jsx)(o.CardContent,{className:"py-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"ðŸ“¸ Manage Images & Videos"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"You can add or remove event images and videos from the event detail page."})]})]})})}),l&&(0,t.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:l})}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,t.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>s.push(`/events/${e.id}`),disabled:k,children:"Cancel"}),(0,t.jsx)(c.Button,{type:"submit",disabled:k,style:{background:"#FF7900"},className:"min-w-[150px]",children:k?"Updating...":"Update Event"})]})]})}var w=e.i(97353),E=e.i(28424);function A({params:e}){let{id:d}=(0,a.use)(e),u=(0,r.useRouter)(),{user:m,isAuthenticated:x}=(0,f.useAuthStore)(),{data:p,isLoading:h,error:g}=(0,w.useEventById)(d);return((0,a.useEffect)(()=>{x&&m?.userId?m.role!==E.UserRole.EventOrganizer&&m.role!==E.UserRole.Admin&&m.role!==E.UserRole.AdminManager&&u.push("/dashboard"):u.push("/login?redirect="+encodeURIComponent(`/events/${d}/edit`))},[x,m,u,d]),(0,a.useEffect)(()=>{p&&m&&p.organizerId!==m.userId&&m.role!==E.UserRole.Admin&&m.role!==E.UserRole.AdminManager&&u.push(`/events/${d}`)},[p,m,u,d]),!h&&x&&m?.userId)?g||!p?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(l.Header,{}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)(o.Card,{children:(0,t.jsxs)(o.CardContent,{className:"p-12 text-center",children:[(0,t.jsx)(i.AlertCircle,{className:"h-16 w-16 mx-auto mb-4 text-destructive"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Event Not Found"}),(0,t.jsx)("p",{className:"text-neutral-500 mb-6",children:"The event you're trying to edit doesn't exist or has been removed."}),(0,t.jsx)(c.Button,{onClick:()=>u.push("/events"),children:"Back to Events"})]})})}),(0,t.jsx)(n.default,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(l.Header,{}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-12 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-orange-400/20 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute -bottom-24 -right-24 w-96 h-96 bg-emerald-400/20 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-rose-400/10 rounded-full blur-3xl"})]}),(0,t.jsx)("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Edit Event"}),(0,t.jsx)("p",{className:"text-lg text-white/90 max-w-2xl mx-auto",children:"Update your event details and keep your attendees informed"})]})})]}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)(c.Button,{variant:"outline",onClick:()=>u.push(`/events/${d}/manage`),className:"flex items-center gap-2",children:[(0,t.jsx)(s.ArrowLeft,{className:"h-4 w-4"}),"Back to Manage Event"]})}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:(0,t.jsx)(k,{event:p})}),(0,t.jsx)(n.default,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-neutral-50 to-white",children:[(0,t.jsx)(l.Header,{}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)(o.Card,{className:"animate-pulse",children:(0,t.jsxs)(o.CardContent,{className:"p-12",children:[(0,t.jsx)("div",{className:"h-8 bg-neutral-200 rounded w-3/4 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-8"}),(0,t.jsx)("div",{className:"h-64 bg-neutral-200 rounded mb-8"})]})})}),(0,t.jsx)(n.default,{})]})}e.s(["default",()=>A],37775)},45865,e=>{e.v(t=>Promise.all(["static/chunks/f0466de78faadcde.js"].map(t=>e.l(t))).then(()=>t(42490)))}]);