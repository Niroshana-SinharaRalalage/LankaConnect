(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42490,e=>{"use strict";var s=e.i(48831);class r{basePath="/auth";async login(e){return await s.apiClient.post(`${this.basePath}/login`,e)}async register(e){return await s.apiClient.post(`${this.basePath}/register`,e)}async refreshToken(e){return await s.apiClient.post(`${this.basePath}/refresh-token`,{refreshToken:e})}async logout(){await s.apiClient.post(`${this.basePath}/logout`)}async requestPasswordReset(e){return await s.apiClient.post(`${this.basePath}/forgot-password`,{email:e})}async resetPassword(e,r){return await s.apiClient.post(`${this.basePath}/reset-password`,{token:e,newPassword:r})}async verifyEmail(e){return await s.apiClient.post(`${this.basePath}/verify-email`,{token:e})}async resendVerificationEmail(e){return await s.apiClient.post(`${this.basePath}/resend-verification`,{email:e})}async testVerifyEmail(e){return await s.apiClient.post(`${this.basePath}/test/verify-user/${e}`,{})}}let t=new r;e.s(["AuthRepository",()=>r,"authRepository",0,t])},39298,e=>{"use strict";var s=e.i(43476),r=e.i(71645),t=e.i(18566),i=e.i(22016),a=e.i(42490),n=e.i(44212),l=e.i(21065),c=e.i(66793);function d({token:e}){let d=(0,t.useRouter)(),[o,x]=(0,r.useState)("verifying"),[m,h]=(0,r.useState)("");return(0,r.useEffect)(()=>{let s=async()=>{try{let s=await a.authRepository.verifyEmail(e);x("success"),h(s.message||"Your email has been verified successfully!"),setTimeout(()=>{d.push("/login")},3e3)}catch(e){x("error"),e instanceof c.ApiError?h(e.message):h("An unexpected error occurred while verifying your email.")}};e?s():(x("error"),h("Invalid verification link. No token provided."))},[e,d]),(0,s.jsxs)(l.Card,{className:"w-full max-w-md",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Email Verification"}),(0,s.jsxs)(l.CardDescription,{children:["verifying"===o&&"Verifying your email address...","success"===o&&"Email verified successfully!","error"===o&&"Verification failed"]})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:["verifying"===o&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Please wait while we verify your email..."})]}),"success"===o&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-green-600 mt-0.5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-800",children:m}),(0,s.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"You will be redirected to the login page shortly..."})]})]})})}),"error"===o&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600 mt-0.5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-800",children:m}),(0,s.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"The verification link may have expired or is invalid."})]})]})})})]}),(0,s.jsxs)(l.CardFooter,{className:"flex flex-col space-y-2",children:["success"===o&&(0,s.jsx)(n.Button,{onClick:()=>d.push("/login"),className:"w-full",children:"Go to Login"}),"error"===o&&(0,s.jsxs)("div",{className:"w-full space-y-2",children:[(0,s.jsx)(i.default,{href:"/login",className:"block w-full",children:(0,s.jsx)(n.Button,{className:"w-full",children:"Back to Login"})}),(0,s.jsxs)("p",{className:"text-sm text-center text-gray-600",children:["Need help?"," ",(0,s.jsx)(i.default,{href:"/contact",className:"text-primary hover:underline",children:"Contact Support"})]})]})]})]})}var o=e.i(57688);function x(){let e=(0,t.useSearchParams)().get("token");return e?(0,s.jsx)(d,{token:e}):(0,s.jsxs)(l.Card,{className:"w-full max-w-md",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Invalid Verification Link"}),(0,s.jsx)(l.CardDescription,{children:"The email verification link is invalid or missing the required token."})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:"This email verification link appears to be invalid. Please check your email for the correct link or contact support if you continue to have issues."})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)(i.default,{href:"/login",className:"text-primary hover:underline text-sm text-center",children:"Back to Login"}),(0,s.jsx)(i.default,{href:"/contact",className:"text-primary hover:underline text-sm text-center",children:"Contact Support"})]})]})]})}function m(){return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-5",style:{backgroundImage:"url(/images/batik-sri-lanka.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-[1000px] grid grid-cols-1 md:grid-cols-2 bg-white rounded-[20px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.3)]",children:[(0,s.jsxs)("div",{className:"hidden md:flex flex-col justify-center text-white px-10 py-[60px] relative overflow-hidden",style:{background:"linear-gradient(135deg, #FF7900 0%, #8B1538 50%, #006400 100%)"},children:[(0,s.jsx)("div",{className:"absolute -top-1/2 -right-1/2 w-[200%] h-[200%] pointer-events-none",style:{background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)",animation:"pulse 8s ease-in-out infinite"}}),(0,s.jsx)("div",{className:"relative z-10 mb-10",children:(0,s.jsxs)("div",{className:"flex items-center text-[2rem] font-bold mb-5",children:[(0,s.jsx)(o.default,{src:"/lankaconnect-logo-transparent.png",alt:"LankaConnect",width:80,height:80,className:"mr-5",priority:!0}),"LankaConnect"]})}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("h1",{className:"text-[2.5rem] font-bold mb-5 drop-shadow-[2px_2px_4px_rgba(0,0,0,0.2)]",children:"Verify Your Email"}),(0,s.jsx)("p",{className:"text-[1.1rem] opacity-95 leading-[1.6] mb-[30px]",children:"Welcome to LankaConnect! Just one more step to activate your account and join the vibrant Sri Lankan American community."})]}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center mb-[15px] p-[15px] bg-white/10 backdrop-blur-[10px] rounded-[10px]",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center text-[1.3rem] mr-[15px] flex-shrink-0",style:{background:"#FFD700"},children:"âœ‰ï¸"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{className:"block",children:"Email Confirmation"}),(0,s.jsx)("div",{className:"text-[0.9rem] opacity-90",children:"Verify your email address"})]})]}),(0,s.jsxs)("div",{className:"flex items-center mb-[15px] p-[15px] bg-white/10 backdrop-blur-[10px] rounded-[10px]",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center text-[1.3rem] mr-[15px] flex-shrink-0",style:{background:"#FFD700"},children:"ðŸ›¡ï¸"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{className:"block",children:"Account Security"}),(0,s.jsx)("div",{className:"text-[0.9rem] opacity-90",children:"Protect your account access"})]})]}),(0,s.jsxs)("div",{className:"flex items-center mb-[15px] p-[15px] bg-white/10 backdrop-blur-[10px] rounded-[10px]",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[10px] flex items-center justify-center text-[1.3rem] mr-[15px] flex-shrink-0",style:{background:"#FFD700"},children:"ðŸš€"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{className:"block",children:"Get Started"}),(0,s.jsx)("div",{className:"text-[0.9rem] opacity-90",children:"Access all features instantly"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center px-[50px] py-[60px]",style:{background:"linear-gradient(to bottom, #ffffff 0%, #fef9f5 100%)"},children:[(0,s.jsxs)("div",{className:"mb-8 md:hidden text-center",children:[(0,s.jsx)(o.default,{src:"/lankaconnect-logo-transparent.png",alt:"LankaConnect",width:60,height:60,className:"mx-auto mb-2",priority:!0}),(0,s.jsx)("span",{className:"text-2xl font-bold",style:{color:"#8B1538"},children:"LankaConnect"})]}),(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(l.Card,{className:"w-full",children:(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{children:"Loading..."})})}),children:(0,s.jsx)(x,{})})]})]})})}e.s(["default",()=>m],39298)}]);