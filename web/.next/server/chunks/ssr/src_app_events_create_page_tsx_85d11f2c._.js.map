{"version":3,"sources":["turbopack:///[project]/src/app/events/create/page.tsx","turbopack:///[project]/src/presentation/components/features/events/EventCreationForm.tsx","turbopack:///[project]/src/presentation/components/features/events/GroupPricingTierBuilder.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Header } from '@/presentation/components/layout/Header';\r\nimport Footer from '@/presentation/components/layout/Footer';\r\nimport { EventCreationForm } from '@/presentation/components/features/events/EventCreationForm';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { ArrowLeft } from 'lucide-react';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { UserRole } from '@/infrastructure/api/types/auth.types';\r\n\r\n/**\r\n * Event Creation Page\r\n * Allows authenticated organizers to create new events\r\n *\r\n * Features:\r\n * - Authentication required (redirects to login if not authenticated)\r\n * - Comprehensive event creation form\r\n * - Validates all fields before submission\r\n * - Redirects to event detail page after successful creation\r\n */\r\nexport default function CreateEventPage() {\r\n  const router = useRouter();\r\n  const { user, isAuthenticated } = useAuthStore();\r\n\r\n  // Redirect to login if not authenticated, or to dashboard if unauthorized\r\n  useEffect(() => {\r\n    if (!isAuthenticated || !user?.userId) {\r\n      router.push('/login?redirect=' + encodeURIComponent('/events/create'));\r\n      return;\r\n    }\r\n\r\n    // Check if user has permission to create events (EventOrganizer, Admin, or AdminManager)\r\n    const canCreate = user.role === UserRole.EventOrganizer ||\r\n                       user.role === UserRole.Admin ||\r\n                       user.role === UserRole.AdminManager;\r\n\r\n    if (!canCreate) {\r\n      // Redirect unauthorized users to dashboard\r\n      router.push('/dashboard');\r\n    }\r\n  }, [isAuthenticated, user, router]);\r\n\r\n  // Don't render form until authentication is confirmed\r\n  if (!isAuthenticated || !user?.userId) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\r\n        <Header />\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-neutral-500\">Redirecting to login...</p>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-neutral-50 to-white\">\r\n      <Header />\r\n\r\n      {/* Page Header */}\r\n      <div className=\"bg-gradient-to-r from-orange-600 via-rose-800 to-emerald-800 py-12 relative overflow-hidden\">\r\n        {/* Decorative Background Pattern */}\r\n        <div className=\"absolute inset-0 opacity-10\">\r\n          <div\r\n            className=\"absolute inset-0\"\r\n            style={{\r\n              backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\r\n            }}\r\n          ></div>\r\n        </div>\r\n\r\n        {/* Decorative gradient blobs */}\r\n        <div className=\"absolute inset-0 overflow-hidden\">\r\n          <div className=\"absolute -top-24 -left-24 w-96 h-96 bg-orange-400/20 rounded-full blur-3xl\"></div>\r\n          <div className=\"absolute -bottom-24 -right-24 w-96 h-96 bg-emerald-400/20 rounded-full blur-3xl\"></div>\r\n          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-rose-400/10 rounded-full blur-3xl\"></div>\r\n        </div>\r\n\r\n        <div className=\"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-4xl font-bold text-white mb-4\">\r\n              Create New Event\r\n            </h1>\r\n            <p className=\"text-lg text-white/90 max-w-2xl mx-auto\">\r\n              Share your event with the community and start receiving registrations\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Back Button - Session 33: Navigate to dashboard instead of events */}\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={() => router.push('/dashboard')}\r\n          className=\"flex items-center gap-2\"\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4\" />\r\n          Back to Dashboard\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Event Creation Form */}\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12\">\r\n        <EventCreationForm />\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","'use client';\n\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useRouter } from 'next/navigation';\nimport { useState } from 'react';\nimport { Calendar, MapPin, Users, DollarSign, FileText, Tag } from 'lucide-react';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/presentation/components/ui/Card';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Input } from '@/presentation/components/ui/Input';\nimport { createEventSchema, type CreateEventFormData } from '@/presentation/lib/validators/event.schemas';\nimport { useCreateEvent } from '@/presentation/hooks/useEvents';\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\nimport { EventCategory, Currency } from '@/infrastructure/api/types/events.types';\nimport { geocodeAddress } from '@/presentation/lib/utils/geocoding';\nimport { GroupPricingTierBuilder } from './GroupPricingTierBuilder';\n\n/**\n * Event Creation Form Component\n * Allows organizers to create new events with comprehensive details\n *\n * Features:\n * - Basic Information: Title, Description, Category\n * - Date & Time: Start and End dates\n * - Location: Full address details (optional)\n * - Capacity: Max attendees\n * - Pricing: Free or paid events with currency selection\n * - Validation: Zod schema with cross-field validation\n */\nexport function EventCreationForm() {\n  const router = useRouter();\n  const { user } = useAuthStore();\n  const createEventMutation = useCreateEvent();\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: { errors, isSubmitting },\n  } = useForm({\n    resolver: zodResolver(createEventSchema),\n    defaultValues: {\n      isFree: true,\n      enableDualPricing: false,\n      enableGroupPricing: false,\n      groupPricingTiers: [],\n      capacity: 50,\n      // Session 33: Don't set default currencies - they should only be set when user enters pricing mode\n      // This prevents validation errors when switching between pricing modes\n      ticketPriceAmount: undefined,\n      ticketPriceCurrency: undefined,\n      adultPriceAmount: undefined,\n      adultPriceCurrency: Currency.USD,\n      childPriceAmount: undefined,\n      childPriceCurrency: Currency.USD,\n      childAgeLimit: undefined,\n      category: EventCategory.Community, // Default to Community instead of empty\n    },\n  });\n\n  const isFree = watch('isFree');\n  const enableDualPricing = watch('enableDualPricing');\n  const enableGroupPricing = watch('enableGroupPricing');\n  const groupPricingTiers = watch('groupPricingTiers') || [];\n\n  // Session 33: Track validation errors for display\n  const hasErrors = Object.keys(errors).length > 0;\n\n  // Session 33: Handle form validation errors - displays message when validation fails\n  const onValidationError = (validationErrors: Record<string, any>) => {\n    console.error('‚ùå Form Validation Failed:', validationErrors);\n    // List all validation error fields for debugging\n    const errorFields = Object.keys(validationErrors);\n    console.error('Fields with errors:', errorFields);\n\n    // Session 33: Debug - log current form values for pricing mode\n    console.log('üîç Debug - Current form state:', {\n      isFree,\n      enableDualPricing,\n      enableGroupPricing,\n      ticketPriceAmount: watch('ticketPriceAmount'),\n      ticketPriceCurrency: watch('ticketPriceCurrency'),\n      adultPriceAmount: watch('adultPriceAmount'),\n      childPriceAmount: watch('childPriceAmount'),\n    });\n\n    setSubmitError(`Please fix the validation errors: ${errorFields.join(', ')}`);\n    // Scroll to top of form to show errors\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const onSubmit = handleSubmit(async (data) => {\n    if (!user?.userId) {\n      setSubmitError('You must be logged in to create events');\n      return;\n    }\n\n    try {\n      setSubmitError(null);\n\n      // PHASE 6A.10: Log user authentication state\n      console.log('üìã Form Submission - User Context:', {\n        userId: user.userId,\n        userRole: user.role,\n        userName: user.fullName,\n        isAuthenticated: true,\n      });\n\n      // Prepare event data for backend\n      // IMPORTANT: Location fields are ALL required if ANY location field is provided\n      // Database constraint: Address must have Street, City, State, ZipCode, Country\n      const hasCompleteLocation = !!(data.locationAddress && data.locationCity);\n\n      // Geocode address to get lat/long coordinates for location-based filtering\n      let locationLatitude: number | undefined;\n      let locationLongitude: number | undefined;\n\n      if (hasCompleteLocation) {\n        console.log('üó∫Ô∏è Geocoding address for location-based filtering...');\n        const geocodeResult = await geocodeAddress(\n          data.locationAddress!,\n          data.locationCity!,\n          data.locationState || undefined,\n          data.locationCountry || 'United States',\n          data.locationZipCode || undefined\n        );\n\n        if (geocodeResult) {\n          locationLatitude = geocodeResult.latitude;\n          locationLongitude = geocodeResult.longitude;\n          console.log('‚úÖ Geocoding successful:', {\n            lat: locationLatitude,\n            lon: locationLongitude,\n            display: geocodeResult.displayName,\n          });\n        } else {\n          console.warn('‚ö†Ô∏è Geocoding failed - event will not appear in location-based filters');\n          // Continue anyway - location text will still be saved\n        }\n      }\n\n      const eventData = {\n        title: data.title,\n        description: data.description,\n        startDate: data.startDate,\n        endDate: data.endDate,\n        organizerId: user.userId,\n        capacity: data.capacity,\n        category: data.category,\n        // Only include location if we have at least address and city\n        ...(hasCompleteLocation && {\n          locationAddress: data.locationAddress,\n          locationCity: data.locationCity,\n          locationState: data.locationState || '',\n          locationZipCode: data.locationZipCode || '',\n          locationCountry: data.locationCountry || 'United States',\n          locationLatitude,\n          locationLongitude,\n        }),\n        // Phase 6D: Group tiered pricing (highest priority)\n        // Session 21: Dual pricing support\n        // Legacy: Single pricing\n        ...(data.isFree\n          ? {}\n          : data.enableGroupPricing\n          ? {\n              // Send group tiered pricing\n              groupPricingTiers: data.groupPricingTiers?.map((tier) => ({\n                minAttendees: tier.minAttendees,\n                maxAttendees: tier.maxAttendees,\n                pricePerPerson: tier.pricePerPerson,\n                currency: tier.currency,\n              })),\n            }\n          : data.enableDualPricing\n          ? {\n              // Send dual pricing\n              adultPriceAmount: data.adultPriceAmount!,\n              adultPriceCurrency: data.adultPriceCurrency!,\n              childPriceAmount: data.childPriceAmount!,\n              childPriceCurrency: data.childPriceCurrency!,\n              childAgeLimit: data.childAgeLimit!,\n            }\n          : {\n              // Send single pricing (legacy format)\n              ticketPriceAmount: data.ticketPriceAmount!,\n              ticketPriceCurrency: data.ticketPriceCurrency!,\n            }),\n      };\n\n      // PHASE 6A.10: Comprehensive payload logging\n      console.log('üì§ Creating event with payload:', JSON.stringify(eventData, null, 2));\n      console.log('üìä Payload Analysis:', {\n        hasLocation: hasCompleteLocation,\n        hasCoordinates: !!(locationLatitude && locationLongitude),\n        isFree: data.isFree,\n        hasTicketPrice: !!data.ticketPriceAmount,\n        categoryValue: data.category,\n        dataSize: JSON.stringify(eventData).length,\n      });\n\n      console.log('‚è≥ Sending request to API...');\n      const eventId = await createEventMutation.mutateAsync(eventData);\n      console.log('‚úÖ Event created successfully! ID:', eventId);\n\n      // Session 33: Redirect to dashboard instead of event management page\n      router.push('/dashboard');\n    } catch (err) {\n      // PHASE 6A.10: Enhanced error logging\n      console.error('‚ùå Event creation failed - Detailed Analysis:');\n      console.error('Error Type:', err?.constructor?.name);\n      console.error('Error Message:', err instanceof Error ? err.message : 'Unknown error');\n      console.error('Error Stack:', err instanceof Error ? err.stack : 'No stack trace');\n\n      // Extract detailed error message from API response\n      const errorMessage = err instanceof Error\n        ? err.message\n        : typeof err === 'object' && err !== null && 'message' in err\n        ? String(err.message)\n        : 'Failed to create event. Please try again.';\n      setSubmitError(errorMessage);\n\n      // Log full error for debugging\n      console.error('Full error object:', JSON.stringify(err, Object.getOwnPropertyNames(err), 2));\n\n      // Check if error has response data\n      if (typeof err === 'object' && err !== null && 'response' in err) {\n        const axiosError = err as any;\n        console.error('Response Status:', axiosError.response?.status);\n        console.error('Response Headers:', axiosError.response?.headers);\n        console.error('Response Data:', axiosError.response?.data);\n      }\n    }\n  }, onValidationError);  // Session 33: Add validation error callback\n\n  // Category labels\n  const categoryOptions = [\n    { value: EventCategory.Religious, label: 'Religious' },\n    { value: EventCategory.Cultural, label: 'Cultural' },\n    { value: EventCategory.Community, label: 'Community' },\n    { value: EventCategory.Educational, label: 'Educational' },\n    { value: EventCategory.Social, label: 'Social' },\n    { value: EventCategory.Business, label: 'Business' },\n    { value: EventCategory.Charity, label: 'Charity' },\n    { value: EventCategory.Entertainment, label: 'Entertainment' },\n  ];\n\n  return (\n    <form onSubmit={onSubmit} className=\"space-y-6\">\n      {/* Basic Information Section */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <FileText className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\n            <CardTitle style={{ color: '#8B1538' }}>Basic Information</CardTitle>\n          </div>\n          <CardDescription>\n            Provide the essential details about your event\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Event Title */}\n          <div>\n            <label htmlFor=\"title\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n              Event Title *\n            </label>\n            <Input\n              id=\"title\"\n              type=\"text\"\n              placeholder=\"e.g., Sri Lankan Cultural Festival 2025\"\n              error={!!errors.title}\n              {...register('title')}\n            />\n            {errors.title && (\n              <p className=\"mt-1 text-sm text-destructive\">{errors.title.message}</p>\n            )}\n          </div>\n\n          {/* Event Description */}\n          <div>\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n              Event Description *\n            </label>\n            <textarea\n              id=\"description\"\n              rows={6}\n              placeholder=\"Provide a detailed description of your event, including what attendees can expect...\"\n              className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none ${\n                errors.description ? 'border-destructive' : 'border-neutral-300'\n              }`}\n              {...register('description')}\n            />\n            {errors.description && (\n              <p className=\"mt-1 text-sm text-destructive\">{errors.description.message}</p>\n            )}\n          </div>\n\n          {/* Event Category */}\n          <div>\n            <label htmlFor=\"category\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n              Event Category *\n            </label>\n            <div className=\"relative\">\n              <Tag className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400\" />\n              <select\n                id=\"category\"\n                className={`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 appearance-none ${\n                  errors.category ? 'border-destructive' : 'border-neutral-300'\n                }`}\n                {...register('category', { valueAsNumber: true })}\n              >\n                {categoryOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            {errors.category && (\n              <p className=\"mt-1 text-sm text-destructive\">{errors.category.message}</p>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Date & Time Section */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Calendar className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\n            <CardTitle style={{ color: '#8B1538' }}>Date & Time</CardTitle>\n          </div>\n          <CardDescription>\n            Specify when your event will take place\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Start Date & Time */}\n            <div>\n              <label htmlFor=\"startDate\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Start Date & Time *\n              </label>\n              <Input\n                id=\"startDate\"\n                type=\"datetime-local\"\n                error={!!errors.startDate}\n                {...register('startDate')}\n              />\n              {errors.startDate && (\n                <p className=\"mt-1 text-sm text-destructive\">{errors.startDate.message}</p>\n              )}\n            </div>\n\n            {/* End Date & Time */}\n            <div>\n              <label htmlFor=\"endDate\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                End Date & Time *\n              </label>\n              <Input\n                id=\"endDate\"\n                type=\"datetime-local\"\n                error={!!errors.endDate}\n                {...register('endDate')}\n              />\n              {errors.endDate && (\n                <p className=\"mt-1 text-sm text-destructive\">{errors.endDate.message}</p>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Location Section */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\n            <CardTitle style={{ color: '#8B1538' }}>Location</CardTitle>\n          </div>\n          <CardDescription>\n            Where will the event take place? (Optional but recommended)\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Address */}\n          <div>\n            <label htmlFor=\"locationAddress\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n              Street Address\n            </label>\n            <Input\n              id=\"locationAddress\"\n              type=\"text\"\n              placeholder=\"e.g., 123 Main Street\"\n              error={!!errors.locationAddress}\n              {...register('locationAddress')}\n            />\n            {errors.locationAddress && (\n              <p className=\"mt-1 text-sm text-destructive\">{errors.locationAddress.message}</p>\n            )}\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* City */}\n            <div>\n              <label htmlFor=\"locationCity\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                City\n              </label>\n              <Input\n                id=\"locationCity\"\n                type=\"text\"\n                placeholder=\"e.g., Columbus\"\n                error={!!errors.locationCity}\n                {...register('locationCity')}\n              />\n              {errors.locationCity && (\n                <p className=\"mt-1 text-sm text-destructive\">{errors.locationCity.message}</p>\n              )}\n            </div>\n\n            {/* State */}\n            <div>\n              <label htmlFor=\"locationState\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                State\n              </label>\n              <Input\n                id=\"locationState\"\n                type=\"text\"\n                placeholder=\"e.g., Ohio\"\n                error={!!errors.locationState}\n                {...register('locationState')}\n              />\n              {errors.locationState && (\n                <p className=\"mt-1 text-sm text-destructive\">{errors.locationState.message}</p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* ZIP Code */}\n            <div>\n              <label htmlFor=\"locationZipCode\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                ZIP Code\n              </label>\n              <Input\n                id=\"locationZipCode\"\n                type=\"text\"\n                placeholder=\"e.g., 43201\"\n                error={!!errors.locationZipCode}\n                {...register('locationZipCode')}\n              />\n              {errors.locationZipCode && (\n                <p className=\"mt-1 text-sm text-destructive\">{errors.locationZipCode.message}</p>\n              )}\n            </div>\n\n            {/* Country */}\n            <div>\n              <label htmlFor=\"locationCountry\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Country\n              </label>\n              <Input\n                id=\"locationCountry\"\n                type=\"text\"\n                placeholder=\"e.g., United States\"\n                error={!!errors.locationCountry}\n                {...register('locationCountry')}\n              />\n              {errors.locationCountry && (\n                <p className=\"mt-1 text-sm text-destructive\">{errors.locationCountry.message}</p>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Capacity & Pricing Section */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\n            <CardTitle style={{ color: '#8B1538' }}>Capacity & Pricing</CardTitle>\n          </div>\n          <CardDescription>\n            Set attendance limits and ticket pricing\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Capacity */}\n          <div>\n            <label htmlFor=\"capacity\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n              Maximum Capacity *\n            </label>\n            <Input\n              id=\"capacity\"\n              type=\"number\"\n              min=\"1\"\n              max=\"10000\"\n              placeholder=\"e.g., 100\"\n              error={!!errors.capacity}\n              {...register('capacity', { valueAsNumber: true })}\n            />\n            {errors.capacity && (\n              <p className=\"mt-1 text-sm text-destructive\">{errors.capacity.message}</p>\n            )}\n          </div>\n\n          {/* Free Event Toggle */}\n          <div className=\"flex items-center gap-3 p-4 bg-neutral-50 rounded-lg\">\n            <input\n              id=\"isFree\"\n              type=\"checkbox\"\n              className=\"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500\"\n              {...register('isFree')}\n            />\n            <label htmlFor=\"isFree\" className=\"text-sm font-medium text-neutral-700\">\n              This is a free event (no ticket purchase required)\n            </label>\n          </div>\n\n          {/* Pricing Fields (shown only if not free) */}\n          {!isFree && (\n            <div className=\"space-y-4 p-4 border-2 border-orange-200 rounded-lg bg-orange-50\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <DollarSign className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\n                <h4 className=\"text-sm font-semibold text-neutral-900\">Ticket Pricing</h4>\n              </div>\n\n              {/* Pricing Mode Selection */}\n              <div className=\"space-y-3\">\n                {/* Dual Pricing Toggle - Session 33: Fixed onChange override bug + clear fields */}\n                <div className=\"flex items-center gap-3 p-3 bg-white rounded-lg border border-orange-200\">\n                  <input\n                    id=\"enableDualPricing\"\n                    type=\"checkbox\"\n                    className=\"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500\"\n                    {...register('enableDualPricing', {\n                      onChange: (e) => {\n                        if (e.target.checked) {\n                          // Disable other pricing modes\n                          setValue('enableGroupPricing', false);\n                          // Clear single pricing fields to prevent validation conflicts\n                          setValue('ticketPriceAmount', undefined);\n                          setValue('ticketPriceCurrency', undefined);\n                          // Clear group pricing fields\n                          setValue('groupPricingTiers', []);\n                          // Set default currencies for dual pricing\n                          setValue('adultPriceCurrency', Currency.USD);\n                          setValue('childPriceCurrency', Currency.USD);\n                        } else {\n                          // When unchecking, clear dual pricing fields\n                          setValue('adultPriceAmount', undefined);\n                          setValue('adultPriceCurrency', undefined);\n                          setValue('childPriceAmount', undefined);\n                          setValue('childPriceCurrency', undefined);\n                          setValue('childAgeLimit', undefined);\n                          // Set default for single pricing\n                          setValue('ticketPriceCurrency', Currency.USD);\n                        }\n                      }\n                    })}\n                  />\n                  <label htmlFor=\"enableDualPricing\" className=\"text-sm font-medium text-neutral-700\">\n                    Enable Adult/Child Pricing (different prices for adults and children)\n                  </label>\n                </div>\n\n                {/* Group Pricing Toggle - Phase 6D - Session 33: Fixed onChange override bug + clear fields */}\n                <div className=\"flex items-center gap-3 p-3 bg-white rounded-lg border border-orange-200\">\n                  <input\n                    id=\"enableGroupPricing\"\n                    type=\"checkbox\"\n                    className=\"h-5 w-5 rounded border-neutral-300 text-orange-500 focus:ring-2 focus:ring-orange-500\"\n                    {...register('enableGroupPricing', {\n                      onChange: (e) => {\n                        if (e.target.checked) {\n                          // Disable other pricing modes\n                          setValue('enableDualPricing', false);\n                          // Clear single pricing fields\n                          setValue('ticketPriceAmount', undefined);\n                          setValue('ticketPriceCurrency', undefined);\n                          // Clear dual pricing fields\n                          setValue('adultPriceAmount', undefined);\n                          setValue('adultPriceCurrency', undefined);\n                          setValue('childPriceAmount', undefined);\n                          setValue('childPriceCurrency', undefined);\n                          setValue('childAgeLimit', undefined);\n                        } else {\n                          // When unchecking, clear group pricing fields\n                          setValue('groupPricingTiers', []);\n                          // Set default for single pricing\n                          setValue('ticketPriceCurrency', Currency.USD);\n                        }\n                      }\n                    })}\n                  />\n                  <label htmlFor=\"enableGroupPricing\" className=\"text-sm font-medium text-neutral-700\">\n                    Enable Group Tiered Pricing (quantity-based discounts for groups)\n                  </label>\n                </div>\n              </div>\n\n              {/* Single Pricing Fields (default) */}\n              {!enableDualPricing && !enableGroupPricing && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {/* Ticket Price */}\n                  <div>\n                    <label htmlFor=\"ticketPriceAmount\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                      Ticket Price *\n                    </label>\n                    <Input\n                      id=\"ticketPriceAmount\"\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"10000\"\n                      step=\"1\"\n                      placeholder=\"e.g., 25\"\n                      error={!!errors.ticketPriceAmount}\n                      {...register('ticketPriceAmount', { valueAsNumber: true })}\n                    />\n                    {errors.ticketPriceAmount && (\n                      <p className=\"mt-1 text-sm text-destructive\">{errors.ticketPriceAmount.message}</p>\n                    )}\n                    {/* Session 33: Commission info message - standardized format */}\n                    {(watch('ticketPriceAmount') ?? 0) > 0 && (\n                      <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600\">\n                        <p>5% (Stripe + LankaConnect commission) applies</p>\n                        <p className=\"font-medium text-green-700\">\n                          You'll receive: ${((watch('ticketPriceAmount') ?? 0) * 0.95).toFixed(2)} per ticket\n                        </p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Currency */}\n                  <div>\n                    <label htmlFor=\"ticketPriceCurrency\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                      Currency *\n                    </label>\n                    <select\n                      id=\"ticketPriceCurrency\"\n                      className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                        errors.ticketPriceCurrency ? 'border-destructive' : 'border-neutral-300'\n                      }`}\n                      defaultValue={Currency.USD}\n                      {...register('ticketPriceCurrency', { valueAsNumber: true })}\n                    >\n                      <option value={Currency.USD}>USD ($)</option>\n                      <option value={Currency.LKR}>LKR (Rs)</option>\n                    </select>\n                    {errors.ticketPriceCurrency && (\n                      <p className=\"mt-1 text-sm text-destructive\">{errors.ticketPriceCurrency.message}</p>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Group Pricing Tier Builder - Phase 6D */}\n              {enableGroupPricing && (\n                <div className=\"space-y-4\">\n                  <GroupPricingTierBuilder\n                    tiers={groupPricingTiers}\n                    onChange={(tiers) => setValue('groupPricingTiers', tiers)}\n                    defaultCurrency={watch('ticketPriceCurrency') || Currency.USD}\n                    errors={errors.groupPricingTiers?.message}\n                  />\n                </div>\n              )}\n\n              {/* Dual Pricing Fields (adult/child) */}\n              {enableDualPricing && !enableGroupPricing && (\n                <div className=\"space-y-4\">\n                  {/* Adult Pricing Row */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label htmlFor=\"adultPriceAmount\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                        Adult Ticket Price *\n                      </label>\n                      <Input\n                        id=\"adultPriceAmount\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"10000\"\n                        step=\"1\"\n                        placeholder=\"e.g., 25\"\n                        error={!!errors.adultPriceAmount}\n                        {...register('adultPriceAmount', { valueAsNumber: true })}\n                      />\n                      {errors.adultPriceAmount && (\n                        <p className=\"mt-1 text-sm text-destructive\">{errors.adultPriceAmount.message}</p>\n                      )}\n                      {/* Session 33: Commission info for adult price - standardized format */}\n                      {(watch('adultPriceAmount') ?? 0) > 0 && (\n                        <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600\">\n                          <p>5% (Stripe + LankaConnect commission) applies</p>\n                          <p className=\"font-medium text-green-700\">\n                            You'll receive: ${((watch('adultPriceAmount') ?? 0) * 0.95).toFixed(2)} per ticket\n                          </p>\n                        </div>\n                      )}\n                    </div>\n\n                    <div>\n                      <label htmlFor=\"adultPriceCurrency\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                        Currency *\n                      </label>\n                      <select\n                        id=\"adultPriceCurrency\"\n                        className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                          errors.adultPriceCurrency ? 'border-destructive' : 'border-neutral-300'\n                        }`}\n                        defaultValue={Currency.USD}\n                        {...register('adultPriceCurrency', { valueAsNumber: true })}\n                      >\n                        <option value={Currency.USD}>USD ($)</option>\n                        <option value={Currency.LKR}>LKR (Rs)</option>\n                      </select>\n                      {errors.adultPriceCurrency && (\n                        <p className=\"mt-1 text-sm text-destructive\">{errors.adultPriceCurrency.message}</p>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Child Pricing Row */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div>\n                      <label htmlFor=\"childPriceAmount\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                        Child Ticket Price *\n                      </label>\n                      <Input\n                        id=\"childPriceAmount\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"10000\"\n                        step=\"1\"\n                        placeholder=\"e.g., 15\"\n                        error={!!errors.childPriceAmount}\n                        {...register('childPriceAmount', { valueAsNumber: true })}\n                      />\n                      {errors.childPriceAmount && (\n                        <p className=\"mt-1 text-sm text-destructive\">{errors.childPriceAmount.message}</p>\n                      )}\n                      {/* Session 33: Commission info for child price - standardized format */}\n                      {(watch('childPriceAmount') ?? 0) > 0 && (\n                        <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600\">\n                          <p>5% (Stripe + LankaConnect commission) applies</p>\n                          <p className=\"font-medium text-green-700\">\n                            You'll receive: ${((watch('childPriceAmount') ?? 0) * 0.95).toFixed(2)} per ticket\n                          </p>\n                        </div>\n                      )}\n                    </div>\n\n                    <div>\n                      <label htmlFor=\"childPriceCurrency\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                        Currency *\n                      </label>\n                      <select\n                        id=\"childPriceCurrency\"\n                        className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${\n                          errors.childPriceCurrency ? 'border-destructive' : 'border-neutral-300'\n                        }`}\n                        defaultValue={Currency.USD}\n                        {...register('childPriceCurrency', { valueAsNumber: true })}\n                      >\n                        <option value={Currency.USD}>USD ($)</option>\n                        <option value={Currency.LKR}>LKR (Rs)</option>\n                      </select>\n                      {errors.childPriceCurrency && (\n                        <p className=\"mt-1 text-sm text-destructive\">{errors.childPriceCurrency.message}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label htmlFor=\"childAgeLimit\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                        Child Age Limit *\n                      </label>\n                      <Input\n                        id=\"childAgeLimit\"\n                        type=\"number\"\n                        min=\"1\"\n                        max=\"18\"\n                        placeholder=\"12\"\n                        error={!!errors.childAgeLimit}\n                        {...register('childAgeLimit', { valueAsNumber: true })}\n                      />\n                      {errors.childAgeLimit && (\n                        <p className=\"mt-1 text-sm text-destructive\">{errors.childAgeLimit.message}</p>\n                      )}\n                      <p className=\"mt-1 text-xs text-neutral-500\">Age under which child pricing applies (1-18)</p>\n                    </div>\n                  </div>\n\n                  {/* Helpful note */}\n                  <div className=\"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                    <svg className=\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <p className=\"text-xs text-blue-700\">\n                      Example: If child age limit is 12, attendees age 11 and under will be charged the child price, while attendees age 12 and over will be charged the adult price.\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Note about Media */}\n      <Card>\n        <CardContent className=\"py-6\">\n          <div className=\"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"w-5 h-5 text-blue-600 mt-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"flex-1\">\n              <h4 className=\"text-sm font-semibold text-blue-900 mb-1\">\n                üì∏ Upload Images & Videos After Creation\n              </h4>\n              <p className=\"text-sm text-blue-700\">\n                You'll be able to add event images and videos from the event detail page after creating your event.\n                This helps make your event more attractive to attendees!\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Error Message */}\n      {submitError && (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-600\">{submitError}</p>\n        </div>\n      )}\n\n      {/* Session 33: Validation Error Summary - Shows when form has validation errors */}\n      {hasErrors && !submitError && (\n        <div className=\"p-4 bg-amber-50 border border-amber-200 rounded-lg\">\n          <div className=\"flex items-start gap-2\">\n            <svg className=\"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n            </svg>\n            <div>\n              <p className=\"text-sm font-medium text-amber-800\">Please fix the following errors:</p>\n              <ul className=\"mt-1 text-sm text-amber-700 list-disc list-inside\">\n                {Object.entries(errors).map(([field, error]) => (\n                  <li key={field}>{field}: {(error as any)?.message || 'Invalid'}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Form Actions */}\n      <div className=\"flex items-center justify-end gap-4\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={() => router.push('/dashboard')}\n          disabled={isSubmitting}\n        >\n          Cancel\n        </Button>\n        <Button\n          type=\"submit\"\n          disabled={isSubmitting || createEventMutation.isPending}\n          style={{ background: '#FF7900' }}\n          className=\"min-w-[150px]\"\n        >\n          {isSubmitting || createEventMutation.isPending ? 'Creating...' : 'Create Event'}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { Plus, X, AlertCircle } from 'lucide-react';\nimport { Button } from '@/presentation/components/ui/Button';\nimport { Input } from '@/presentation/components/ui/Input';\nimport { Currency } from '@/infrastructure/api/types/events.types';\nimport type { GroupPricingTierFormData } from '@/presentation/lib/validators/event.schemas';\n\n/**\n * Group Pricing Tier Builder Component\n * Phase 6D: Tiered Group Pricing\n *\n * Allows event organizers to create quantity-based pricing tiers with:\n * - Min/max attendee ranges\n * - Price per person\n * - Currency selection\n * - Validation for gaps/overlaps\n * - Visual tier range display\n */\n\ninterface GroupPricingTierBuilderProps {\n  tiers: GroupPricingTierFormData[];\n  onChange: (tiers: GroupPricingTierFormData[]) => void;\n  defaultCurrency: Currency;\n  errors?: string;\n}\n\nexport function GroupPricingTierBuilder({\n  tiers,\n  onChange,\n  defaultCurrency,\n  errors,\n}: GroupPricingTierBuilderProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingIndex, setEditingIndex] = useState<number | null>(null);\n  const [newTier, setNewTier] = useState<Partial<GroupPricingTierFormData>>({\n    minAttendees: tiers.length === 0 ? 1 : undefined,\n    maxAttendees: undefined,\n    pricePerPerson: undefined,\n    currency: defaultCurrency,\n  });\n  const [tierErrors, setTierErrors] = useState<string | null>(null);\n\n  // Calculate suggested minAttendees for next tier\n  const suggestedMinAttendees = (): number => {\n    if (tiers.length === 0) return 1;\n    const sortedTiers = [...tiers].sort((a, b) => a.minAttendees - b.minAttendees);\n    const lastTier = sortedTiers[sortedTiers.length - 1];\n    return lastTier.maxAttendees ? lastTier.maxAttendees + 1 : lastTier.minAttendees + 1;\n  };\n\n  // Format tier range for display\n  const formatTierRange = (tier: GroupPricingTierFormData): string => {\n    if (!tier.maxAttendees) return `${tier.minAttendees}+`;\n    if (tier.minAttendees === tier.maxAttendees) return `${tier.minAttendees}`;\n    return `${tier.minAttendees}-${tier.maxAttendees}`;\n  };\n\n  // Validate tier before adding\n  const validateNewTier = (): boolean => {\n    setTierErrors(null);\n\n    if (!newTier.minAttendees || newTier.minAttendees < 1) {\n      setTierErrors('Minimum attendees must be at least 1');\n      return false;\n    }\n\n    if (newTier.maxAttendees !== undefined && newTier.maxAttendees !== null) {\n      if (newTier.maxAttendees < newTier.minAttendees) {\n        setTierErrors('Maximum attendees must be greater than or equal to minimum');\n        return false;\n      }\n    }\n\n    if (!newTier.pricePerPerson || newTier.pricePerPerson < 0) {\n      setTierErrors('Price per person must be greater than or equal to 0');\n      return false;\n    }\n\n    if (newTier.pricePerPerson > 10000) {\n      setTierErrors('Price per person cannot exceed $10,000');\n      return false;\n    }\n\n    // Check for overlaps with existing tiers\n    const sortedTiers = [...tiers].sort((a, b) => a.minAttendees - b.minAttendees);\n    for (const existingTier of sortedTiers) {\n      // Check if new tier overlaps with existing tier\n      const newMin = newTier.minAttendees;\n      const newMax = newTier.maxAttendees ?? Number.MAX_SAFE_INTEGER;\n      const existingMin = existingTier.minAttendees;\n      const existingMax = existingTier.maxAttendees ?? Number.MAX_SAFE_INTEGER;\n\n      if (newMin <= existingMax && newMax >= existingMin) {\n        setTierErrors(`This tier overlaps with existing tier ${formatTierRange(existingTier)}`);\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  // Add new tier\n  const handleAddTier = () => {\n    if (!validateNewTier()) return;\n\n    const tier: GroupPricingTierFormData = {\n      minAttendees: newTier.minAttendees!,\n      maxAttendees: newTier.maxAttendees ?? null,\n      pricePerPerson: newTier.pricePerPerson!,\n      currency: newTier.currency || defaultCurrency,\n    };\n\n    onChange([...tiers, tier]);\n\n    // Reset form\n    setNewTier({\n      minAttendees: suggestedMinAttendees(),\n      maxAttendees: undefined,\n      pricePerPerson: undefined,\n      currency: defaultCurrency,\n    });\n    setShowAddForm(false);\n    setTierErrors(null);\n  };\n\n  // Remove tier\n  const handleRemoveTier = (index: number) => {\n    const updatedTiers = tiers.filter((_, i) => i !== index);\n    onChange(updatedTiers);\n  };\n\n  // Open add form with suggested values\n  const handleOpenAddForm = () => {\n    setNewTier({\n      minAttendees: suggestedMinAttendees(),\n      maxAttendees: undefined,\n      pricePerPerson: undefined,\n      currency: defaultCurrency,\n    });\n    setShowAddForm(true);\n    setTierErrors(null);\n  };\n\n  // Sort tiers by minAttendees for display\n  const sortedTiers = [...tiers].sort((a, b) => a.minAttendees - b.minAttendees);\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h4 className=\"text-sm font-semibold text-neutral-900\">Pricing Tiers</h4>\n          <p className=\"text-xs text-neutral-600 mt-1\">\n            Define price per person based on group size\n          </p>\n        </div>\n        {!showAddForm && (\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={handleOpenAddForm}\n            className=\"flex items-center gap-1\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            Add Tier\n          </Button>\n        )}\n      </div>\n\n      {/* Existing Tiers List */}\n      {sortedTiers.length > 0 && (\n        <div className=\"space-y-2\">\n          {sortedTiers.map((tier, index) => (\n            <div\n              key={`${tier.minAttendees}-${tier.maxAttendees}`}\n              className=\"flex items-center justify-between p-3 bg-white border border-neutral-200 rounded-lg hover:border-orange-300 transition-colors\"\n            >\n              <div className=\"flex items-center gap-4 flex-1\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-medium text-neutral-700 bg-neutral-100 px-3 py-1 rounded\">\n                    {formatTierRange(tier)}\n                  </span>\n                  <span className=\"text-xs text-neutral-500\">attendees</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-base font-semibold text-orange-600\">\n                    {tier.currency === Currency.USD ? '$' : 'Rs'} {tier.pricePerPerson.toFixed(2)}\n                  </span>\n                  <span className=\"text-xs text-neutral-500\">per person</span>\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => handleRemoveTier(tiers.indexOf(tier))}\n                className=\"p-1 hover:bg-red-50 rounded transition-colors\"\n                title=\"Remove tier\"\n              >\n                <X className=\"h-4 w-4 text-red-600\" />\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Add Tier Form */}\n      {showAddForm && (\n        <div className=\"p-4 bg-orange-50 border-2 border-orange-200 rounded-lg space-y-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <h5 className=\"text-sm font-semibold text-neutral-900\">New Pricing Tier</h5>\n            <button\n              type=\"button\"\n              onClick={() => {\n                setShowAddForm(false);\n                setTierErrors(null);\n              }}\n              className=\"p-1 hover:bg-orange-100 rounded transition-colors\"\n            >\n              <X className=\"h-4 w-4 text-neutral-600\" />\n            </button>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {/* Min Attendees */}\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Min Attendees *\n              </label>\n              <Input\n                type=\"number\"\n                min=\"1\"\n                max=\"10000\"\n                placeholder=\"1\"\n                value={newTier.minAttendees || ''}\n                onChange={(e) =>\n                  setNewTier({ ...newTier, minAttendees: parseInt(e.target.value) || undefined })\n                }\n              />\n            </div>\n\n            {/* Max Attendees */}\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Max Attendees\n              </label>\n              <Input\n                type=\"number\"\n                min={newTier.minAttendees || 1}\n                max=\"10000\"\n                placeholder=\"Leave empty for unlimited\"\n                value={newTier.maxAttendees || ''}\n                onChange={(e) =>\n                  setNewTier({\n                    ...newTier,\n                    maxAttendees: e.target.value ? parseInt(e.target.value) : undefined,\n                  })\n                }\n              />\n              <p className=\"mt-1 text-xs text-neutral-500\">Leave empty for unlimited (e.g., \"6+\")</p>\n            </div>\n\n            {/* Price Per Person */}\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Price Per Person *\n              </label>\n              <div className=\"flex items-center gap-2\">\n                <select\n                  className=\"px-2 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\"\n                  value={newTier.currency || defaultCurrency}\n                  onChange={(e) =>\n                    setNewTier({ ...newTier, currency: parseInt(e.target.value) as Currency })\n                  }\n                >\n                  <option value={Currency.USD}>USD ($)</option>\n                  <option value={Currency.LKR}>LKR (Rs)</option>\n                </select>\n                <Input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"10000\"\n                  step=\"1\"\n                  placeholder=\"25\"\n                  value={newTier.pricePerPerson || ''}\n                  onChange={(e) =>\n                    setNewTier({ ...newTier, pricePerPerson: parseFloat(e.target.value) || undefined })\n                  }\n                />\n              </div>\n              {/* Session 33: Commission info message for group pricing - standardized format */}\n              {(newTier.pricePerPerson ?? 0) > 0 && (\n                <div className=\"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600\">\n                  <p>5% (Stripe + LankaConnect commission) applies</p>\n                  <p className=\"font-medium text-green-700\">\n                    You'll receive: ${((newTier.pricePerPerson ?? 0) * 0.95).toFixed(2)} per person\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Tier-specific errors */}\n          {tierErrors && (\n            <div className=\"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <AlertCircle className=\"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0\" />\n              <p className=\"text-sm text-red-700\">{tierErrors}</p>\n            </div>\n          )}\n\n          {/* Add Button */}\n          <div className=\"flex justify-end gap-2\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => {\n                setShowAddForm(false);\n                setTierErrors(null);\n              }}\n            >\n              Cancel\n            </Button>\n            <Button type=\"button\" onClick={handleAddTier}>\n              Add Tier\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Validation Errors from parent form */}\n      {errors && (\n        <div className=\"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0\" />\n          <p className=\"text-sm text-red-700\">{errors}</p>\n        </div>\n      )}\n\n      {/* Empty State */}\n      {sortedTiers.length === 0 && !showAddForm && (\n        <div className=\"p-6 text-center border-2 border-dashed border-neutral-300 rounded-lg\">\n          <p className=\"text-sm text-neutral-600 mb-3\">No pricing tiers added yet</p>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={handleOpenAddForm}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Add Your First Tier\n          </Button>\n        </div>\n      )}\n\n      {/* Helpful Tips */}\n      {sortedTiers.length > 0 && !showAddForm && (\n        <div className=\"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n          <svg className=\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n          </svg>\n          <div className=\"text-xs text-blue-700\">\n            <p className=\"font-semibold mb-1\">Tier Guidelines:</p>\n            <ul className=\"list-disc list-inside space-y-1\">\n              <li>First tier must start at 1 attendee</li>\n              <li>Tiers must be continuous with no gaps</li>\n              <li>Only the last tier can have unlimited max attendees</li>\n              <li>All tiers must use the same currency</li>\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}