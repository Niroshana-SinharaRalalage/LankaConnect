{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/storage/localStorage.ts"],"sourcesContent":["/**\r\n * LocalStorage Utility\r\n * Type-safe wrapper for localStorage with error handling\r\n */\r\n\r\nconst STORAGE_KEYS = {\r\n  ACCESS_TOKEN: 'lankaconnect_access_token',\r\n  REFRESH_TOKEN: 'lankaconnect_refresh_token',\r\n  USER: 'lankaconnect_user',\r\n} as const;\r\n\r\nexport class LocalStorageService {\r\n  /**\r\n   * Check if localStorage is available\r\n   */\r\n  private static isAvailable(): boolean {\r\n    try {\r\n      const test = '__localStorage_test__';\r\n      localStorage.setItem(test, test);\r\n      localStorage.removeItem(test);\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get item from localStorage\r\n   */\r\n  static getItem<T>(key: string): T | null {\r\n    if (!this.isAvailable()) {\r\n      console.warn('localStorage is not available');\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      if (!item) return null;\r\n      return JSON.parse(item) as T;\r\n    } catch (error) {\r\n      console.error(`Error reading from localStorage (${key}):`, error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set item in localStorage\r\n   */\r\n  static setItem<T>(key: string, value: T): boolean {\r\n    if (!this.isAvailable()) {\r\n      console.warn('localStorage is not available');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(`Error writing to localStorage (${key}):`, error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove item from localStorage\r\n   */\r\n  static removeItem(key: string): void {\r\n    if (!this.isAvailable()) {\r\n      console.warn('localStorage is not available');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      console.error(`Error removing from localStorage (${key}):`, error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all items from localStorage\r\n   */\r\n  static clear(): void {\r\n    if (!this.isAvailable()) {\r\n      console.warn('localStorage is not available');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      localStorage.clear();\r\n    } catch (error) {\r\n      console.error('Error clearing localStorage:', error);\r\n    }\r\n  }\r\n\r\n  // Auth-specific methods\r\n  static getAccessToken(): string | null {\r\n    return this.getItem<string>(STORAGE_KEYS.ACCESS_TOKEN);\r\n  }\r\n\r\n  static setAccessToken(token: string): boolean {\r\n    return this.setItem(STORAGE_KEYS.ACCESS_TOKEN, token);\r\n  }\r\n\r\n  static getRefreshToken(): string | null {\r\n    return this.getItem<string>(STORAGE_KEYS.REFRESH_TOKEN);\r\n  }\r\n\r\n  static setRefreshToken(token: string): boolean {\r\n    return this.setItem(STORAGE_KEYS.REFRESH_TOKEN, token);\r\n  }\r\n\r\n  static getUser<T>(): T | null {\r\n    return this.getItem<T>(STORAGE_KEYS.USER);\r\n  }\r\n\r\n  static setUser<T>(user: T): boolean {\r\n    return this.setItem(STORAGE_KEYS.USER, user);\r\n  }\r\n\r\n  static clearAuth(): void {\r\n    this.removeItem(STORAGE_KEYS.ACCESS_TOKEN);\r\n    this.removeItem(STORAGE_KEYS.REFRESH_TOKEN);\r\n    this.removeItem(STORAGE_KEYS.USER);\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED,MAAM,eAAe;IACnB,cAAc;IACd,eAAe;IACf,MAAM;AACR;AAEO,MAAM;IACX;;GAEC,GACD,OAAe,cAAuB;QACpC,IAAI;YACF,MAAM,OAAO;YACb,aAAa,OAAO,CAAC,MAAM;YAC3B,aAAa,UAAU,CAAC;YACxB,OAAO;QACT,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA;;GAEC,GACD,OAAO,QAAW,GAAW,EAAY;QACvC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;YACvB,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;QAEA,IAAI;YACF,MAAM,OAAO,aAAa,OAAO,CAAC;YAClC,IAAI,CAAC,MAAM,OAAO;YAClB,OAAO,KAAK,KAAK,CAAC;QACpB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,iCAAiC,EAAE,IAAI,EAAE,CAAC,EAAE;YAC3D,OAAO;QACT;IACF;IAEA;;GAEC,GACD,OAAO,QAAW,GAAW,EAAE,KAAQ,EAAW;QAChD,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;YACvB,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;QAEA,IAAI;YACF,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;YACzC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,IAAI,EAAE,CAAC,EAAE;YACzD,OAAO;QACT;IACF;IAEA;;GAEC,GACD,OAAO,WAAW,GAAW,EAAQ;QACnC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;YACvB,QAAQ,IAAI,CAAC;YACb;QACF;QAEA,IAAI;YACF,aAAa,UAAU,CAAC;QAC1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,kCAAkC,EAAE,IAAI,EAAE,CAAC,EAAE;QAC9D;IACF;IAEA;;GAEC,GACD,OAAO,QAAc;QACnB,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;YACvB,QAAQ,IAAI,CAAC;YACb;QACF;QAEA,IAAI;YACF,aAAa,KAAK;QACpB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA,wBAAwB;IACxB,OAAO,iBAAgC;QACrC,OAAO,IAAI,CAAC,OAAO,CAAS,aAAa,YAAY;IACvD;IAEA,OAAO,eAAe,KAAa,EAAW;QAC5C,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,YAAY,EAAE;IACjD;IAEA,OAAO,kBAAiC;QACtC,OAAO,IAAI,CAAC,OAAO,CAAS,aAAa,aAAa;IACxD;IAEA,OAAO,gBAAgB,KAAa,EAAW;QAC7C,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,aAAa,EAAE;IAClD;IAEA,OAAO,UAAuB;QAC5B,OAAO,IAAI,CAAC,OAAO,CAAI,aAAa,IAAI;IAC1C;IAEA,OAAO,QAAW,IAAO,EAAW;QAClC,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,EAAE;IACzC;IAEA,OAAO,YAAkB;QACvB,IAAI,CAAC,UAAU,CAAC,aAAa,YAAY;QACzC,IAAI,CAAC,UAAU,CAAC,aAAa,aAAa;QAC1C,IAAI,CAAC,UAAU,CAAC,aAAa,IAAI;IACnC;AACF","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/client/api-errors.ts"],"sourcesContent":["/**\r\n * Base API Error class\r\n */\r\nexport class ApiError extends Error {\r\n  public readonly statusCode?: number;\r\n  public readonly validationErrors?: Record<string, string[]>;\r\n\r\n  constructor(message: string, statusCode?: number, validationErrors?: Record<string, string[]>) {\r\n    super(message);\r\n    this.name = 'ApiError';\r\n    this.statusCode = statusCode;\r\n    this.validationErrors = validationErrors;\r\n    Object.setPrototypeOf(this, ApiError.prototype);\r\n  }\r\n}\r\n\r\n/**\r\n * Network Error (no response from server)\r\n */\r\nexport class NetworkError extends ApiError {\r\n  constructor(message: string = 'Network error occurred') {\r\n    super(message);\r\n    this.name = 'NetworkError';\r\n    Object.setPrototypeOf(this, NetworkError.prototype);\r\n  }\r\n}\r\n\r\n/**\r\n * Validation Error (400)\r\n */\r\nexport class ValidationError extends ApiError {\r\n  constructor(message: string = 'Validation failed', validationErrors?: Record<string, string[]>) {\r\n    super(message, 400, validationErrors);\r\n    this.name = 'ValidationError';\r\n    Object.setPrototypeOf(this, ValidationError.prototype);\r\n  }\r\n}\r\n\r\n/**\r\n * Unauthorized Error (401)\r\n */\r\nexport class UnauthorizedError extends ApiError {\r\n  constructor(message: string = 'Unauthorized') {\r\n    super(message, 401);\r\n    this.name = 'UnauthorizedError';\r\n    Object.setPrototypeOf(this, UnauthorizedError.prototype);\r\n  }\r\n}\r\n\r\n/**\r\n * Forbidden Error (403)\r\n */\r\nexport class ForbiddenError extends ApiError {\r\n  constructor(message: string = 'Forbidden') {\r\n    super(message, 403);\r\n    this.name = 'ForbiddenError';\r\n    Object.setPrototypeOf(this, ForbiddenError.prototype);\r\n  }\r\n}\r\n\r\n/**\r\n * Not Found Error (404)\r\n */\r\nexport class NotFoundError extends ApiError {\r\n  constructor(message: string = 'Resource not found') {\r\n    super(message, 404);\r\n    this.name = 'NotFoundError';\r\n    Object.setPrototypeOf(this, NotFoundError.prototype);\r\n  }\r\n}\r\n\r\n/**\r\n * Server Error (500+)\r\n */\r\nexport class ServerError extends ApiError {\r\n  constructor(message: string = 'Internal server error', statusCode: number = 500) {\r\n    super(message, statusCode);\r\n    this.name = 'ServerError';\r\n    Object.setPrototypeOf(this, ServerError.prototype);\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;AACM,MAAM,iBAAiB;IACZ,WAAoB;IACpB,iBAA4C;IAE5D,YAAY,OAAe,EAAE,UAAmB,EAAE,gBAA2C,CAAE;QAC7F,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,gBAAgB,GAAG;QACxB,OAAO,cAAc,CAAC,IAAI,EAAE,SAAS,SAAS;IAChD;AACF;AAKO,MAAM,qBAAqB;IAChC,YAAY,UAAkB,wBAAwB,CAAE;QACtD,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,OAAO,cAAc,CAAC,IAAI,EAAE,aAAa,SAAS;IACpD;AACF;AAKO,MAAM,wBAAwB;IACnC,YAAY,UAAkB,mBAAmB,EAAE,gBAA2C,CAAE;QAC9F,KAAK,CAAC,SAAS,KAAK;QACpB,IAAI,CAAC,IAAI,GAAG;QACZ,OAAO,cAAc,CAAC,IAAI,EAAE,gBAAgB,SAAS;IACvD;AACF;AAKO,MAAM,0BAA0B;IACrC,YAAY,UAAkB,cAAc,CAAE;QAC5C,KAAK,CAAC,SAAS;QACf,IAAI,CAAC,IAAI,GAAG;QACZ,OAAO,cAAc,CAAC,IAAI,EAAE,kBAAkB,SAAS;IACzD;AACF;AAKO,MAAM,uBAAuB;IAClC,YAAY,UAAkB,WAAW,CAAE;QACzC,KAAK,CAAC,SAAS;QACf,IAAI,CAAC,IAAI,GAAG;QACZ,OAAO,cAAc,CAAC,IAAI,EAAE,eAAe,SAAS;IACtD;AACF;AAKO,MAAM,sBAAsB;IACjC,YAAY,UAAkB,oBAAoB,CAAE;QAClD,KAAK,CAAC,SAAS;QACf,IAAI,CAAC,IAAI,GAAG;QACZ,OAAO,cAAc,CAAC,IAAI,EAAE,cAAc,SAAS;IACrD;AACF;AAKO,MAAM,oBAAoB;IAC/B,YAAY,UAAkB,uBAAuB,EAAE,aAAqB,GAAG,CAAE;QAC/E,KAAK,CAAC,SAAS;QACf,IAAI,CAAC,IAAI,GAAG;QACZ,OAAO,cAAc,CAAC,IAAI,EAAE,YAAY,SAAS;IACnD;AACF","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/client/api-client.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios';\r\nimport {\r\n  ApiError,\r\n  NetworkError,\r\n  ValidationError,\r\n  UnauthorizedError,\r\n  ForbiddenError,\r\n  NotFoundError,\r\n  ServerError,\r\n} from './api-errors';\r\n\r\n/**\r\n * API Client Configuration\r\n */\r\nexport interface ApiClientConfig {\r\n  baseURL: string;\r\n  timeout?: number;\r\n  headers?: Record<string, string>;\r\n}\r\n\r\n/**\r\n * API Client\r\n * Singleton pattern for managing HTTP requests\r\n */\r\nexport class ApiClient {\r\n  private static instance: ApiClient;\r\n  private axiosInstance: AxiosInstance;\r\n  private authToken: string | null = null;\r\n\r\n  private constructor(config?: Partial<ApiClientConfig>) {\r\n    const baseURL = config?.baseURL || process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\r\n\r\n    this.axiosInstance = axios.create({\r\n      baseURL,\r\n      timeout: config?.timeout || 30000,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...config?.headers,\r\n      },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  /**\r\n   * Get singleton instance\r\n   */\r\n  public static getInstance(config?: Partial<ApiClientConfig>): ApiClient {\r\n    if (!ApiClient.instance) {\r\n      ApiClient.instance = new ApiClient(config);\r\n    }\r\n    return ApiClient.instance;\r\n  }\r\n\r\n  /**\r\n   * Setup request and response interceptors\r\n   */\r\n  private setupInterceptors(): void {\r\n    // Request interceptor\r\n    this.axiosInstance.interceptors.request.use(\r\n      (config) => {\r\n        // Add auth token if available\r\n        if (this.authToken) {\r\n          config.headers.Authorization = `Bearer ${this.authToken}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(this.handleError(error))\r\n    );\r\n\r\n    // Response interceptor\r\n    this.axiosInstance.interceptors.response.use(\r\n      (response) => response,\r\n      (error) => Promise.reject(this.handleError(error))\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Handle errors and convert to custom error types\r\n   */\r\n  private handleError(error: unknown): ApiError {\r\n    if (axios.isAxiosError(error)) {\r\n      const axiosError = error as AxiosError<any>;\r\n\r\n      // Network error (no response)\r\n      if (!axiosError.response) {\r\n        return new NetworkError(axiosError.message || 'Network error occurred');\r\n      }\r\n\r\n      const { status, data } = axiosError.response;\r\n\r\n      // Extract error message\r\n      const message = data?.message || data?.error || axiosError.message || 'An error occurred';\r\n\r\n      // Handle specific status codes\r\n      switch (status) {\r\n        case 400:\r\n          return new ValidationError(message, data?.errors || data?.validationErrors);\r\n        case 401:\r\n          return new UnauthorizedError(message);\r\n        case 403:\r\n          return new ForbiddenError(message);\r\n        case 404:\r\n          return new NotFoundError(message);\r\n        case 500:\r\n        case 502:\r\n        case 503:\r\n        case 504:\r\n          return new ServerError(message, status);\r\n        default:\r\n          return new ApiError(message, status);\r\n      }\r\n    }\r\n\r\n    // Unknown error\r\n    if (error instanceof Error) {\r\n      return new ApiError(error.message);\r\n    }\r\n\r\n    return new ApiError('An unknown error occurred');\r\n  }\r\n\r\n  /**\r\n   * Set authentication token\r\n   */\r\n  public setAuthToken(token: string): void {\r\n    this.authToken = token;\r\n  }\r\n\r\n  /**\r\n   * Clear authentication token\r\n   */\r\n  public clearAuthToken(): void {\r\n    this.authToken = null;\r\n  }\r\n\r\n  /**\r\n   * GET request\r\n   */\r\n  public async get<T = any>(url: string, config?: AxiosRequestConfig): Promise<T> {\r\n    const response: AxiosResponse<T> = await this.axiosInstance.get(url, config);\r\n    return response.data;\r\n  }\r\n\r\n  /**\r\n   * POST request\r\n   */\r\n  public async post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {\r\n    const response: AxiosResponse<T> = await this.axiosInstance.post(url, data, config);\r\n    return response.data;\r\n  }\r\n\r\n  /**\r\n   * PUT request\r\n   */\r\n  public async put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {\r\n    const response: AxiosResponse<T> = await this.axiosInstance.put(url, data, config);\r\n    return response.data;\r\n  }\r\n\r\n  /**\r\n   * PATCH request\r\n   */\r\n  public async patch<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {\r\n    const response: AxiosResponse<T> = await this.axiosInstance.patch(url, data, config);\r\n    return response.data;\r\n  }\r\n\r\n  /**\r\n   * DELETE request\r\n   */\r\n  public async delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<T> {\r\n    const response: AxiosResponse<T> = await this.axiosInstance.delete(url, config);\r\n    return response.data;\r\n  }\r\n\r\n  /**\r\n   * POST request with multipart/form-data (for file uploads)\r\n   */\r\n  public async postMultipart<T = any>(\r\n    url: string,\r\n    formData: FormData,\r\n    config?: AxiosRequestConfig\r\n  ): Promise<T> {\r\n    const response: AxiosResponse<T> = await this.axiosInstance.post(url, formData, {\r\n      ...config,\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        ...config?.headers,\r\n      },\r\n    });\r\n    return response.data;\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const apiClient = ApiClient.getInstance();\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 435, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/store/useAuthStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { devtools, persist } from 'zustand/middleware';\r\nimport type { UserDto, AuthTokens } from '@/infrastructure/api/types/auth.types';\r\nimport { LocalStorageService } from '@/infrastructure/storage/localStorage';\r\nimport { apiClient } from '@/infrastructure/api/client/api-client';\r\n\r\ninterface AuthState {\r\n  // State\r\n  user: UserDto | null;\r\n  accessToken: string | null;\r\n  refreshToken: string | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n\r\n  // Actions\r\n  setAuth: (user: UserDto, tokens: AuthTokens) => void;\r\n  clearAuth: () => void;\r\n  setLoading: (loading: boolean) => void;\r\n  updateUser: (user: Partial<UserDto>) => void;\r\n}\r\n\r\n/**\r\n * Auth Store\r\n * Global state management for authentication using Zustand\r\n */\r\nexport const useAuthStore = create<AuthState>()(\r\n  devtools(\r\n    persist(\r\n      (set, get) => ({\r\n        // Initial state\r\n        user: null,\r\n        accessToken: null,\r\n        refreshToken: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n\r\n        // Set authentication (after login/register)\r\n        setAuth: (user, tokens) => {\r\n          // Store tokens in localStorage\r\n          LocalStorageService.setAccessToken(tokens.accessToken);\r\n          LocalStorageService.setRefreshToken(tokens.refreshToken);\r\n          LocalStorageService.setUser(user);\r\n\r\n          // Set auth token in API client\r\n          apiClient.setAuthToken(tokens.accessToken);\r\n\r\n          set({\r\n            user,\r\n            accessToken: tokens.accessToken,\r\n            refreshToken: tokens.refreshToken,\r\n            isAuthenticated: true,\r\n            isLoading: false,\r\n          });\r\n        },\r\n\r\n        // Clear authentication (logout)\r\n        clearAuth: () => {\r\n          // Clear localStorage\r\n          LocalStorageService.clearAuth();\r\n\r\n          // Clear auth token from API client\r\n          apiClient.clearAuthToken();\r\n\r\n          set({\r\n            user: null,\r\n            accessToken: null,\r\n            refreshToken: null,\r\n            isAuthenticated: false,\r\n            isLoading: false,\r\n          });\r\n        },\r\n\r\n        // Set loading state\r\n        setLoading: (loading) => {\r\n          set({ isLoading: loading });\r\n        },\r\n\r\n        // Update user data\r\n        updateUser: (userData) => {\r\n          const currentUser = get().user;\r\n          if (!currentUser) return;\r\n\r\n          const updatedUser = { ...currentUser, ...userData };\r\n          LocalStorageService.setUser(updatedUser);\r\n\r\n          set({ user: updatedUser });\r\n        },\r\n      }),\r\n      {\r\n        name: 'auth-storage',\r\n        partialize: (state) => ({\r\n          user: state.user,\r\n          accessToken: state.accessToken,\r\n          refreshToken: state.refreshToken,\r\n          isAuthenticated: state.isAuthenticated,\r\n        }),\r\n        onRehydrateStorage: () => (state) => {\r\n          // Restore auth token to API client on app load\r\n          if (state?.accessToken) {\r\n            apiClient.setAuthToken(state.accessToken);\r\n          }\r\n        },\r\n      }\r\n    ),\r\n    { name: 'AuthStore' }\r\n  )\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AACA;;;;;AAqBO,MAAM,eAAe,IAAA,kJAAM,IAChC,IAAA,yJAAQ,EACN,IAAA,wJAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,gBAAgB;QAChB,MAAM;QACN,aAAa;QACb,cAAc;QACd,iBAAiB;QACjB,WAAW;QAEX,4CAA4C;QAC5C,SAAS,CAAC,MAAM;YACd,+BAA+B;YAC/B,uKAAmB,CAAC,cAAc,CAAC,OAAO,WAAW;YACrD,uKAAmB,CAAC,eAAe,CAAC,OAAO,YAAY;YACvD,uKAAmB,CAAC,OAAO,CAAC;YAE5B,+BAA+B;YAC/B,oKAAS,CAAC,YAAY,CAAC,OAAO,WAAW;YAEzC,IAAI;gBACF;gBACA,aAAa,OAAO,WAAW;gBAC/B,cAAc,OAAO,YAAY;gBACjC,iBAAiB;gBACjB,WAAW;YACb;QACF;QAEA,gCAAgC;QAChC,WAAW;YACT,qBAAqB;YACrB,uKAAmB,CAAC,SAAS;YAE7B,mCAAmC;YACnC,oKAAS,CAAC,cAAc;YAExB,IAAI;gBACF,MAAM;gBACN,aAAa;gBACb,cAAc;gBACd,iBAAiB;gBACjB,WAAW;YACb;QACF;QAEA,oBAAoB;QACpB,YAAY,CAAC;YACX,IAAI;gBAAE,WAAW;YAAQ;QAC3B;QAEA,mBAAmB;QACnB,YAAY,CAAC;YACX,MAAM,cAAc,MAAM,IAAI;YAC9B,IAAI,CAAC,aAAa;YAElB,MAAM,cAAc;gBAAE,GAAG,WAAW;gBAAE,GAAG,QAAQ;YAAC;YAClD,uKAAmB,CAAC,OAAO,CAAC;YAE5B,IAAI;gBAAE,MAAM;YAAY;QAC1B;IACF,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YACtB,MAAM,MAAM,IAAI;YAChB,aAAa,MAAM,WAAW;YAC9B,cAAc,MAAM,YAAY;YAChC,iBAAiB,MAAM,eAAe;QACxC,CAAC;IACD,oBAAoB,IAAM,CAAC;YACzB,+CAA+C;YAC/C,IAAI,OAAO,aAAa;gBACtB,oKAAS,CAAC,YAAY,CAAC,MAAM,WAAW;YAC1C;QACF;AACF,IAEF;IAAE,MAAM;AAAY","debugId":null}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/auth/ProtectedRoute.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\n/**\r\n * ProtectedRoute Component\r\n * Wrapper for routes that require authentication\r\n * Redirects to login if not authenticated\r\n * Handles Zustand hydration to prevent redirect on page refresh\r\n */\r\nexport function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n  const router = useRouter();\r\n  const { isAuthenticated, isLoading } = useAuthStore();\r\n  const [isHydrated, setIsHydrated] = useState(false);\r\n\r\n  // Wait for Zustand store to hydrate from localStorage\r\n  useEffect(() => {\r\n    setIsHydrated(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Only redirect after hydration is complete\r\n    if (isHydrated && !isLoading && !isAuthenticated) {\r\n      router.push('/login');\r\n    }\r\n  }, [isAuthenticated, isLoading, isHydrated, router]);\r\n\r\n  // Show loading state while hydrating or checking authentication\r\n  if (!isHydrated || isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ background: '#f7fafc' }}>\r\n        <div className=\"text-center\">\r\n          <div\r\n            className=\"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4\"\r\n            style={{ borderColor: '#FF7900' }}\r\n          ></div>\r\n          <p style={{ color: '#8B1538', fontSize: '0.9rem' }}>Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render children if not authenticated\r\n  if (!isAuthenticated) {\r\n    return null;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAgBO,SAAS,eAAe,EAAE,QAAQ,EAAuB;IAC9D,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,4JAAY;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,sDAAsD;IACtD,IAAA,kNAAS,EAAC;QACR,cAAc;IAChB,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,4CAA4C;QAC5C,IAAI,cAAc,CAAC,aAAa,CAAC,iBAAiB;YAChD,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAW;QAAY;KAAO;IAEnD,gEAAgE;IAChE,IAAI,CAAC,cAAc,WAAW;QAC5B,qBACE,8OAAC;YAAI,WAAU;YAAgD,OAAO;gBAAE,YAAY;YAAU;sBAC5F,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,aAAa;wBAAU;;;;;;kCAElC,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAW,UAAU;wBAAS;kCAAG;;;;;;;;;;;;;;;;;IAI5D;IAEA,6CAA6C;IAC7C,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/repositories/profile.repository.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\r\nimport type {\r\n  UserProfile,\r\n  UpdateLocationRequest,\r\n  UpdateCulturalInterestsRequest,\r\n  UpdateLanguagesRequest,\r\n  UpdateBasicInfoRequest,\r\n  UpdatePreferredMetroAreasRequest,\r\n  PhotoUploadResponse,\r\n} from '@/domain/models/UserProfile';\r\n\r\n/**\r\n * ProfileRepository\r\n * Handles all profile-related API calls\r\n * Repository pattern for profile operations\r\n *\r\n * Endpoints from UsersController.cs:\r\n * - GET /api/users/{id} - Get user profile\r\n * - POST /api/users/{id}/profile-photo - Upload profile photo\r\n * - DELETE /api/users/{id}/profile-photo - Delete profile photo\r\n * - PUT /api/users/{id}/location - Update location\r\n * - PUT /api/users/{id}/cultural-interests - Update cultural interests\r\n * - PUT /api/users/{id}/languages - Update languages\r\n */\r\nexport class ProfileRepository {\r\n  private readonly basePath = '/users';\r\n\r\n  /**\r\n   * Get user profile by ID\r\n   * @param userId User GUID\r\n   * @returns Promise resolving to UserProfile\r\n   */\r\n  async getProfile(userId: string): Promise<UserProfile> {\r\n    const response = await apiClient.get<UserProfile>(`${this.basePath}/${userId}`);\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Upload profile photo\r\n   * @param userId User GUID\r\n   * @param file Image file (max 5MB)\r\n   * @returns Promise resolving to PhotoUploadResponse with new URL\r\n   */\r\n  async uploadProfilePhoto(userId: string, file: File): Promise<PhotoUploadResponse> {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const response = await apiClient.postMultipart<PhotoUploadResponse>(\r\n      `${this.basePath}/${userId}/profile-photo`,\r\n      formData\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Delete profile photo\r\n   * @param userId User GUID\r\n   * @returns Promise resolving to success message\r\n   */\r\n  async deleteProfilePhoto(userId: string): Promise<{ message: string }> {\r\n    const response = await apiClient.delete<{ message: string }>(\r\n      `${this.basePath}/${userId}/profile-photo`\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Update user location\r\n   * @param userId User GUID\r\n   * @param location Location data (all fields optional)\r\n   * @returns Promise resolving to updated UserProfile\r\n   */\r\n  async updateLocation(\r\n    userId: string,\r\n    location: UpdateLocationRequest\r\n  ): Promise<UserProfile> {\r\n    const response = await apiClient.put<UserProfile>(\r\n      `${this.basePath}/${userId}/location`,\r\n      location\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Update cultural interests\r\n   * @param userId User GUID\r\n   * @param interests Cultural interests (0-10 items)\r\n   * @returns Promise resolving to updated UserProfile\r\n   */\r\n  async updateCulturalInterests(\r\n    userId: string,\r\n    interests: UpdateCulturalInterestsRequest\r\n  ): Promise<UserProfile> {\r\n    const response = await apiClient.put<UserProfile>(\r\n      `${this.basePath}/${userId}/cultural-interests`,\r\n      interests\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Update languages\r\n   * @param userId User GUID\r\n   * @param languages Languages with proficiency levels\r\n   * @returns Promise resolving to updated UserProfile\r\n   */\r\n  async updateLanguages(\r\n    userId: string,\r\n    languages: UpdateLanguagesRequest\r\n  ): Promise<UserProfile> {\r\n    const response = await apiClient.put<UserProfile>(\r\n      `${this.basePath}/${userId}/languages`,\r\n      languages\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Update basic user information\r\n   * @param userId User GUID\r\n   * @param basicInfo First name, last name, phone, bio\r\n   * @returns Promise resolving to updated UserProfile\r\n   */\r\n  async updateBasicInfo(\r\n    userId: string,\r\n    basicInfo: UpdateBasicInfoRequest\r\n  ): Promise<UserProfile> {\r\n    // Note: This endpoint doesn't exist in backend yet\r\n    // Using PUT /api/users/{id} as a placeholder\r\n    // Backend team should add dedicated endpoint for basic info updates\r\n    const response = await apiClient.put<UserProfile>(\r\n      `${this.basePath}/${userId}`,\r\n      basicInfo\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Update user's preferred metro areas for location-based filtering\r\n   * Phase 5B: User Preferred Metro Areas - Expanded to 20 max limit\r\n   * Phase 6A.9 FIX: Backend returns 204 No Content, so we reload profile after update\r\n   * @param userId User GUID\r\n   * @param metroAreas Metro area IDs (0-20 items, GUIDs)\r\n   * @returns Promise resolving to updated UserProfile\r\n   */\r\n  async updatePreferredMetroAreas(\r\n    userId: string,\r\n    request: UpdatePreferredMetroAreasRequest\r\n  ): Promise<UserProfile> {\r\n    // PUT request returns 204 No Content on success\r\n    await apiClient.put<void>(\r\n      `${this.basePath}/${userId}/preferred-metro-areas`,\r\n      request\r\n    );\r\n\r\n    // Reload full profile to get updated preferredMetroAreas\r\n    const updatedProfile = await this.getProfile(userId);\r\n    return updatedProfile;\r\n  }\r\n\r\n  /**\r\n   * Get user's preferred metro areas with full details\r\n   * Phase 5B: User Preferred Metro Areas\r\n   * @param userId User GUID\r\n   * @returns Promise resolving to array of metro area GUIDs\r\n   */\r\n  async getPreferredMetroAreas(userId: string): Promise<string[]> {\r\n    const response = await apiClient.get<string[]>(\r\n      `${this.basePath}/${userId}/preferred-metro-areas`\r\n    );\r\n    return response;\r\n  }\r\n}\r\n\r\n/**\r\n * Singleton instance of the profile repository\r\n */\r\nexport const profileRepository = new ProfileRepository();\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAwBO,MAAM;IACM,WAAW,SAAS;IAErC;;;;GAIC,GACD,MAAM,WAAW,MAAc,EAAwB;QACrD,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ;QAC9E,OAAO;IACT;IAEA;;;;;GAKC,GACD,MAAM,mBAAmB,MAAc,EAAE,IAAU,EAAgC;QACjF,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,MAAM,WAAW,MAAM,oKAAS,CAAC,aAAa,CAC5C,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,cAAc,CAAC,EAC1C;QAEF,OAAO;IACT;IAEA;;;;GAIC,GACD,MAAM,mBAAmB,MAAc,EAAgC;QACrE,MAAM,WAAW,MAAM,oKAAS,CAAC,MAAM,CACrC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,cAAc,CAAC;QAE5C,OAAO;IACT;IAEA;;;;;GAKC,GACD,MAAM,eACJ,MAAc,EACd,QAA+B,EACT;QACtB,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC,EACrC;QAEF,OAAO;IACT;IAEA;;;;;GAKC,GACD,MAAM,wBACJ,MAAc,EACd,SAAyC,EACnB;QACtB,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,mBAAmB,CAAC,EAC/C;QAEF,OAAO;IACT;IAEA;;;;;GAKC,GACD,MAAM,gBACJ,MAAc,EACd,SAAiC,EACX;QACtB,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,UAAU,CAAC,EACtC;QAEF,OAAO;IACT;IAEA;;;;;GAKC,GACD,MAAM,gBACJ,MAAc,EACd,SAAiC,EACX;QACtB,mDAAmD;QACnD,6CAA6C;QAC7C,oEAAoE;QACpE,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,EAC5B;QAEF,OAAO;IACT;IAEA;;;;;;;GAOC,GACD,MAAM,0BACJ,MAAc,EACd,OAAyC,EACnB;QACtB,gDAAgD;QAChD,MAAM,oKAAS,CAAC,GAAG,CACjB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,sBAAsB,CAAC,EAClD;QAGF,yDAAyD;QACzD,MAAM,iBAAiB,MAAM,IAAI,CAAC,UAAU,CAAC;QAC7C,OAAO;IACT;IAEA;;;;;GAKC,GACD,MAAM,uBAAuB,MAAc,EAAqB;QAC9D,MAAM,WAAW,MAAM,oKAAS,CAAC,GAAG,CAClC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,sBAAsB,CAAC;QAEpD,OAAO;IACT;AACF;AAKO,MAAM,oBAAoB,IAAI","debugId":null}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/store/useProfileStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { devtools } from 'zustand/middleware';\r\nimport type {\r\n  UserProfile,\r\n  Location,\r\n  Language,\r\n  UpdateLocationRequest,\r\n  UpdateCulturalInterestsRequest,\r\n  UpdateLanguagesRequest,\r\n  UpdateBasicInfoRequest,\r\n  UpdatePreferredMetroAreasRequest,\r\n} from '@/domain/models/UserProfile';\r\nimport { profileRepository } from '@/infrastructure/api/repositories/profile.repository';\r\n\r\n/**\r\n * Save button states for different profile sections\r\n */\r\nexport type SaveButtonState = 'idle' | 'dirty' | 'saving' | 'success' | 'error';\r\n\r\ninterface ProfileSectionStates {\r\n  photo: SaveButtonState;\r\n  basicInfo: SaveButtonState;\r\n  location: SaveButtonState;\r\n  culturalInterests: SaveButtonState;\r\n  languages: SaveButtonState;\r\n  preferredMetroAreas: SaveButtonState; // Phase 5B\r\n}\r\n\r\ninterface ProfileState {\r\n  // State\r\n  profile: UserProfile | null;\r\n  originalProfile: UserProfile | null; // For dirty tracking\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  sectionStates: ProfileSectionStates;\r\n\r\n  // Actions - Data Management\r\n  setProfile: (profile: UserProfile) => void;\r\n  loadProfile: (userId: string) => Promise<void>;\r\n  clearProfile: () => void;\r\n\r\n  // Actions - Photo\r\n  uploadPhoto: (userId: string, file: File) => Promise<void>;\r\n  deletePhoto: (userId: string) => Promise<void>;\r\n\r\n  // Actions - Basic Info\r\n  updateBasicInfo: (userId: string, basicInfo: UpdateBasicInfoRequest) => Promise<void>;\r\n\r\n  // Actions - Location\r\n  updateLocation: (userId: string, location: UpdateLocationRequest) => Promise<void>;\r\n\r\n  // Actions - Cultural Interests\r\n  updateCulturalInterests: (\r\n    userId: string,\r\n    interests: UpdateCulturalInterestsRequest\r\n  ) => Promise<void>;\r\n\r\n  // Actions - Languages\r\n  updateLanguages: (userId: string, languages: UpdateLanguagesRequest) => Promise<void>;\r\n\r\n  // Actions - Preferred Metro Areas (Phase 5B)\r\n  updatePreferredMetroAreas: (\r\n    userId: string,\r\n    metroAreas: UpdatePreferredMetroAreasRequest\r\n  ) => Promise<void>;\r\n\r\n  // Actions - Dirty Tracking\r\n  markSectionDirty: (section: keyof ProfileSectionStates) => void;\r\n  markSectionClean: (section: keyof ProfileSectionStates) => void;\r\n  resetSectionState: (section: keyof ProfileSectionStates) => void;\r\n  isSectionDirty: (section: keyof ProfileSectionStates) => boolean;\r\n}\r\n\r\nconst initialSectionStates: ProfileSectionStates = {\r\n  photo: 'idle',\r\n  basicInfo: 'idle',\r\n  location: 'idle',\r\n  culturalInterests: 'idle',\r\n  languages: 'idle',\r\n  preferredMetroAreas: 'idle', // Phase 5B\r\n};\r\n\r\n/**\r\n * Profile Store\r\n * Global state management for user profile using Zustand\r\n * Separate from auth store per ADR-002\r\n */\r\nexport const useProfileStore = create<ProfileState>()(\r\n  devtools(\r\n    (set, get) => ({\r\n      // Initial state\r\n      profile: null,\r\n      originalProfile: null,\r\n      isLoading: false,\r\n      error: null,\r\n      sectionStates: { ...initialSectionStates },\r\n\r\n      // Set profile\r\n      setProfile: (profile) => {\r\n        set({\r\n          profile,\r\n          originalProfile: JSON.parse(JSON.stringify(profile)), // Deep clone\r\n          error: null,\r\n        });\r\n      },\r\n\r\n      // Load profile from API\r\n      loadProfile: async (userId) => {\r\n        set({ isLoading: true, error: null });\r\n        try {\r\n          const profile = await profileRepository.getProfile(userId);\r\n          get().setProfile(profile);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to load profile';\r\n          set({ error: errorMessage, profile: null, originalProfile: null });\r\n        } finally {\r\n          set({ isLoading: false });\r\n        }\r\n      },\r\n\r\n      // Clear profile\r\n      clearProfile: () => {\r\n        set({\r\n          profile: null,\r\n          originalProfile: null,\r\n          isLoading: false,\r\n          error: null,\r\n          sectionStates: { ...initialSectionStates },\r\n        });\r\n      },\r\n\r\n      // Upload profile photo\r\n      uploadPhoto: async (userId, file) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, photo: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          const response = await profileRepository.uploadProfilePhoto(userId, file);\r\n\r\n          // Update profile with new photo URL\r\n          set((state) => ({\r\n            profile: state.profile\r\n              ? { ...state.profile, profilePhotoUrl: response.profilePhotoUrl }\r\n              : null,\r\n            originalProfile: state.originalProfile\r\n              ? { ...state.originalProfile, profilePhotoUrl: response.profilePhotoUrl }\r\n              : null,\r\n            sectionStates: { ...state.sectionStates, photo: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, photo: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to upload photo';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, photo: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Delete profile photo\r\n      deletePhoto: async (userId) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, photo: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          await profileRepository.deleteProfilePhoto(userId);\r\n\r\n          // Update profile to remove photo URL\r\n          set((state) => ({\r\n            profile: state.profile ? { ...state.profile, profilePhotoUrl: null } : null,\r\n            originalProfile: state.originalProfile\r\n              ? { ...state.originalProfile, profilePhotoUrl: null }\r\n              : null,\r\n            sectionStates: { ...state.sectionStates, photo: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, photo: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to delete photo';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, photo: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Update basic info\r\n      updateBasicInfo: async (userId, basicInfo) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, basicInfo: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          const updatedProfile = await profileRepository.updateBasicInfo(userId, basicInfo);\r\n          get().setProfile(updatedProfile);\r\n\r\n          set((state) => ({\r\n            sectionStates: { ...state.sectionStates, basicInfo: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, basicInfo: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to update basic info';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, basicInfo: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Update location\r\n      updateLocation: async (userId, location) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, location: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          const updatedProfile = await profileRepository.updateLocation(userId, location);\r\n          get().setProfile(updatedProfile);\r\n\r\n          set((state) => ({\r\n            sectionStates: { ...state.sectionStates, location: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, location: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to update location';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, location: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Update cultural interests\r\n      updateCulturalInterests: async (userId, interests) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, culturalInterests: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          const updatedProfile = await profileRepository.updateCulturalInterests(\r\n            userId,\r\n            interests\r\n          );\r\n          get().setProfile(updatedProfile);\r\n\r\n          set((state) => ({\r\n            sectionStates: { ...state.sectionStates, culturalInterests: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, culturalInterests: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to update cultural interests';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, culturalInterests: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Update languages\r\n      updateLanguages: async (userId, languages) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, languages: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          const updatedProfile = await profileRepository.updateLanguages(userId, languages);\r\n          get().setProfile(updatedProfile);\r\n\r\n          set((state) => ({\r\n            sectionStates: { ...state.sectionStates, languages: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, languages: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to update languages';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, languages: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Phase 5B: Update user's preferred metro areas for location-based filtering\r\n      // Validates against max 20 limit (expanded from 10)\r\n      updatePreferredMetroAreas: async (userId, metroAreas) => {\r\n        // Frontend validation: Check max 20 limit\r\n        if (metroAreas.metroAreaIds.length > 20) {\r\n          set((state) => ({\r\n            error: 'Cannot select more than 20 metro areas',\r\n            sectionStates: { ...state.sectionStates, preferredMetroAreas: 'error' },\r\n          }));\r\n          return;\r\n        }\r\n\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, preferredMetroAreas: 'saving' },\r\n          error: null,\r\n        }));\r\n\r\n        try {\r\n          const updatedProfile = await profileRepository.updatePreferredMetroAreas(\r\n            userId,\r\n            metroAreas\r\n          );\r\n          get().setProfile(updatedProfile);\r\n\r\n          set((state) => ({\r\n            sectionStates: { ...state.sectionStates, preferredMetroAreas: 'success' },\r\n          }));\r\n\r\n          // Reset to idle after 2 seconds\r\n          setTimeout(() => {\r\n            set((state) => ({\r\n              sectionStates: { ...state.sectionStates, preferredMetroAreas: 'idle' },\r\n            }));\r\n          }, 2000);\r\n        } catch (error) {\r\n          const errorMessage =\r\n            error instanceof Error ? error.message : 'Failed to update preferred metro areas';\r\n          set((state) => ({\r\n            error: errorMessage,\r\n            sectionStates: { ...state.sectionStates, preferredMetroAreas: 'error' },\r\n          }));\r\n        }\r\n      },\r\n\r\n      // Mark section as dirty (has unsaved changes)\r\n      markSectionDirty: (section) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, [section]: 'dirty' },\r\n        }));\r\n      },\r\n\r\n      // Mark section as clean (no unsaved changes)\r\n      markSectionClean: (section) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, [section]: 'idle' },\r\n        }));\r\n      },\r\n\r\n      // Reset section state to idle\r\n      resetSectionState: (section) => {\r\n        set((state) => ({\r\n          sectionStates: { ...state.sectionStates, [section]: 'idle' },\r\n        }));\r\n      },\r\n\r\n      // Check if section has unsaved changes\r\n      isSectionDirty: (section) => {\r\n        return get().sectionStates[section] === 'dirty';\r\n      },\r\n    }),\r\n    { name: 'ProfileStore' }\r\n  )\r\n);\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\n/**\r\n * Utility function to merge Tailwind CSS classes\r\n * Combines clsx for conditional classes and tailwind-merge for conflict resolution\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/Button.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cva, type VariantProps } from 'class-variance-authority';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nconst buttonVariants = cva(\r\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\r\n        outline: 'border border-primary bg-background hover:bg-accent hover:text-accent-foreground',\r\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-10 px-4 py-2',\r\n        sm: 'h-9 rounded-md px-3',\r\n        lg: 'h-11 rounded-md px-8',\r\n        icon: 'h-10 w-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  loading?: boolean;\r\n}\r\n\r\n/**\r\n * Button Component\r\n * Reusable button component with multiple variants and sizes\r\n * Follows UI/UX best practices with loading states and accessibility\r\n */\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, loading, disabled, children, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        disabled={disabled || loading}\r\n        aria-disabled={disabled || loading}\r\n        {...props}\r\n      >\r\n        {loading ? (\r\n          <>\r\n            <svg\r\n              className=\"mr-2 h-4 w-4 animate-spin\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <circle\r\n                className=\"opacity-25\"\r\n                cx=\"12\"\r\n                cy=\"12\"\r\n                r=\"10\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"4\"\r\n              ></circle>\r\n              <path\r\n                className=\"opacity-75\"\r\n                fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n              ></path>\r\n            </svg>\r\n            <span>Loading...</span>\r\n          </>\r\n        ) : (\r\n          children\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nButton.displayName = 'Button';\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF;;;;CAIC,GACD,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACpE,qBACE,8OAAC;QACC,WAAW,IAAA,yIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACL,UAAU,YAAY;QACtB,iBAAe,YAAY;QAC1B,GAAG,KAAK;kBAER,wBACC;;8BACE,8OAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;;sCAER,8OAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;8BAGN,8OAAC;8BAAK;;;;;;;2BAGR;;;;;;AAIR;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/widgets/PhotoUploadWidget.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useRef, useState, useCallback } from 'react';\r\nimport Image from 'next/image';\r\nimport { Upload, X, Loader2 } from 'lucide-react';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface PhotoUploadWidgetProps {\r\n  currentPhotoUrl?: string | null;\r\n  onUpload: (file: File) => Promise<void> | void;\r\n  onDelete: () => Promise<void> | void;\r\n  maxSizeMB?: number;\r\n  acceptedFormats?: string[];\r\n  isLoading?: boolean;\r\n  error?: string;\r\n}\r\n\r\nconst DEFAULT_ACCEPTED_FORMATS = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];\r\nconst DEFAULT_MAX_SIZE_MB = 5;\r\n\r\n/**\r\n * PhotoUploadWidget Component\r\n *\r\n * Reusable photo upload widget with:\r\n * - Drag and drop support\r\n * - Click to upload\r\n * - File validation (type and size)\r\n * - Preview current photo\r\n * - Delete functionality\r\n * - Loading states\r\n * - Error handling\r\n *\r\n * Follows UI/UX best practices with accessibility support\r\n */\r\nexport const PhotoUploadWidget: React.FC<PhotoUploadWidgetProps> = ({\r\n  currentPhotoUrl,\r\n  onUpload,\r\n  onDelete,\r\n  maxSizeMB = DEFAULT_MAX_SIZE_MB,\r\n  acceptedFormats = DEFAULT_ACCEPTED_FORMATS,\r\n  isLoading = false,\r\n  error,\r\n}) => {\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const [validationError, setValidationError] = useState<string>('');\r\n\r\n  // Format accepted formats for display\r\n  const getFormatsDisplay = () => {\r\n    return acceptedFormats\r\n      .map((format) => format.replace('image/', '').toUpperCase())\r\n      .join(', ');\r\n  };\r\n\r\n  // Validate file\r\n  const validateFile = (file: File): boolean => {\r\n    setValidationError('');\r\n\r\n    // Check file type\r\n    if (!acceptedFormats.includes(file.type)) {\r\n      setValidationError(`Only ${getFormatsDisplay()} images are allowed`);\r\n      return false;\r\n    }\r\n\r\n    // Check file size\r\n    const fileSizeMB = file.size / (1024 * 1024);\r\n    if (fileSizeMB > maxSizeMB) {\r\n      setValidationError(`File size exceeds ${maxSizeMB}MB`);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  // Handle file selection\r\n  const handleFileSelect = useCallback(\r\n    async (file: File | null) => {\r\n      if (!file) return;\r\n\r\n      if (validateFile(file)) {\r\n        await onUpload(file);\r\n      }\r\n    },\r\n    [onUpload, maxSizeMB, acceptedFormats]\r\n  );\r\n\r\n  // Handle file input change\r\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      handleFileSelect(file);\r\n    }\r\n    // Reset input value to allow selecting the same file again\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  // Handle drag over\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsDragOver(true);\r\n  };\r\n\r\n  // Handle drag leave\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsDragOver(false);\r\n  };\r\n\r\n  // Handle drop\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsDragOver(false);\r\n\r\n    const file = e.dataTransfer.files?.[0];\r\n    if (file) {\r\n      handleFileSelect(file);\r\n    }\r\n  };\r\n\r\n  // Handle click on upload area\r\n  const handleUploadAreaClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  // Handle delete\r\n  const handleDelete = async () => {\r\n    if (!isLoading) {\r\n      await onDelete();\r\n    }\r\n  };\r\n\r\n  const displayError = error || validationError;\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Current Photo Preview */}\r\n      {currentPhotoUrl && (\r\n        <div className=\"relative flex flex-col items-center space-y-4\">\r\n          <div className=\"relative h-32 w-32 overflow-hidden rounded-full border-4 border-border\">\r\n            <Image\r\n              src={currentPhotoUrl}\r\n              alt=\"Current profile photo\"\r\n              fill\r\n              className=\"object-cover\"\r\n              sizes=\"128px\"\r\n            />\r\n          </div>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"destructive\"\r\n            size=\"sm\"\r\n            onClick={handleDelete}\r\n            disabled={isLoading}\r\n            aria-label=\"Delete photo\"\r\n          >\r\n            <X className=\"mr-2 h-4 w-4\" />\r\n            Delete Photo\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Area */}\r\n      {!currentPhotoUrl && (\r\n        <div\r\n          className={cn(\r\n            'relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 transition-colors',\r\n            isDragOver && 'border-primary bg-primary/5',\r\n            !isDragOver && 'border-border hover:border-primary/50',\r\n            isLoading && 'pointer-events-none opacity-50'\r\n          )}\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n          onClick={handleUploadAreaClick}\r\n          role=\"button\"\r\n          tabIndex={0}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter' || e.key === ' ') {\r\n              handleUploadAreaClick();\r\n            }\r\n          }}\r\n        >\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept={acceptedFormats.join(',')}\r\n            onChange={handleFileInputChange}\r\n            className=\"hidden\"\r\n            disabled={isLoading}\r\n            aria-label=\"Upload profile photo\"\r\n          />\r\n\r\n          {isLoading ? (\r\n            <div className=\"flex flex-col items-center space-y-2\" role=\"status\" aria-live=\"polite\">\r\n              <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\r\n              <p className=\"text-sm text-muted-foreground\">Uploading...</p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Upload className=\"mb-4 h-12 w-12 text-muted-foreground\" />\r\n              <p className=\"mb-2 text-sm font-medium text-foreground\">Upload Photo</p>\r\n              <p className=\"mb-1 text-xs text-muted-foreground\">\r\n                Drag and drop or click to select\r\n              </p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {getFormatsDisplay()} (Max {maxSizeMB}MB)\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Message */}\r\n      {displayError && (\r\n        <div className=\"rounded-md bg-destructive/10 p-3\">\r\n          <p className=\"text-sm text-destructive\">{displayError}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1520, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/Card.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\n/**\r\n * Card Component\r\n * Reusable card container with header, content, and footer sections\r\n * Follows UI/UX best practices for content grouping\r\n */\r\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      className={cn('rounded-lg border bg-card text-card-foreground shadow-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nCard.displayName = 'Card';\r\n\r\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('flex flex-col space-y-1.5 p-6', className)} {...props} />\r\n  )\r\n);\r\nCardHeader.displayName = 'CardHeader';\r\n\r\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <h3\r\n      ref={ref}\r\n      className={cn('text-2xl font-semibold leading-none tracking-tight', className)}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nCardTitle.displayName = 'CardTitle';\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p ref={ref} className={cn('text-sm text-muted-foreground', className)} {...props} />\r\n));\r\nCardDescription.displayName = 'CardDescription';\r\n\r\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n  )\r\n);\r\nCardContent.displayName = 'CardContent';\r\n\r\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn('flex items-center p-6 pt-0', className)} {...props} />\r\n  )\r\n);\r\nCardFooter.displayName = 'CardFooter';\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA;;;;CAIC,GACD,MAAM,qBAAO,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yIAAE,EAAC,4DAA4D;QACzE,GAAG,KAAK;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAGvF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yIAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAE,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAEnF,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yIAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;AAGpF,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/profile/ProfilePhotoSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\r\nimport { PhotoUploadWidget } from '@/presentation/components/widgets/PhotoUploadWidget';\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/presentation/components/ui/Card';\r\n\r\n/**\r\n * ProfilePhotoSection Component\r\n *\r\n * Container component for profile photo upload/management\r\n * - Integrates with useAuthStore for user ID\r\n * - Integrates with useProfileStore for photo state and actions\r\n * - Uses PhotoUploadWidget for UI\r\n * - Handles upload/delete operations\r\n * - Shows section states (idle, saving, success, error)\r\n *\r\n * Follows UI/UX best practices with proper error handling and loading states\r\n */\r\nexport function ProfilePhotoSection() {\r\n  const { user, isAuthenticated } = useAuthStore();\r\n  const { profile, error, sectionStates, uploadPhoto, deletePhoto } = useProfileStore();\r\n\r\n  // Don't render if not authenticated\r\n  if (!isAuthenticated || !user) {\r\n    return null;\r\n  }\r\n\r\n  const currentPhotoUrl = profile?.profilePhotoUrl || null;\r\n  const isLoading = sectionStates.photo === 'saving';\r\n  const photoError = sectionStates.photo === 'error' ? error : null;\r\n\r\n  /**\r\n   * Handle photo upload\r\n   * Calls uploadPhoto action from store with user ID and file\r\n   */\r\n  const handleUpload = async (file: File) => {\r\n    await uploadPhoto(user.userId, file);\r\n  };\r\n\r\n  /**\r\n   * Handle photo deletion\r\n   * Calls deletePhoto action from store with user ID\r\n   */\r\n  const handleDelete = async () => {\r\n    await deletePhoto(user.userId);\r\n  };\r\n\r\n  return (\r\n    <section role=\"region\" aria-labelledby=\"profile-photo-heading\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle id=\"profile-photo-heading\" style={{ color: '#8B1538' }}>Profile Photo</CardTitle>\r\n          <CardDescription>\r\n            Upload a photo to personalize your profile and help others recognize you\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <PhotoUploadWidget\r\n            currentPhotoUrl={currentPhotoUrl}\r\n            onUpload={handleUpload}\r\n            onDelete={handleDelete}\r\n            isLoading={isLoading}\r\n            error={photoError || undefined}\r\n            maxSizeMB={5}\r\n            acceptedFormats={['image/jpeg', 'image/jpg', 'image/png', 'image/webp']}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AAoBO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,GAAG,IAAA,4JAAY;IAC9C,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,IAAA,kKAAe;IAEnF,oCAAoC;IACpC,IAAI,CAAC,mBAAmB,CAAC,MAAM;QAC7B,OAAO;IACT;IAEA,MAAM,kBAAkB,SAAS,mBAAmB;IACpD,MAAM,YAAY,cAAc,KAAK,KAAK;IAC1C,MAAM,aAAa,cAAc,KAAK,KAAK,UAAU,QAAQ;IAE7D;;;GAGC,GACD,MAAM,eAAe,OAAO;QAC1B,MAAM,YAAY,KAAK,MAAM,EAAE;IACjC;IAEA;;;GAGC,GACD,MAAM,eAAe;QACnB,MAAM,YAAY,KAAK,MAAM;IAC/B;IAEA,qBACE,8OAAC;QAAQ,MAAK;QAAS,mBAAgB;kBACrC,cAAA,8OAAC,wJAAI;;8BACH,8OAAC,8JAAU;;sCACT,8OAAC,6JAAS;4BAAC,IAAG;4BAAwB,OAAO;gCAAE,OAAO;4BAAU;sCAAG;;;;;;sCACnE,8OAAC,mKAAe;sCAAC;;;;;;;;;;;;8BAInB,8OAAC,+JAAW;8BACV,cAAA,8OAAC,uLAAiB;wBAChB,iBAAiB;wBACjB,UAAU;wBACV,UAAU;wBACV,WAAW;wBACX,OAAO,cAAc;wBACrB,WAAW;wBACX,iBAAiB;4BAAC;4BAAc;4BAAa;4BAAa;yBAAa;;;;;;;;;;;;;;;;;;;;;;AAMnF","debugId":null}},
    {"offset": {"line": 1717, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/Input.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  error?: boolean;\r\n}\r\n\r\n/**\r\n * Input Component\r\n * Reusable input component with error states and accessibility\r\n * Follows UI/UX best practices\r\n */\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type = 'text', error, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n          error && 'border-destructive focus-visible:ring-destructive',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        aria-invalid={error ? 'true' : undefined}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nInput.displayName = 'Input';\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA;;;;CAIC,GACD,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IAC9C,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yIAAE,EACX,gWACA,SAAS,qDACT;QAEF,KAAK;QACL,gBAAc,QAAQ,SAAS;QAC9B,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1750, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/domain/constants/profile.constants.ts"],"sourcesContent":["/**\r\n * Profile Constants\r\n *\r\n * Constants for cultural interests, languages, and proficiency levels\r\n * Matches backend CulturalInterest, LanguageCode, and ProficiencyLevel enums\r\n */\r\n\r\nimport type { ProficiencyLevel } from '../models/UserProfile';\r\n\r\n/**\r\n * Cultural Interests (20 predefined interests)\r\n * Code matches backend CulturalInterest.Code\r\n */\r\nexport interface CulturalInterestOption {\r\n  code: string;\r\n  name: string;\r\n}\r\n\r\nexport const CULTURAL_INTERESTS: readonly CulturalInterestOption[] = [\r\n  { code: 'SL_CUISINE', name: 'Sri Lankan Cuisine' },\r\n  { code: 'BUDDHIST_FEST', name: 'Buddhist Festivals & Traditions' },\r\n  { code: 'HINDU_FEST', name: 'Hindu Festivals & Traditions' },\r\n  { code: 'ISLAMIC_FEST', name: 'Islamic Festivals & Traditions' },\r\n  { code: 'CHRISTIAN_FEST', name: 'Christian Festivals & Traditions' },\r\n  { code: 'TRAD_DANCE', name: 'Traditional Dance (Kandyan, Sabaragamuwa, Low Country)' },\r\n  { code: 'CRICKET', name: 'Cricket & Sports' },\r\n  { code: 'AYURVEDA', name: 'Ayurvedic Medicine & Wellness' },\r\n  { code: 'SINHALA_MUSIC', name: 'Sinhala Music & Arts' },\r\n  { code: 'TAMIL_MUSIC', name: 'Tamil Music & Arts' },\r\n  { code: 'VESAK', name: 'Vesak & Poson Celebrations' },\r\n  { code: 'SINHALA_NY', name: 'Sinhala & Tamil New Year (Aluth Avurudda)' },\r\n  { code: 'TEA_CULTURE', name: 'Ceylon Tea Culture' },\r\n  { code: 'TRAD_ARTS', name: 'Traditional Arts & Crafts (Masks, Batik, Pottery)' },\r\n  { code: 'SL_WEDDINGS', name: 'Sri Lankan Wedding Traditions' },\r\n  { code: 'TEMPLE_ARCH', name: 'Temple Architecture & Heritage Sites' },\r\n  { code: 'SL_LITERATURE', name: 'Sinhala/Tamil Literature & Poetry' },\r\n  { code: 'TRAD_GAMES', name: 'Traditional Games (Elle, Ankeliya)' },\r\n  { code: 'SL_FASHION', name: 'Traditional Dress & Fashion (Saree, Sarong)' },\r\n  { code: 'DIASPORA_NET', name: 'Diaspora Community & Networking' },\r\n] as const;\r\n\r\n/**\r\n * Supported Languages (20 languages with ISO 639 codes)\r\n * Code matches backend LanguageCode.Code\r\n */\r\nexport interface LanguageOption {\r\n  code: string;\r\n  name: string;\r\n  nativeName: string;\r\n}\r\n\r\nexport const SUPPORTED_LANGUAGES: readonly LanguageOption[] = [\r\n  // Sri Lankan languages first (priority)\r\n  { code: 'si', name: 'Sinhala', nativeName: '' },\r\n  { code: 'ta', name: 'Tamil', nativeName: '' },\r\n  { code: 'en', name: 'English', nativeName: 'English' },\r\n\r\n  // Major South Asian languages\r\n  { code: 'hi', name: 'Hindi', nativeName: '' },\r\n  { code: 'bn', name: 'Bengali', nativeName: '' },\r\n  { code: 'ur', name: 'Urdu', nativeName: '' },\r\n  { code: 'pa', name: 'Punjabi', nativeName: '' },\r\n  { code: 'gu', name: 'Gujarati', nativeName: '' },\r\n  { code: 'ml', name: 'Malayalam', nativeName: '' },\r\n  { code: 'kn', name: 'Kannada', nativeName: '' },\r\n  { code: 'te', name: 'Telugu', nativeName: '' },\r\n  { code: 'mr', name: 'Marathi', nativeName: '' },\r\n\r\n  // International languages (for diaspora)\r\n  { code: 'ar', name: 'Arabic', nativeName: '' },\r\n  { code: 'fr', name: 'French', nativeName: 'Franais' },\r\n  { code: 'de', name: 'German', nativeName: 'Deutsch' },\r\n  { code: 'es', name: 'Spanish', nativeName: 'Espaol' },\r\n  { code: 'it', name: 'Italian', nativeName: 'Italiano' },\r\n  { code: 'pt', name: 'Portuguese', nativeName: 'Portugus' },\r\n  { code: 'nl', name: 'Dutch', nativeName: 'Nederlands' },\r\n  { code: 'sv', name: 'Swedish', nativeName: 'Svenska' },\r\n] as const;\r\n\r\n/**\r\n * Proficiency Level Options\r\n * Matches backend ProficiencyLevel enum (4-level scale)\r\n */\r\nexport interface ProficiencyLevelOption {\r\n  value: ProficiencyLevel;\r\n  label: string;\r\n  description: string;\r\n}\r\n\r\nexport const PROFICIENCY_LEVELS: readonly ProficiencyLevelOption[] = [\r\n  {\r\n    value: 'Basic',\r\n    label: 'Basic',\r\n    description: 'Can understand and use familiar everyday expressions',\r\n  },\r\n  {\r\n    value: 'Intermediate',\r\n    label: 'Intermediate',\r\n    description: 'Can handle routine work/social situations',\r\n  },\r\n  {\r\n    value: 'Advanced',\r\n    label: 'Advanced',\r\n    description: 'Can express ideas fluently and spontaneously',\r\n  },\r\n  {\r\n    value: 'Native',\r\n    label: 'Native/Near-Native',\r\n    description: 'Complete mastery of the language',\r\n  },\r\n] as const;\r\n\r\n/**\r\n * Validation Constraints (matches backend validation)\r\n */\r\nexport const PROFILE_CONSTRAINTS = {\r\n  location: {\r\n    cityMaxLength: 100,\r\n    stateMaxLength: 100,\r\n    zipCodeMaxLength: 20,\r\n    countryMaxLength: 100,\r\n  },\r\n  culturalInterests: {\r\n    min: 0, // Optional\r\n    max: 10, // Maximum 10 interests\r\n  },\r\n  languages: {\r\n    min: 1, // At least 1 language required\r\n    max: 5, // Maximum 5 languages\r\n  },\r\n  preferredMetroAreas: {\r\n    min: 0, // Optional (privacy choice)\r\n    max: 20, // Maximum 20 metro areas (Phase 5B: Expanded from 10)\r\n  },\r\n} as const;\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;AAaM,MAAM,qBAAwD;IACnE;QAAE,MAAM;QAAc,MAAM;IAAqB;IACjD;QAAE,MAAM;QAAiB,MAAM;IAAkC;IACjE;QAAE,MAAM;QAAc,MAAM;IAA+B;IAC3D;QAAE,MAAM;QAAgB,MAAM;IAAiC;IAC/D;QAAE,MAAM;QAAkB,MAAM;IAAmC;IACnE;QAAE,MAAM;QAAc,MAAM;IAAyD;IACrF;QAAE,MAAM;QAAW,MAAM;IAAmB;IAC5C;QAAE,MAAM;QAAY,MAAM;IAAgC;IAC1D;QAAE,MAAM;QAAiB,MAAM;IAAuB;IACtD;QAAE,MAAM;QAAe,MAAM;IAAqB;IAClD;QAAE,MAAM;QAAS,MAAM;IAA6B;IACpD;QAAE,MAAM;QAAc,MAAM;IAA4C;IACxE;QAAE,MAAM;QAAe,MAAM;IAAqB;IAClD;QAAE,MAAM;QAAa,MAAM;IAAoD;IAC/E;QAAE,MAAM;QAAe,MAAM;IAAgC;IAC7D;QAAE,MAAM;QAAe,MAAM;IAAuC;IACpE;QAAE,MAAM;QAAiB,MAAM;IAAoC;IACnE;QAAE,MAAM;QAAc,MAAM;IAAqC;IACjE;QAAE,MAAM;QAAc,MAAM;IAA8C;IAC1E;QAAE,MAAM;QAAgB,MAAM;IAAkC;CACjE;AAYM,MAAM,sBAAiD;IAC5D,wCAAwC;IACxC;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAQ;IACnD;QAAE,MAAM;QAAM,MAAM;QAAS,YAAY;IAAQ;IACjD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAU;IAErD,8BAA8B;IAC9B;QAAE,MAAM;QAAM,MAAM;QAAS,YAAY;IAAS;IAClD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAQ;IACnD;QAAE,MAAM;QAAM,MAAM;QAAQ,YAAY;IAAO;IAC/C;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAS;IACpD;QAAE,MAAM;QAAM,MAAM;QAAY,YAAY;IAAU;IACtD;QAAE,MAAM;QAAM,MAAM;QAAa,YAAY;IAAS;IACtD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAQ;IACnD;QAAE,MAAM;QAAM,MAAM;QAAU,YAAY;IAAS;IACnD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAQ;IAEnD,yCAAyC;IACzC;QAAE,MAAM;QAAM,MAAM;QAAU,YAAY;IAAU;IACpD;QAAE,MAAM;QAAM,MAAM;QAAU,YAAY;IAAW;IACrD;QAAE,MAAM;QAAM,MAAM;QAAU,YAAY;IAAU;IACpD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAU;IACrD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAW;IACtD;QAAE,MAAM;QAAM,MAAM;QAAc,YAAY;IAAY;IAC1D;QAAE,MAAM;QAAM,MAAM;QAAS,YAAY;IAAa;IACtD;QAAE,MAAM;QAAM,MAAM;QAAW,YAAY;IAAU;CACtD;AAYM,MAAM,qBAAwD;IACnE;QACE,OAAO;QACP,OAAO;QACP,aAAa;IACf;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;IACf;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;IACf;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;IACf;CACD;AAKM,MAAM,sBAAsB;IACjC,UAAU;QACR,eAAe;QACf,gBAAgB;QAChB,kBAAkB;QAClB,kBAAkB;IACpB;IACA,mBAAmB;QACjB,KAAK;QACL,KAAK;IACP;IACA,WAAW;QACT,KAAK;QACL,KAAK;IACP;IACA,qBAAqB;QACnB,KAAK;QACL,KAAK;IACP;AACF","debugId":null}},
    {"offset": {"line": 1998, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/profile/LocationSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/presentation/components/ui/Card';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { Input } from '@/presentation/components/ui/Input';\r\nimport { PROFILE_CONSTRAINTS } from '@/domain/constants/profile.constants';\r\nimport { Check, MapPin } from 'lucide-react';\r\n\r\n/**\r\n * LocationSection Component\r\n *\r\n * Manages user location information (City, State, ZipCode, Country)\r\n * - View mode: Display current location or \"Not set\"\r\n * - Edit mode: Form with validation for all 4 fields\r\n * - Integrates with useProfileStore for state and API calls\r\n * - Shows loading/success/error states\r\n *\r\n * Follows ProfilePhotoSection pattern for consistency\r\n */\r\nexport function LocationSection() {\r\n  const { user, isAuthenticated } = useAuthStore();\r\n  const { profile, error, sectionStates, updateLocation } = useProfileStore();\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    city: '',\r\n    state: '',\r\n    zipCode: '',\r\n    country: '',\r\n  });\r\n  const [validationErrors, setValidationErrors] = useState<Record<string, string>>({});\r\n\r\n  // Don't render if not authenticated\r\n  if (!isAuthenticated || !user) {\r\n    return null;\r\n  }\r\n\r\n  const currentLocation = profile?.location;\r\n  const isLoading = sectionStates.location === 'saving';\r\n  const isSuccess = sectionStates.location === 'success';\r\n  const isError = sectionStates.location === 'error';\r\n\r\n  /**\r\n   * Start editing mode\r\n   * Pre-fill form with current location or empty strings\r\n   */\r\n  const handleEdit = () => {\r\n    setFormData({\r\n      city: currentLocation?.city || '',\r\n      state: currentLocation?.state || '',\r\n      zipCode: currentLocation?.zipCode || '',\r\n      country: currentLocation?.country || '',\r\n    });\r\n    setValidationErrors({});\r\n    setIsEditing(true);\r\n  };\r\n\r\n  /**\r\n   * Cancel editing\r\n   * Reset form and return to view mode\r\n   */\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setValidationErrors({});\r\n  };\r\n\r\n  /**\r\n   * Validate form data\r\n   * Returns true if valid, false otherwise\r\n   */\r\n  const validateForm = (): boolean => {\r\n    const errors: Record<string, string> = {};\r\n\r\n    // City validation\r\n    if (!formData.city.trim()) {\r\n      errors.city = 'City is required';\r\n    } else if (formData.city.length > PROFILE_CONSTRAINTS.location.cityMaxLength) {\r\n      errors.city = `City cannot exceed ${PROFILE_CONSTRAINTS.location.cityMaxLength} characters`;\r\n    }\r\n\r\n    // State validation\r\n    if (!formData.state.trim()) {\r\n      errors.state = 'State is required';\r\n    } else if (formData.state.length > PROFILE_CONSTRAINTS.location.stateMaxLength) {\r\n      errors.state = `State cannot exceed ${PROFILE_CONSTRAINTS.location.stateMaxLength} characters`;\r\n    }\r\n\r\n    // Zip code validation\r\n    if (!formData.zipCode.trim()) {\r\n      errors.zipCode = 'Zip code is required';\r\n    } else if (formData.zipCode.length > PROFILE_CONSTRAINTS.location.zipCodeMaxLength) {\r\n      errors.zipCode = `Zip code cannot exceed ${PROFILE_CONSTRAINTS.location.zipCodeMaxLength} characters`;\r\n    }\r\n\r\n    // Country validation\r\n    if (!formData.country.trim()) {\r\n      errors.country = 'Country is required';\r\n    } else if (formData.country.length > PROFILE_CONSTRAINTS.location.countryMaxLength) {\r\n      errors.country = `Country cannot exceed ${PROFILE_CONSTRAINTS.location.countryMaxLength} characters`;\r\n    }\r\n\r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  /**\r\n   * Handle form submission\r\n   * Validate and call API\r\n   */\r\n  const handleSave = async () => {\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await updateLocation(user.userId, {\r\n        city: formData.city.trim(),\r\n        state: formData.state.trim(),\r\n        zipCode: formData.zipCode.trim(),\r\n        country: formData.country.trim(),\r\n      });\r\n      // Exit edit mode on success (store sets state to 'success')\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      // Error state is handled by the store\r\n      // Keep editing mode open so user can retry\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle input change\r\n   * Update form data and clear validation error for that field\r\n   */\r\n  const handleInputChange = (field: keyof typeof formData, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }));\r\n\r\n    // Clear validation error for this field\r\n    if (validationErrors[field]) {\r\n      setValidationErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section role=\"region\" aria-labelledby=\"location-heading\">\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\r\n              <CardTitle id=\"location-heading\" style={{ color: '#8B1538' }}>Location</CardTitle>\r\n            </div>\r\n            {!isEditing && (\r\n              <Button\r\n                onClick={handleEdit}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                disabled={isLoading}\r\n                style={{ borderColor: '#FF7900', color: '#8B1538' }}\r\n              >\r\n                Edit\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <CardDescription>\r\n            Help others in the community find you by sharing your location\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {!isEditing ? (\r\n            // View Mode\r\n            <div className=\"space-y-2\">\r\n              {currentLocation ? (\r\n                <div className=\"text-sm\">\r\n                  <p className=\"font-medium text-foreground\">\r\n                    {currentLocation.city}, {currentLocation.state} {currentLocation.zipCode}\r\n                  </p>\r\n                  <p className=\"text-muted-foreground\">{currentLocation.country}</p>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-muted-foreground italic\">\r\n                  Not set - Click Edit to add your location\r\n                </p>\r\n              )}\r\n\r\n              {/* Success message */}\r\n              {isSuccess && (\r\n                <div className=\"flex items-center gap-2 text-sm\" style={{ color: '#006400' }}>\r\n                  <Check className=\"h-4 w-4\" />\r\n                  <span>Location saved successfully!</span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Error message */}\r\n              {isError && error && (\r\n                <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                  {error}\r\n                </p>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // Edit Mode\r\n            <div className=\"space-y-4\">\r\n              {/* City */}\r\n              <div>\r\n                <label htmlFor=\"city\" className=\"block text-sm font-medium mb-1\">\r\n                  City *\r\n                </label>\r\n                <Input\r\n                  id=\"city\"\r\n                  type=\"text\"\r\n                  value={formData.city}\r\n                  onChange={(e) => handleInputChange('city', e.target.value)}\r\n                  placeholder=\"e.g., Toronto\"\r\n                  disabled={isLoading}\r\n                  error={!!validationErrors.city}\r\n                  aria-label=\"City\"\r\n                  aria-invalid={!!validationErrors.city}\r\n                  aria-describedby={validationErrors.city ? 'city-error' : undefined}\r\n                  maxLength={PROFILE_CONSTRAINTS.location.cityMaxLength}\r\n                />\r\n                {validationErrors.city && (\r\n                  <p id=\"city-error\" className=\"text-sm text-destructive mt-1\" role=\"alert\">\r\n                    {validationErrors.city}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* State/Province */}\r\n              <div>\r\n                <label htmlFor=\"state\" className=\"block text-sm font-medium mb-1\">\r\n                  State/Province *\r\n                </label>\r\n                <Input\r\n                  id=\"state\"\r\n                  type=\"text\"\r\n                  value={formData.state}\r\n                  onChange={(e) => handleInputChange('state', e.target.value)}\r\n                  placeholder=\"e.g., Ontario\"\r\n                  disabled={isLoading}\r\n                  error={!!validationErrors.state}\r\n                  aria-label=\"State/Province\"\r\n                  aria-invalid={!!validationErrors.state}\r\n                  aria-describedby={validationErrors.state ? 'state-error' : undefined}\r\n                  maxLength={PROFILE_CONSTRAINTS.location.stateMaxLength}\r\n                />\r\n                {validationErrors.state && (\r\n                  <p id=\"state-error\" className=\"text-sm text-destructive mt-1\" role=\"alert\">\r\n                    {validationErrors.state}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Zip/Postal Code */}\r\n              <div>\r\n                <label htmlFor=\"zipCode\" className=\"block text-sm font-medium mb-1\">\r\n                  Zip/Postal Code *\r\n                </label>\r\n                <Input\r\n                  id=\"zipCode\"\r\n                  type=\"text\"\r\n                  value={formData.zipCode}\r\n                  onChange={(e) => handleInputChange('zipCode', e.target.value)}\r\n                  placeholder=\"e.g., M5H 2N2\"\r\n                  disabled={isLoading}\r\n                  error={!!validationErrors.zipCode}\r\n                  aria-label=\"Zip/Postal Code\"\r\n                  aria-invalid={!!validationErrors.zipCode}\r\n                  aria-describedby={validationErrors.zipCode ? 'zipCode-error' : undefined}\r\n                  maxLength={PROFILE_CONSTRAINTS.location.zipCodeMaxLength}\r\n                />\r\n                {validationErrors.zipCode && (\r\n                  <p id=\"zipCode-error\" className=\"text-sm text-destructive mt-1\" role=\"alert\">\r\n                    {validationErrors.zipCode}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Country */}\r\n              <div>\r\n                <label htmlFor=\"country\" className=\"block text-sm font-medium mb-1\">\r\n                  Country *\r\n                </label>\r\n                <Input\r\n                  id=\"country\"\r\n                  type=\"text\"\r\n                  value={formData.country}\r\n                  onChange={(e) => handleInputChange('country', e.target.value)}\r\n                  placeholder=\"e.g., Canada\"\r\n                  disabled={isLoading}\r\n                  error={!!validationErrors.country}\r\n                  aria-label=\"Country\"\r\n                  aria-invalid={!!validationErrors.country}\r\n                  aria-describedby={validationErrors.country ? 'country-error' : undefined}\r\n                  maxLength={PROFILE_CONSTRAINTS.location.countryMaxLength}\r\n                />\r\n                {validationErrors.country && (\r\n                  <p id=\"country-error\" className=\"text-sm text-destructive mt-1\" role=\"alert\">\r\n                    {validationErrors.country}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Error message */}\r\n              {isError && error && (\r\n                <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                  {error}\r\n                </p>\r\n              )}\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3 pt-2\">\r\n                <Button\r\n                  onClick={handleSave}\r\n                  disabled={isLoading}\r\n                  className=\"flex-1 text-white\"\r\n                  style={{ background: '#FF7900' }}\r\n                >\r\n                  {isLoading ? 'Saving...' : 'Save Location'}\r\n                </Button>\r\n                <Button\r\n                  onClick={handleCancel}\r\n                  variant=\"outline\"\r\n                  disabled={isLoading}\r\n                  className=\"flex-1\"\r\n                  style={{ borderColor: '#8B1538', color: '#8B1538' }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2543, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/profile/CulturalInterestsSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/presentation/components/ui/Card';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { CULTURAL_INTERESTS, PROFILE_CONSTRAINTS } from '@/domain/constants/profile.constants';\r\nimport { Check, Heart, X } from 'lucide-react';\r\n\r\n/**\r\n * CulturalInterestsSection Component\r\n *\r\n * Manages user's cultural interests (0-10 from predefined list)\r\n * - View mode: Display selected interests as badges\r\n * - Edit mode: Multi-select checkboxes\r\n * - Integrates with useProfileStore for state and API calls\r\n * - Shows loading/success/error states\r\n *\r\n * Follows ProfilePhotoSection pattern for consistency\r\n */\r\nexport function CulturalInterestsSection() {\r\n  const { user, isAuthenticated } = useAuthStore();\r\n  const { profile, error, sectionStates, updateCulturalInterests } = useProfileStore();\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [selectedInterests, setSelectedInterests] = useState<string[]>([]);\r\n  const [validationError, setValidationError] = useState<string>('');\r\n\r\n  // Don't render if not authenticated\r\n  if (!isAuthenticated || !user) {\r\n    return null;\r\n  }\r\n\r\n  const currentInterests = profile?.culturalInterests || [];\r\n  const isLoading = sectionStates.culturalInterests === 'saving';\r\n  const isSuccess = sectionStates.culturalInterests === 'success';\r\n  const isError = sectionStates.culturalInterests === 'error';\r\n\r\n  /**\r\n   * Start editing mode\r\n   * Pre-fill with current interests\r\n   */\r\n  const handleEdit = () => {\r\n    setSelectedInterests([...currentInterests]);\r\n    setValidationError('');\r\n    setIsEditing(true);\r\n  };\r\n\r\n  /**\r\n   * Cancel editing\r\n   */\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setValidationError('');\r\n  };\r\n\r\n  /**\r\n   * Toggle interest selection\r\n   */\r\n  const handleToggleInterest = (code: string) => {\r\n    setSelectedInterests((prev) => {\r\n      if (prev.includes(code)) {\r\n        // Remove\r\n        return prev.filter((c) => c !== code);\r\n      } else {\r\n        // Add (check max limit)\r\n        if (prev.length >= PROFILE_CONSTRAINTS.culturalInterests.max) {\r\n          setValidationError(\r\n            `You can select up to ${PROFILE_CONSTRAINTS.culturalInterests.max} interests`\r\n          );\r\n          return prev;\r\n        }\r\n        setValidationError('');\r\n        return [...prev, code];\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Handle form submission\r\n   */\r\n  const handleSave = async () => {\r\n    // Validate (0-10 allowed)\r\n    if (selectedInterests.length > PROFILE_CONSTRAINTS.culturalInterests.max) {\r\n      setValidationError(\r\n        `Maximum ${PROFILE_CONSTRAINTS.culturalInterests.max} interests allowed`\r\n      );\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await updateCulturalInterests(user.userId, {\r\n        culturalInterests: selectedInterests,\r\n      });\r\n      // Exit edit mode on success (store sets state to 'success')\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      // Error state is handled by the store\r\n      // Keep editing mode open so user can retry\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section role=\"region\" aria-labelledby=\"cultural-interests-heading\">\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Heart className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\r\n              <CardTitle id=\"cultural-interests-heading\" style={{ color: '#8B1538' }}>Cultural Interests</CardTitle>\r\n            </div>\r\n            {!isEditing && (\r\n              <Button\r\n                onClick={handleEdit}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                disabled={isLoading}\r\n                style={{ borderColor: '#FF7900', color: '#8B1538' }}\r\n              >\r\n                Edit\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <CardDescription>\r\n            Share your cultural interests to connect with others (select 0-{PROFILE_CONSTRAINTS.culturalInterests.max})\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {!isEditing ? (\r\n            // View Mode\r\n            <div className=\"space-y-2\">\r\n              {currentInterests.length > 0 ? (\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {currentInterests.map((code) => {\r\n                    const interest = CULTURAL_INTERESTS.find((i) => i.code === code);\r\n                    return interest ? (\r\n                      <span\r\n                        key={code}\r\n                        className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\"\r\n                        style={{ background: '#FFE8CC', color: '#8B1538' }}\r\n                      >\r\n                        {interest.name}\r\n                      </span>\r\n                    ) : null;\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-muted-foreground italic\">\r\n                  No interests selected - Click Edit to add your cultural interests\r\n                </p>\r\n              )}\r\n\r\n              {/* Success message */}\r\n              {isSuccess && (\r\n                <div className=\"flex items-center gap-2 text-sm\" style={{ color: '#006400' }}>\r\n                  <Check className=\"h-4 w-4\" />\r\n                  <span>Cultural interests saved successfully!</span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Error message */}\r\n              {isError && error && (\r\n                <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                  {error}\r\n                </p>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // Edit Mode\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                {CULTURAL_INTERESTS.map((interest) => {\r\n                  const isSelected = selectedInterests.includes(interest.code);\r\n                  return (\r\n                    <label\r\n                      key={interest.code}\r\n                      className={`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${\r\n                        isLoading ? 'opacity-50 cursor-not-allowed' : ''\r\n                      }`}\r\n                      style={{\r\n                        background: isSelected ? '#FFE8CC' : 'white',\r\n                        borderColor: isSelected ? '#FF7900' : '#e2e8f0'\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={isSelected}\r\n                        onChange={() => handleToggleInterest(interest.code)}\r\n                        disabled={isLoading}\r\n                        className=\"mt-1 h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"\r\n                        aria-label={interest.name}\r\n                      />\r\n                      <span className=\"text-sm flex-1\">{interest.name}</span>\r\n                    </label>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Selected count */}\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {selectedInterests.length} of {PROFILE_CONSTRAINTS.culturalInterests.max} selected\r\n              </p>\r\n\r\n              {/* Validation error */}\r\n              {validationError && (\r\n                <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                  {validationError}\r\n                </p>\r\n              )}\r\n\r\n              {/* API error */}\r\n              {isError && error && (\r\n                <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                  {error}\r\n                </p>\r\n              )}\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3 pt-2\">\r\n                <Button\r\n                  onClick={handleSave}\r\n                  disabled={isLoading}\r\n                  className=\"flex-1 text-white\"\r\n                  style={{ background: '#FF7900' }}\r\n                >\r\n                  {isLoading ? 'Saving...' : 'Save Interests'}\r\n                </Button>\r\n                <Button\r\n                  onClick={handleCancel}\r\n                  variant=\"outline\"\r\n                  disabled={isLoading}\r\n                  className=\"flex-1\"\r\n                  style={{ borderColor: '#8B1538', color: '#8B1538' }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2929, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/ui/TreeDropdown.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { ChevronDown, ChevronRight, Check } from 'lucide-react';\n\n/**\n * Tree node structure for hierarchical data\n */\nexport interface TreeNode {\n  id: string;\n  label: string;\n  checked: boolean;\n  children?: TreeNode[];\n}\n\n/**\n * TreeDropdown Props\n */\nexport interface TreeDropdownProps {\n  /** Tree data structure */\n  nodes: TreeNode[];\n  /** Selected node IDs */\n  selectedIds: string[];\n  /** Callback when selection changes */\n  onSelectionChange: (selectedIds: string[]) => void;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Maximum number of selections allowed */\n  maxSelections?: number;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Custom styling */\n  className?: string;\n}\n\n/**\n * TreeDropdown Component\n * Phase 6A.9: Tree structure dropdown for hierarchical selections\n *\n * Features:\n * - Hierarchical tree structure with expand/collapse\n * - Multi-select with checkboxes\n * - Max selection limit\n * - Keyboard accessible\n * - ARIA compliant\n */\nexport function TreeDropdown({\n  nodes,\n  selectedIds,\n  onSelectionChange,\n  placeholder = 'Select items',\n  maxSelections,\n  disabled = false,\n  className = '',\n}: TreeDropdownProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [expandedNodes, setExpandedNodes] = useState<Set<string>>(new Set());\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  const toggleNode = (nodeId: string) => {\n    const newExpanded = new Set(expandedNodes);\n    if (newExpanded.has(nodeId)) {\n      newExpanded.delete(nodeId);\n    } else {\n      newExpanded.add(nodeId);\n    }\n    setExpandedNodes(newExpanded);\n  };\n\n  const toggleSelection = (nodeId: string) => {\n    const newSelected = new Set(selectedIds);\n\n    if (newSelected.has(nodeId)) {\n      newSelected.delete(nodeId);\n    } else {\n      // Check max selections\n      if (maxSelections && newSelected.size >= maxSelections) {\n        return; // Don't add if max reached\n      }\n      newSelected.add(nodeId);\n    }\n\n    onSelectionChange(Array.from(newSelected));\n  };\n\n  const renderTreeNode = (node: TreeNode, level: number = 0) => {\n    const hasChildren = node.children && node.children.length > 0;\n    const isExpanded = expandedNodes.has(node.id);\n    const isSelected = selectedIds.includes(node.id);\n    const indentClass = level > 0 ? `ml-${level * 6}` : '';\n\n    return (\n      <div key={node.id}>\n        <div\n          className={`flex items-center gap-2 px-3 py-2 hover:bg-gray-50 cursor-pointer ${indentClass}`}\n          style={{ paddingLeft: `${level * 24 + 12}px` }}\n        >\n          {/* Expand/Collapse button for parent nodes */}\n          {hasChildren ? (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleNode(node.id);\n              }}\n              className=\"p-0.5 hover:bg-gray-200 rounded\"\n              aria-label={isExpanded ? 'Collapse' : 'Expand'}\n            >\n              {isExpanded ? (\n                <ChevronDown className=\"h-4 w-4\" style={{ color: '#FF7900' }} />\n              ) : (\n                <ChevronRight className=\"h-4 w-4\" style={{ color: '#FF7900' }} />\n              )}\n            </button>\n          ) : (\n            <span className=\"w-5\" /> // Spacer for alignment\n          )}\n\n          {/* Checkbox */}\n          <label\n            className=\"flex items-center gap-2 flex-1 cursor-pointer\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <input\n              type=\"checkbox\"\n              checked={isSelected}\n              onChange={() => toggleSelection(node.id)}\n              disabled={disabled}\n              className=\"h-4 w-4 rounded border-gray-300 focus:ring-2 focus:ring-offset-0\"\n              style={{\n                accentColor: '#FF7900',\n              }}\n            />\n            <span className=\"text-sm\">{node.label}</span>\n            {isSelected && (\n              <Check className=\"h-3.5 w-3.5 ml-auto\" style={{ color: '#006400' }} />\n            )}\n          </label>\n        </div>\n\n        {/* Render children if expanded */}\n        {hasChildren && isExpanded && (\n          <div>\n            {node.children!.map((child) => renderTreeNode(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const selectedCount = selectedIds.length;\n  const displayText =\n    selectedCount === 0\n      ? placeholder\n      : `${selectedCount} ${selectedCount === 1 ? 'item' : 'items'} selected`;\n\n  return (\n    <div ref={dropdownRef} className={`relative ${className}`}>\n      {/* Dropdown trigger */}\n      <button\n        type=\"button\"\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        disabled={disabled}\n        className=\"w-full flex items-center justify-between px-4 py-2 bg-white border-2 rounded-lg text-sm transition-colors hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n        style={{\n          borderColor: isOpen ? '#FF7900' : '#e2e8f0',\n        }}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n      >\n        <span className={selectedCount === 0 ? 'text-gray-500' : 'text-gray-900'}>\n          {displayText}\n        </span>\n        <ChevronDown\n          className={`h-4 w-4 transition-transform ${isOpen ? 'rotate-180' : ''}`}\n          style={{ color: '#8B1538' }}\n        />\n      </button>\n\n      {/* Dropdown menu */}\n      {isOpen && (\n        <div\n          className=\"absolute z-50 w-full mt-2 bg-white border-2 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n          style={{ borderColor: '#FF7900' }}\n          role=\"listbox\"\n        >\n          {nodes.length === 0 ? (\n            <div className=\"px-4 py-3 text-sm text-gray-500 text-center\">\n              No items available\n            </div>\n          ) : (\n            <div className=\"py-1\">\n              {nodes.map((node) => renderTreeNode(node))}\n            </div>\n          )}\n\n          {/* Selection count footer with Done button */}\n          <div\n            className=\"px-4 py-2 border-t bg-gray-50 flex items-center justify-between\"\n            style={{ borderColor: '#e2e8f0' }}\n          >\n            {maxSelections && (\n              <span className=\"text-xs text-gray-600\">\n                {selectedCount} of {maxSelections} selected\n              </span>\n            )}\n            <button\n              type=\"button\"\n              onClick={() => setIsOpen(false)}\n              className=\"px-3 py-1 text-xs font-medium text-white rounded hover:opacity-90 transition-opacity\"\n              style={{ backgroundColor: '#FF7900' }}\n            >\n              Done\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/repositories/metro-areas.repository.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\n\n/**\n * Metro Area Response DTO from API\n * Matches backend MetroAreaDto structure\n */\nexport interface MetroAreaDto {\n  id: string;\n  name: string;\n  state: string;\n  centerLatitude: number;\n  centerLongitude: number;\n  radiusMiles: number;\n  isStateLevelArea: boolean;\n  isActive: boolean;\n}\n\n/**\n * Metro Areas Repository\n * Handles all metro area-related API calls\n * Phase 6A.9: Fix for hardcoded metro area IDs\n */\nexport const metroAreasRepository = {\n  /**\n   * Get all active metro areas\n   * Endpoint: GET /api/metro-areas?activeOnly=true\n   */\n  async getAll(activeOnly: boolean = true): Promise<MetroAreaDto[]> {\n    const data = await apiClient.get<MetroAreaDto[]>('/metro-areas', {\n      params: { activeOnly },\n    });\n    return data;\n  },\n\n  /**\n   * Get metro areas by state\n   * Client-side filtering of all metros by state code\n   */\n  async getByState(stateCode: string): Promise<MetroAreaDto[]> {\n    const allMetros = await this.getAll();\n    return allMetros.filter(metro => metro.state === stateCode);\n  },\n\n  /**\n   * Get a single metro area by ID\n   * Client-side lookup from all metros\n   */\n  async getById(id: string): Promise<MetroAreaDto | undefined> {\n    const allMetros = await this.getAll();\n    return allMetros.find(metro => metro.id === id);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAsBO,MAAM,uBAAuB;IAClC;;;GAGC,GACD,MAAM,QAAO,aAAsB,IAAI;QACrC,MAAM,OAAO,MAAM,oKAAS,CAAC,GAAG,CAAiB,gBAAgB;YAC/D,QAAQ;gBAAE;YAAW;QACvB;QACA,OAAO;IACT;IAEA;;;GAGC,GACD,MAAM,YAAW,SAAiB;QAChC,MAAM,YAAY,MAAM,IAAI,CAAC,MAAM;QACnC,OAAO,UAAU,MAAM,CAAC,CAAA,QAAS,MAAM,KAAK,KAAK;IACnD;IAEA;;;GAGC,GACD,MAAM,SAAQ,EAAU;QACtB,MAAM,YAAY,MAAM,IAAI,CAAC,MAAM;QACnC,OAAO,UAAU,IAAI,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK;IAC9C;AACF","debugId":null}},
    {"offset": {"line": 3249, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/hooks/useMetroAreas.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { metroAreasRepository, MetroAreaDto } from '@/infrastructure/api/repositories/metro-areas.repository';\n\n/**\n * Metro Areas State for UI\n * Includes grouped and sorted data for UI rendering\n */\nexport interface MetroAreasState {\n  /** All metro areas loaded from API */\n  metroAreas: MetroAreaDto[];\n\n  /** Metro areas grouped by state for dropdown rendering */\n  metroAreasByState: Map<string, MetroAreaDto[]>;\n\n  /** State-level metros only (All [State]) */\n  stateLevelMetros: MetroAreaDto[];\n\n  /** City-level metros only (excludes All [State]) */\n  cityLevelMetros: MetroAreaDto[];\n\n  /** Loading state */\n  isLoading: boolean;\n\n  /** Error message if fetch failed */\n  error: string | null;\n}\n\n/**\n * Hook to fetch and manage metro areas from the API\n * Phase 6A.9: Replaces hardcoded constants with dynamic API data\n *\n * Usage:\n * ```tsx\n * const { metroAreas, metroAreasByState, isLoading } = useMetroAreas();\n * ```\n */\nexport function useMetroAreas(): MetroAreasState {\n  const [metroAreas, setMetroAreas] = useState<MetroAreaDto[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function fetchMetroAreas() {\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        const data = await metroAreasRepository.getAll(true);\n\n        if (isMounted) {\n          setMetroAreas(data);\n        }\n      } catch (err) {\n        if (isMounted) {\n          const errorMessage = err instanceof Error ? err.message : 'Failed to load metro areas';\n          setError(errorMessage);\n          console.error('Error fetching metro areas:', err);\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    }\n\n    fetchMetroAreas();\n\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  // Group metros by state\n  const metroAreasByState = new Map<string, MetroAreaDto[]>();\n  for (const metro of metroAreas) {\n    if (!metroAreasByState.has(metro.state)) {\n      metroAreasByState.set(metro.state, []);\n    }\n    metroAreasByState.get(metro.state)!.push(metro);\n  }\n\n  // Sort metros within each state (state-level first, then alphabetically)\n  for (const [, metros] of metroAreasByState) {\n    metros.sort((a, b) => {\n      if (a.isStateLevelArea && !b.isStateLevelArea) return -1;\n      if (!a.isStateLevelArea && b.isStateLevelArea) return 1;\n      return a.name.localeCompare(b.name);\n    });\n  }\n\n  // Separate state-level and city-level metros\n  const stateLevelMetros = metroAreas.filter(m => m.isStateLevelArea);\n  const cityLevelMetros = metroAreas.filter(m => !m.isStateLevelArea);\n\n  return {\n    metroAreas,\n    metroAreasByState,\n    stateLevelMetros,\n    cityLevelMetros,\n    isLoading,\n    error,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAmCO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,IAAI;gBACF,aAAa;gBACb,SAAS;gBAET,MAAM,OAAO,MAAM,oMAAoB,CAAC,MAAM,CAAC;gBAE/C,IAAI,WAAW;oBACb,cAAc;gBAChB;YACF,EAAE,OAAO,KAAK;gBACZ,IAAI,WAAW;oBACb,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAC1D,SAAS;oBACT,QAAQ,KAAK,CAAC,+BAA+B;gBAC/C;YACF,SAAU;gBACR,IAAI,WAAW;oBACb,aAAa;gBACf;YACF;QACF;QAEA;QAEA,OAAO;YACL,YAAY;QACd;IACF,GAAG,EAAE;IAEL,wBAAwB;IACxB,MAAM,oBAAoB,IAAI;IAC9B,KAAK,MAAM,SAAS,WAAY;QAC9B,IAAI,CAAC,kBAAkB,GAAG,CAAC,MAAM,KAAK,GAAG;YACvC,kBAAkB,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE;QACvC;QACA,kBAAkB,GAAG,CAAC,MAAM,KAAK,EAAG,IAAI,CAAC;IAC3C;IAEA,yEAAyE;IACzE,KAAK,MAAM,GAAG,OAAO,IAAI,kBAAmB;QAC1C,OAAO,IAAI,CAAC,CAAC,GAAG;YACd,IAAI,EAAE,gBAAgB,IAAI,CAAC,EAAE,gBAAgB,EAAE,OAAO,CAAC;YACvD,IAAI,CAAC,EAAE,gBAAgB,IAAI,EAAE,gBAAgB,EAAE,OAAO;YACtD,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;QACpC;IACF;IAEA,6CAA6C;IAC7C,MAAM,mBAAmB,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,gBAAgB;IAClE,MAAM,kBAAkB,WAAW,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,gBAAgB;IAElE,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 3320, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/domain/constants/metroAreas.constants.ts"],"sourcesContent":["/**\r\n * Metro Areas Constants - Phase 5B.3\r\n *\r\n * Generated from backend MetroAreaSeeder.cs with GUID-based IDs.\r\n * Includes all 50 US states with state-level areas plus 100+ major metro areas.\r\n *\r\n * Data Structure:\r\n * - 50 state-level entries (All [StateName]) - used for broad geographic coverage\r\n * - 100+ major US metro areas grouped by state\r\n * - Each metro uses backend GUID as ID for consistency with API\r\n */\r\n\r\nimport { MetroArea } from '../models/MetroArea';\r\n\r\n/**\r\n * US State Information\r\n */\r\nexport interface StateInfo {\r\n  readonly code: string;\r\n  readonly name: string;\r\n}\r\n\r\nexport const US_STATES: readonly StateInfo[] = [\r\n  { code: 'AL', name: 'Alabama' },\r\n  { code: 'AK', name: 'Alaska' },\r\n  { code: 'AZ', name: 'Arizona' },\r\n  { code: 'AR', name: 'Arkansas' },\r\n  { code: 'CA', name: 'California' },\r\n  { code: 'CO', name: 'Colorado' },\r\n  { code: 'CT', name: 'Connecticut' },\r\n  { code: 'DE', name: 'Delaware' },\r\n  { code: 'FL', name: 'Florida' },\r\n  { code: 'GA', name: 'Georgia' },\r\n  { code: 'HI', name: 'Hawaii' },\r\n  { code: 'ID', name: 'Idaho' },\r\n  { code: 'IL', name: 'Illinois' },\r\n  { code: 'IN', name: 'Indiana' },\r\n  { code: 'IA', name: 'Iowa' },\r\n  { code: 'KS', name: 'Kansas' },\r\n  { code: 'KY', name: 'Kentucky' },\r\n  { code: 'LA', name: 'Louisiana' },\r\n  { code: 'ME', name: 'Maine' },\r\n  { code: 'MD', name: 'Maryland' },\r\n  { code: 'MA', name: 'Massachusetts' },\r\n  { code: 'MI', name: 'Michigan' },\r\n  { code: 'MN', name: 'Minnesota' },\r\n  { code: 'MS', name: 'Mississippi' },\r\n  { code: 'MO', name: 'Missouri' },\r\n  { code: 'MT', name: 'Montana' },\r\n  { code: 'NE', name: 'Nebraska' },\r\n  { code: 'NV', name: 'Nevada' },\r\n  { code: 'NH', name: 'New Hampshire' },\r\n  { code: 'NJ', name: 'New Jersey' },\r\n  { code: 'NM', name: 'New Mexico' },\r\n  { code: 'NY', name: 'New York' },\r\n  { code: 'NC', name: 'North Carolina' },\r\n  { code: 'ND', name: 'North Dakota' },\r\n  { code: 'OH', name: 'Ohio' },\r\n  { code: 'OK', name: 'Oklahoma' },\r\n  { code: 'OR', name: 'Oregon' },\r\n  { code: 'PA', name: 'Pennsylvania' },\r\n  { code: 'RI', name: 'Rhode Island' },\r\n  { code: 'SC', name: 'South Carolina' },\r\n  { code: 'SD', name: 'South Dakota' },\r\n  { code: 'TN', name: 'Tennessee' },\r\n  { code: 'TX', name: 'Texas' },\r\n  { code: 'UT', name: 'Utah' },\r\n  { code: 'VT', name: 'Vermont' },\r\n  { code: 'VA', name: 'Virginia' },\r\n  { code: 'WA', name: 'Washington' },\r\n  { code: 'WV', name: 'West Virginia' },\r\n  { code: 'WI', name: 'Wisconsin' },\r\n  { code: 'WY', name: 'Wyoming' },\r\n] as const;\r\n\r\n/**\r\n * All Metro Areas - Organized by State\r\n * GUIDs match backend seeder for consistency\r\n */\r\nexport const ALL_METRO_AREAS: readonly MetroArea[] = [\r\n  // =====================\r\n  // ALABAMA\r\n  // =====================\r\n  {\r\n    id: '01000000-0000-0000-0000-000000000001',\r\n    name: 'All Alabama',\r\n    state: 'AL',\r\n    cities: ['Statewide'],\r\n    centerLat: 32.8067,\r\n    centerLng: -86.7113,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '01111111-1111-1111-1111-111111111001',\r\n    name: 'Birmingham',\r\n    state: 'AL',\r\n    cities: ['Birmingham', 'Hoover', 'Vestavia Hills', 'Alabaster', 'Bessemer'],\r\n    centerLat: 33.5186,\r\n    centerLng: -86.8104,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '01111111-1111-1111-1111-111111111002',\r\n    name: 'Montgomery',\r\n    state: 'AL',\r\n    cities: ['Montgomery', 'Prattville', 'Millbrook'],\r\n    centerLat: 32.3792,\r\n    centerLng: -86.3077,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '01111111-1111-1111-1111-111111111003',\r\n    name: 'Mobile',\r\n    state: 'AL',\r\n    cities: ['Mobile', 'Prichard', 'Saraland', 'Chickasaw'],\r\n    centerLat: 30.6954,\r\n    centerLng: -88.0399,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // ALASKA\r\n  // =====================\r\n  {\r\n    id: '02000000-0000-0000-0000-000000000001',\r\n    name: 'All Alaska',\r\n    state: 'AK',\r\n    cities: ['Statewide'],\r\n    centerLat: 64.0685,\r\n    centerLng: -152.2782,\r\n    radiusMiles: 300,\r\n  },\r\n  {\r\n    id: '02111111-1111-1111-1111-111111111001',\r\n    name: 'Anchorage',\r\n    state: 'AK',\r\n    cities: ['Anchorage', 'Eagle River', 'Girdwood'],\r\n    centerLat: 61.2181,\r\n    centerLng: -149.9003,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // ARIZONA\r\n  // =====================\r\n  {\r\n    id: '04000000-0000-0000-0000-000000000001',\r\n    name: 'All Arizona',\r\n    state: 'AZ',\r\n    cities: ['Statewide'],\r\n    centerLat: 33.7298,\r\n    centerLng: -111.4312,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '04111111-1111-1111-1111-111111111001',\r\n    name: 'Phoenix',\r\n    state: 'AZ',\r\n    cities: ['Phoenix', 'Scottsdale', 'Tempe', 'Glendale', 'Chandler', 'Gilbert', 'Peoria', 'Surprise'],\r\n    centerLat: 33.4484,\r\n    centerLng: -112.0742,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '04111111-1111-1111-1111-111111111002',\r\n    name: 'Tucson',\r\n    state: 'AZ',\r\n    cities: ['Tucson', 'Oro Valley', 'Marana', 'Sahuarita'],\r\n    centerLat: 32.2226,\r\n    centerLng: -110.9747,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '04111111-1111-1111-1111-111111111003',\r\n    name: 'Mesa',\r\n    state: 'AZ',\r\n    cities: ['Mesa', 'Apache Junction', 'Queen Creek'],\r\n    centerLat: 33.4152,\r\n    centerLng: -111.8317,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // ARKANSAS\r\n  // =====================\r\n  {\r\n    id: '05000000-0000-0000-0000-000000000001',\r\n    name: 'All Arkansas',\r\n    state: 'AR',\r\n    cities: ['Statewide'],\r\n    centerLat: 34.9697,\r\n    centerLng: -92.3731,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '05111111-1111-1111-1111-111111111001',\r\n    name: 'Little Rock',\r\n    state: 'AR',\r\n    cities: ['Little Rock', 'North Little Rock', 'Conway', 'Benton'],\r\n    centerLat: 34.7465,\r\n    centerLng: -92.2896,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '05111111-1111-1111-1111-111111111002',\r\n    name: 'Fayetteville',\r\n    state: 'AR',\r\n    cities: ['Fayetteville', 'Springdale', 'Rogers', 'Bentonville'],\r\n    centerLat: 36.0627,\r\n    centerLng: -94.1734,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // CALIFORNIA\r\n  // =====================\r\n  {\r\n    id: '06000000-0000-0000-0000-000000000001',\r\n    name: 'All California',\r\n    state: 'CA',\r\n    cities: ['Statewide'],\r\n    centerLat: 36.1162,\r\n    centerLng: -119.6816,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111001',\r\n    name: 'Los Angeles',\r\n    state: 'CA',\r\n    cities: ['Los Angeles', 'Long Beach', 'Anaheim', 'Santa Ana', 'Irvine', 'Glendale', 'Pasadena', 'Torrance', 'Burbank'],\r\n    centerLat: 34.0522,\r\n    centerLng: -118.2437,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111002',\r\n    name: 'San Francisco Bay Area',\r\n    state: 'CA',\r\n    cities: ['San Francisco', 'Oakland', 'San Jose', 'Berkeley', 'Fremont', 'Hayward', 'Sunnyvale', 'Santa Clara'],\r\n    centerLat: 37.7749,\r\n    centerLng: -122.4194,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111003',\r\n    name: 'San Diego',\r\n    state: 'CA',\r\n    cities: ['San Diego', 'Chula Vista', 'Oceanside', 'Carlsbad', 'El Cajon', 'Vista'],\r\n    centerLat: 32.7157,\r\n    centerLng: -117.1611,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111004',\r\n    name: 'Sacramento',\r\n    state: 'CA',\r\n    cities: ['Sacramento', 'Elk Grove', 'Roseville', 'Folsom', 'Davis'],\r\n    centerLat: 38.5816,\r\n    centerLng: -121.4944,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111005',\r\n    name: 'Fresno',\r\n    state: 'CA',\r\n    cities: ['Fresno', 'Clovis', 'Madera', 'Sanger'],\r\n    centerLat: 36.7469,\r\n    centerLng: -119.7726,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '06111111-1111-1111-1111-111111111006',\r\n    name: 'Inland Empire',\r\n    state: 'CA',\r\n    cities: ['Riverside', 'San Bernardino', 'Ontario', 'Rancho Cucamonga', 'Corona', 'Moreno Valley'],\r\n    centerLat: 33.9819,\r\n    centerLng: -117.2466,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // COLORADO\r\n  // =====================\r\n  {\r\n    id: '08000000-0000-0000-0000-000000000001',\r\n    name: 'All Colorado',\r\n    state: 'CO',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.0598,\r\n    centerLng: -105.3111,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '08111111-1111-1111-1111-111111111001',\r\n    name: 'Denver',\r\n    state: 'CO',\r\n    cities: ['Denver', 'Aurora', 'Lakewood', 'Thornton', 'Arvada', 'Westminster', 'Centennial'],\r\n    centerLat: 39.7392,\r\n    centerLng: -104.9903,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '08111111-1111-1111-1111-111111111002',\r\n    name: 'Colorado Springs',\r\n    state: 'CO',\r\n    cities: ['Colorado Springs', 'Fountain', 'Monument'],\r\n    centerLat: 38.8339,\r\n    centerLng: -104.8202,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // CONNECTICUT\r\n  // =====================\r\n  {\r\n    id: '09000000-0000-0000-0000-000000000001',\r\n    name: 'All Connecticut',\r\n    state: 'CT',\r\n    cities: ['Statewide'],\r\n    centerLat: 41.5978,\r\n    centerLng: -72.7554,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '09111111-1111-1111-1111-111111111001',\r\n    name: 'Hartford',\r\n    state: 'CT',\r\n    cities: ['Hartford', 'West Hartford', 'New Britain', 'Bristol'],\r\n    centerLat: 41.7658,\r\n    centerLng: -72.6734,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '09111111-1111-1111-1111-111111111002',\r\n    name: 'Bridgeport',\r\n    state: 'CT',\r\n    cities: ['Bridgeport', 'Stamford', 'Norwalk', 'Danbury'],\r\n    centerLat: 41.1834,\r\n    centerLng: -73.1959,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // DELAWARE\r\n  // =====================\r\n  {\r\n    id: '10000000-0000-0000-0000-000000000001',\r\n    name: 'All Delaware',\r\n    state: 'DE',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.3185,\r\n    centerLng: -75.5244,\r\n    radiusMiles: 120,\r\n  },\r\n  {\r\n    id: '10111111-1111-1111-1111-111111111001',\r\n    name: 'Wilmington',\r\n    state: 'DE',\r\n    cities: ['Wilmington', 'Newark', 'Dover'],\r\n    centerLat: 39.7391,\r\n    centerLng: -75.5244,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // FLORIDA\r\n  // =====================\r\n  {\r\n    id: '12000000-0000-0000-0000-000000000001',\r\n    name: 'All Florida',\r\n    state: 'FL',\r\n    cities: ['Statewide'],\r\n    centerLat: 27.6648,\r\n    centerLng: -81.5158,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111001',\r\n    name: 'Miami',\r\n    state: 'FL',\r\n    cities: ['Miami', 'Fort Lauderdale', 'Hollywood', 'Coral Gables', 'Hialeah', 'Pembroke Pines'],\r\n    centerLat: 25.7617,\r\n    centerLng: -80.1918,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111002',\r\n    name: 'Orlando',\r\n    state: 'FL',\r\n    cities: ['Orlando', 'Kissimmee', 'Winter Park', 'Sanford', 'Altamonte Springs'],\r\n    centerLat: 28.5421,\r\n    centerLng: -81.3723,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111003',\r\n    name: 'Tampa Bay',\r\n    state: 'FL',\r\n    cities: ['Tampa', 'St. Petersburg', 'Clearwater', 'Brandon', 'Largo'],\r\n    centerLat: 27.9506,\r\n    centerLng: -82.4572,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '12111111-1111-1111-1111-111111111004',\r\n    name: 'Jacksonville',\r\n    state: 'FL',\r\n    cities: ['Jacksonville', 'Jacksonville Beach', 'Orange Park'],\r\n    centerLat: 30.3322,\r\n    centerLng: -81.6557,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // GEORGIA\r\n  // =====================\r\n  {\r\n    id: '13000000-0000-0000-0000-000000000001',\r\n    name: 'All Georgia',\r\n    state: 'GA',\r\n    cities: ['Statewide'],\r\n    centerLat: 33.0406,\r\n    centerLng: -83.6431,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '13111111-1111-1111-1111-111111111001',\r\n    name: 'Atlanta',\r\n    state: 'GA',\r\n    cities: ['Atlanta', 'Sandy Springs', 'Roswell', 'Johns Creek', 'Marietta', 'Alpharetta', 'Smyrna'],\r\n    centerLat: 33.7490,\r\n    centerLng: -84.3880,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '13111111-1111-1111-1111-111111111002',\r\n    name: 'Savannah',\r\n    state: 'GA',\r\n    cities: ['Savannah', 'Pooler', 'Hinesville'],\r\n    centerLat: 32.0809,\r\n    centerLng: -81.0912,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // HAWAII\r\n  // =====================\r\n  {\r\n    id: '15000000-0000-0000-0000-000000000001',\r\n    name: 'All Hawaii',\r\n    state: 'HI',\r\n    cities: ['Statewide'],\r\n    centerLat: 21.0943,\r\n    centerLng: -157.4981,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '15111111-1111-1111-1111-111111111001',\r\n    name: 'Honolulu',\r\n    state: 'HI',\r\n    cities: ['Honolulu', 'Pearl City', 'Kailua', 'Waipahu'],\r\n    centerLat: 21.3099,\r\n    centerLng: -157.8581,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // IDAHO\r\n  // =====================\r\n  {\r\n    id: '16000000-0000-0000-0000-000000000001',\r\n    name: 'All Idaho',\r\n    state: 'ID',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.2405,\r\n    centerLng: -114.4787,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '16111111-1111-1111-1111-111111111001',\r\n    name: 'Boise',\r\n    state: 'ID',\r\n    cities: ['Boise', 'Meridian', 'Nampa', 'Caldwell'],\r\n    centerLat: 43.6150,\r\n    centerLng: -116.2023,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // ILLINOIS\r\n  // =====================\r\n  {\r\n    id: '17000000-0000-0000-0000-000000000001',\r\n    name: 'All Illinois',\r\n    state: 'IL',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.3495,\r\n    centerLng: -88.9861,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '17111111-1111-1111-1111-111111111001',\r\n    name: 'Chicago',\r\n    state: 'IL',\r\n    cities: ['Chicago', 'Aurora', 'Naperville', 'Joliet', 'Rockford', 'Elgin', 'Waukegan', 'Cicero', 'Schaumburg', 'Evanston'],\r\n    centerLat: 41.8781,\r\n    centerLng: -87.6298,\r\n    radiusMiles: 45,\r\n  },\r\n\r\n  // =====================\r\n  // INDIANA\r\n  // =====================\r\n  {\r\n    id: '18000000-0000-0000-0000-000000000001',\r\n    name: 'All Indiana',\r\n    state: 'IN',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.8494,\r\n    centerLng: -86.2604,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '18111111-1111-1111-1111-111111111001',\r\n    name: 'Indianapolis',\r\n    state: 'IN',\r\n    cities: ['Indianapolis', 'Carmel', 'Fishers', 'Noblesville', 'Greenwood', 'Lawrence'],\r\n    centerLat: 39.7684,\r\n    centerLng: -86.1581,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // IOWA\r\n  // =====================\r\n  {\r\n    id: '19000000-0000-0000-0000-000000000001',\r\n    name: 'All Iowa',\r\n    state: 'IA',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.0115,\r\n    centerLng: -93.2105,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '19111111-1111-1111-1111-111111111001',\r\n    name: 'Des Moines',\r\n    state: 'IA',\r\n    cities: ['Des Moines', 'West Des Moines', 'Ankeny', 'Urbandale'],\r\n    centerLat: 41.5868,\r\n    centerLng: -93.6250,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // KANSAS\r\n  // =====================\r\n  {\r\n    id: '20000000-0000-0000-0000-000000000001',\r\n    name: 'All Kansas',\r\n    state: 'KS',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.5266,\r\n    centerLng: -96.7265,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '20111111-1111-1111-1111-111111111001',\r\n    name: 'Kansas City',\r\n    state: 'KS',\r\n    cities: ['Kansas City', 'Overland Park', 'Olathe', 'Lawrence', 'Shawnee'],\r\n    centerLat: 39.0997,\r\n    centerLng: -94.5786,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // KENTUCKY\r\n  // =====================\r\n  {\r\n    id: '21000000-0000-0000-0000-000000000001',\r\n    name: 'All Kentucky',\r\n    state: 'KY',\r\n    cities: ['Statewide'],\r\n    centerLat: 37.6681,\r\n    centerLng: -84.6701,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '21111111-1111-1111-1111-111111111001',\r\n    name: 'Louisville',\r\n    state: 'KY',\r\n    cities: ['Louisville', 'Jeffersontown', 'Shively', 'St. Matthews'],\r\n    centerLat: 38.2527,\r\n    centerLng: -85.7585,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // LOUISIANA\r\n  // =====================\r\n  {\r\n    id: '22000000-0000-0000-0000-000000000001',\r\n    name: 'All Louisiana',\r\n    state: 'LA',\r\n    cities: ['Statewide'],\r\n    centerLat: 31.1695,\r\n    centerLng: -91.8749,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '22111111-1111-1111-1111-111111111001',\r\n    name: 'New Orleans',\r\n    state: 'LA',\r\n    cities: ['New Orleans', 'Metairie', 'Kenner', 'Baton Rouge'],\r\n    centerLat: 29.9511,\r\n    centerLng: -90.2623,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // MAINE\r\n  // =====================\r\n  {\r\n    id: '23000000-0000-0000-0000-000000000001',\r\n    name: 'All Maine',\r\n    state: 'ME',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.6939,\r\n    centerLng: -69.3819,\r\n    radiusMiles: 180,\r\n  },\r\n  {\r\n    id: '23111111-1111-1111-1111-111111111001',\r\n    name: 'Portland',\r\n    state: 'ME',\r\n    cities: ['Portland', 'South Portland', 'Westbrook', 'Biddeford'],\r\n    centerLat: 43.6591,\r\n    centerLng: -70.2568,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // MARYLAND\r\n  // =====================\r\n  {\r\n    id: '24000000-0000-0000-0000-000000000001',\r\n    name: 'All Maryland',\r\n    state: 'MD',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.0639,\r\n    centerLng: -76.8021,\r\n    radiusMiles: 180,\r\n  },\r\n  {\r\n    id: '24111111-1111-1111-1111-111111111001',\r\n    name: 'Baltimore',\r\n    state: 'MD',\r\n    cities: ['Baltimore', 'Columbia', 'Germantown', 'Silver Spring', 'Rockville'],\r\n    centerLat: 39.2904,\r\n    centerLng: -76.6122,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // MASSACHUSETTS\r\n  // =====================\r\n  {\r\n    id: '25000000-0000-0000-0000-000000000001',\r\n    name: 'All Massachusetts',\r\n    state: 'MA',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.2352,\r\n    centerLng: -71.0275,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '25111111-1111-1111-1111-111111111001',\r\n    name: 'Boston',\r\n    state: 'MA',\r\n    cities: ['Boston', 'Cambridge', 'Quincy', 'Lynn', 'Newton', 'Somerville', 'Waltham', 'Brookline'],\r\n    centerLat: 42.3601,\r\n    centerLng: -71.0589,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // MICHIGAN\r\n  // =====================\r\n  {\r\n    id: '26000000-0000-0000-0000-000000000001',\r\n    name: 'All Michigan',\r\n    state: 'MI',\r\n    cities: ['Statewide'],\r\n    centerLat: 43.3266,\r\n    centerLng: -84.5361,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '26111111-1111-1111-1111-111111111001',\r\n    name: 'Detroit',\r\n    state: 'MI',\r\n    cities: ['Detroit', 'Warren', 'Sterling Heights', 'Ann Arbor', 'Livonia', 'Dearborn', 'Westland'],\r\n    centerLat: 42.3314,\r\n    centerLng: -83.0458,\r\n    radiusMiles: 40,\r\n  },\r\n\r\n  // =====================\r\n  // MINNESOTA\r\n  // =====================\r\n  {\r\n    id: '27000000-0000-0000-0000-000000000001',\r\n    name: 'All Minnesota',\r\n    state: 'MN',\r\n    cities: ['Statewide'],\r\n    centerLat: 45.6945,\r\n    centerLng: -93.9196,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '27111111-1111-1111-1111-111111111001',\r\n    name: 'Minneapolis-St. Paul',\r\n    state: 'MN',\r\n    cities: ['Minneapolis', 'St. Paul', 'Rochester', 'Bloomington', 'Brooklyn Park', 'Plymouth'],\r\n    centerLat: 44.9537,\r\n    centerLng: -93.0900,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // MISSISSIPPI\r\n  // =====================\r\n  {\r\n    id: '28000000-0000-0000-0000-000000000001',\r\n    name: 'All Mississippi',\r\n    state: 'MS',\r\n    cities: ['Statewide'],\r\n    centerLat: 32.7416,\r\n    centerLng: -89.6787,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '28111111-1111-1111-1111-111111111001',\r\n    name: 'Jackson',\r\n    state: 'MS',\r\n    cities: ['Jackson', 'Gulfport', 'Biloxi', 'Hattiesburg'],\r\n    centerLat: 32.2988,\r\n    centerLng: -90.1848,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // MISSOURI\r\n  // =====================\r\n  {\r\n    id: '29000000-0000-0000-0000-000000000001',\r\n    name: 'All Missouri',\r\n    state: 'MO',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.4561,\r\n    centerLng: -92.2884,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '29111111-1111-1111-1111-111111111001',\r\n    name: 'St. Louis',\r\n    state: 'MO',\r\n    cities: ['St. Louis', 'St. Charles', \"O'Fallon\", 'St. Peters', 'Florissant'],\r\n    centerLat: 38.6270,\r\n    centerLng: -90.1994,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '29111111-1111-1111-1111-111111111002',\r\n    name: 'Kansas City',\r\n    state: 'MO',\r\n    cities: ['Kansas City', 'Independence', 'Lee\\'s Summit', 'Blue Springs'],\r\n    centerLat: 39.0997,\r\n    centerLng: -94.5786,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // MONTANA\r\n  // =====================\r\n  {\r\n    id: '30000000-0000-0000-0000-000000000001',\r\n    name: 'All Montana',\r\n    state: 'MT',\r\n    cities: ['Statewide'],\r\n    centerLat: 46.9219,\r\n    centerLng: -109.6333,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '30111111-1111-1111-1111-111111111001',\r\n    name: 'Billings',\r\n    state: 'MT',\r\n    cities: ['Billings', 'Missoula', 'Great Falls', 'Bozeman'],\r\n    centerLat: 45.7833,\r\n    centerLng: -103.8014,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NEBRASKA\r\n  // =====================\r\n  {\r\n    id: '31000000-0000-0000-0000-000000000001',\r\n    name: 'All Nebraska',\r\n    state: 'NE',\r\n    cities: ['Statewide'],\r\n    centerLat: 41.4925,\r\n    centerLng: -99.9018,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '31111111-1111-1111-1111-111111111001',\r\n    name: 'Omaha',\r\n    state: 'NE',\r\n    cities: ['Omaha', 'Lincoln', 'Bellevue', 'Grand Island'],\r\n    centerLat: 41.2565,\r\n    centerLng: -95.9345,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NEVADA\r\n  // =====================\r\n  {\r\n    id: '32000000-0000-0000-0000-000000000001',\r\n    name: 'All Nevada',\r\n    state: 'NV',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.8026,\r\n    centerLng: -117.0554,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '32111111-1111-1111-1111-111111111001',\r\n    name: 'Las Vegas',\r\n    state: 'NV',\r\n    cities: ['Las Vegas', 'Henderson', 'North Las Vegas', 'Paradise'],\r\n    centerLat: 36.1699,\r\n    centerLng: -115.1398,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '32111111-1111-1111-1111-111111111002',\r\n    name: 'Reno',\r\n    state: 'NV',\r\n    cities: ['Reno', 'Sparks', 'Carson City'],\r\n    centerLat: 39.5296,\r\n    centerLng: -119.8138,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NEW HAMPSHIRE\r\n  // =====================\r\n  {\r\n    id: '33000000-0000-0000-0000-000000000001',\r\n    name: 'All New Hampshire',\r\n    state: 'NH',\r\n    cities: ['Statewide'],\r\n    centerLat: 43.4525,\r\n    centerLng: -71.3102,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '33111111-1111-1111-1111-111111111001',\r\n    name: 'Manchester',\r\n    state: 'NH',\r\n    cities: ['Manchester', 'Nashua', 'Concord', 'Derry'],\r\n    centerLat: 42.9956,\r\n    centerLng: -71.4548,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NEW JERSEY\r\n  // =====================\r\n  {\r\n    id: '34000000-0000-0000-0000-000000000001',\r\n    name: 'All New Jersey',\r\n    state: 'NJ',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.2206,\r\n    centerLng: -74.7597,\r\n    radiusMiles: 150,\r\n  },\r\n  {\r\n    id: '34111111-1111-1111-1111-111111111001',\r\n    name: 'Newark',\r\n    state: 'NJ',\r\n    cities: ['Newark', 'Jersey City', 'Paterson', 'Elizabeth', 'Edison', 'Trenton'],\r\n    centerLat: 40.7357,\r\n    centerLng: -74.1724,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NEW MEXICO\r\n  // =====================\r\n  {\r\n    id: '35000000-0000-0000-0000-000000000001',\r\n    name: 'All New Mexico',\r\n    state: 'NM',\r\n    cities: ['Statewide'],\r\n    centerLat: 34.8405,\r\n    centerLng: -106.2371,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '35111111-1111-1111-1111-111111111001',\r\n    name: 'Albuquerque',\r\n    state: 'NM',\r\n    cities: ['Albuquerque', 'Rio Rancho', 'Santa Fe', 'Las Cruces'],\r\n    centerLat: 35.0844,\r\n    centerLng: -106.6504,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NEW YORK\r\n  // =====================\r\n  {\r\n    id: '36000000-0000-0000-0000-000000000001',\r\n    name: 'All New York',\r\n    state: 'NY',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.1657,\r\n    centerLng: -74.9481,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '36111111-1111-1111-1111-111111111001',\r\n    name: 'New York City',\r\n    state: 'NY',\r\n    cities: ['Manhattan', 'Brooklyn', 'Queens', 'Bronx', 'Staten Island', 'Yonkers', 'White Plains'],\r\n    centerLat: 40.7128,\r\n    centerLng: -74.0060,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '36111111-1111-1111-1111-111111111002',\r\n    name: 'Buffalo',\r\n    state: 'NY',\r\n    cities: ['Buffalo', 'Cheektowaga', 'West Seneca', 'Amherst', 'Tonawanda', 'Niagara Falls'],\r\n    centerLat: 42.8864,\r\n    centerLng: -78.8784,\r\n    radiusMiles: 25,\r\n  },\r\n  {\r\n    id: '36111111-1111-1111-1111-111111111003',\r\n    name: 'Albany',\r\n    state: 'NY',\r\n    cities: ['Albany', 'Schenectady', 'Troy', 'Saratoga Springs'],\r\n    centerLat: 42.6526,\r\n    centerLng: -73.7562,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // NORTH CAROLINA\r\n  // =====================\r\n  {\r\n    id: '37000000-0000-0000-0000-000000000001',\r\n    name: 'All North Carolina',\r\n    state: 'NC',\r\n    cities: ['Statewide'],\r\n    centerLat: 35.6301,\r\n    centerLng: -79.8064,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '37111111-1111-1111-1111-111111111001',\r\n    name: 'Charlotte',\r\n    state: 'NC',\r\n    cities: ['Charlotte', 'Concord', 'Gastonia', 'Rock Hill'],\r\n    centerLat: 35.2271,\r\n    centerLng: -80.8431,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '37111111-1111-1111-1111-111111111002',\r\n    name: 'Raleigh',\r\n    state: 'NC',\r\n    cities: ['Raleigh', 'Durham', 'Chapel Hill', 'Cary', 'Apex'],\r\n    centerLat: 35.7796,\r\n    centerLng: -78.6382,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // NORTH DAKOTA\r\n  // =====================\r\n  {\r\n    id: '38000000-0000-0000-0000-000000000001',\r\n    name: 'All North Dakota',\r\n    state: 'ND',\r\n    cities: ['Statewide'],\r\n    centerLat: 47.5289,\r\n    centerLng: -99.7840,\r\n    radiusMiles: 250,\r\n  },\r\n\r\n  // =====================\r\n  // OHIO\r\n  // =====================\r\n  {\r\n    id: '39000000-0000-0000-0000-000000000001',\r\n    name: 'All Ohio',\r\n    state: 'OH',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.4173,\r\n    centerLng: -82.9071,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111001',\r\n    name: 'Cleveland',\r\n    state: 'OH',\r\n    cities: ['Cleveland', 'Lakewood', 'Parma', 'Cleveland Heights', 'Shaker Heights', 'Euclid', 'Mentor', 'Strongsville', 'Brunswick', 'Westlake', 'Aurora'],\r\n    centerLat: 41.4993,\r\n    centerLng: -81.6944,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111002',\r\n    name: 'Columbus',\r\n    state: 'OH',\r\n    cities: ['Columbus', 'Dublin', 'Westerville', 'Grove City', 'Hilliard', 'Gahanna', 'Upper Arlington', 'Reynoldsburg', 'Pickerington', 'Worthington'],\r\n    centerLat: 39.9612,\r\n    centerLng: -82.9988,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111003',\r\n    name: 'Cincinnati',\r\n    state: 'OH',\r\n    cities: ['Cincinnati', 'Mason', 'Hamilton', 'Fairfield', 'Middletown', 'Lebanon', 'Blue Ash', 'Sharonville', 'West Chester', 'Forest Park'],\r\n    centerLat: 39.1031,\r\n    centerLng: -84.5120,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '39111111-1111-1111-1111-111111111004',\r\n    name: 'Toledo',\r\n    state: 'OH',\r\n    cities: ['Toledo', 'Sylvania', 'Perrysburg', 'Oregon', 'Maumee', 'Bowling Green', 'Northwood', 'Rossford'],\r\n    centerLat: 41.6528,\r\n    centerLng: -83.5379,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // OKLAHOMA\r\n  // =====================\r\n  {\r\n    id: '40000000-0000-0000-0000-000000000001',\r\n    name: 'All Oklahoma',\r\n    state: 'OK',\r\n    cities: ['Statewide'],\r\n    centerLat: 35.5653,\r\n    centerLng: -96.9289,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '40111111-1111-1111-1111-111111111001',\r\n    name: 'Oklahoma City',\r\n    state: 'OK',\r\n    cities: ['Oklahoma City', 'Tulsa', 'Norman', 'Broken Arrow', 'Edmond'],\r\n    centerLat: 35.4676,\r\n    centerLng: -97.5164,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // OREGON\r\n  // =====================\r\n  {\r\n    id: '41000000-0000-0000-0000-000000000001',\r\n    name: 'All Oregon',\r\n    state: 'OR',\r\n    cities: ['Statewide'],\r\n    centerLat: 43.8041,\r\n    centerLng: -120.5542,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '41111111-1111-1111-1111-111111111001',\r\n    name: 'Portland',\r\n    state: 'OR',\r\n    cities: ['Portland', 'Eugene', 'Salem', 'Gresham', 'Hillsboro', 'Beaverton'],\r\n    centerLat: 45.5152,\r\n    centerLng: -122.6784,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // PENNSYLVANIA\r\n  // =====================\r\n  {\r\n    id: '42000000-0000-0000-0000-000000000001',\r\n    name: 'All Pennsylvania',\r\n    state: 'PA',\r\n    cities: ['Statewide'],\r\n    centerLat: 40.5908,\r\n    centerLng: -77.2098,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '42111111-1111-1111-1111-111111111001',\r\n    name: 'Philadelphia',\r\n    state: 'PA',\r\n    cities: ['Philadelphia', 'Reading', 'Allentown', 'Bethlehem', 'Lancaster'],\r\n    centerLat: 39.9526,\r\n    centerLng: -75.1652,\r\n    radiusMiles: 35,\r\n  },\r\n  {\r\n    id: '42111111-1111-1111-1111-111111111002',\r\n    name: 'Pittsburgh',\r\n    state: 'PA',\r\n    cities: ['Pittsburgh', 'Bethel Park', 'Monroeville', 'Mt. Lebanon', 'Ross Township', 'Moon Township'],\r\n    centerLat: 40.4406,\r\n    centerLng: -79.9959,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // RHODE ISLAND\r\n  // =====================\r\n  {\r\n    id: '44000000-0000-0000-0000-000000000001',\r\n    name: 'All Rhode Island',\r\n    state: 'RI',\r\n    cities: ['Statewide'],\r\n    centerLat: 41.6809,\r\n    centerLng: -71.5118,\r\n    radiusMiles: 120,\r\n  },\r\n  {\r\n    id: '44111111-1111-1111-1111-111111111001',\r\n    name: 'Providence',\r\n    state: 'RI',\r\n    cities: ['Providence', 'Warwick', 'Cranston', 'Pawtucket'],\r\n    centerLat: 41.8240,\r\n    centerLng: -71.4128,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // SOUTH CAROLINA\r\n  // =====================\r\n  {\r\n    id: '45000000-0000-0000-0000-000000000001',\r\n    name: 'All South Carolina',\r\n    state: 'SC',\r\n    cities: ['Statewide'],\r\n    centerLat: 33.8361,\r\n    centerLng: -80.9066,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '45111111-1111-1111-1111-111111111001',\r\n    name: 'Charleston',\r\n    state: 'SC',\r\n    cities: ['Charleston', 'Columbia', 'North Charleston', 'Mount Pleasant'],\r\n    centerLat: 32.7765,\r\n    centerLng: -79.9711,\r\n    radiusMiles: 25,\r\n  },\r\n\r\n  // =====================\r\n  // SOUTH DAKOTA\r\n  // =====================\r\n  {\r\n    id: '46000000-0000-0000-0000-000000000001',\r\n    name: 'All South Dakota',\r\n    state: 'SD',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.2998,\r\n    centerLng: -99.4388,\r\n    radiusMiles: 250,\r\n  },\r\n\r\n  // =====================\r\n  // TENNESSEE\r\n  // =====================\r\n  {\r\n    id: '47000000-0000-0000-0000-000000000001',\r\n    name: 'All Tennessee',\r\n    state: 'TN',\r\n    cities: ['Statewide'],\r\n    centerLat: 35.7478,\r\n    centerLng: -86.6923,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '47111111-1111-1111-1111-111111111001',\r\n    name: 'Nashville',\r\n    state: 'TN',\r\n    cities: ['Nashville', 'Franklin', 'Murfreesboro', 'Brentwood'],\r\n    centerLat: 36.1627,\r\n    centerLng: -86.7816,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '47111111-1111-1111-1111-111111111002',\r\n    name: 'Memphis',\r\n    state: 'TN',\r\n    cities: ['Memphis', 'Germantown', 'Collierville', 'Bartlett'],\r\n    centerLat: 35.1495,\r\n    centerLng: -90.0490,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // TEXAS\r\n  // =====================\r\n  {\r\n    id: '48000000-0000-0000-0000-000000000001',\r\n    name: 'All Texas',\r\n    state: 'TX',\r\n    cities: ['Statewide'],\r\n    centerLat: 31.9686,\r\n    centerLng: -99.9018,\r\n    radiusMiles: 300,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111001',\r\n    name: 'Houston',\r\n    state: 'TX',\r\n    cities: ['Houston', 'Sugar Land', 'The Woodlands', 'Pearland', 'League City', 'Pasadena', 'Katy'],\r\n    centerLat: 29.7604,\r\n    centerLng: -95.3698,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111002',\r\n    name: 'Dallas-Fort Worth',\r\n    state: 'TX',\r\n    cities: ['Dallas', 'Fort Worth', 'Arlington', 'Plano', 'Irving', 'Garland', 'Frisco', 'McKinney', 'Grand Prairie'],\r\n    centerLat: 32.7767,\r\n    centerLng: -96.7970,\r\n    radiusMiles: 40,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111003',\r\n    name: 'Austin',\r\n    state: 'TX',\r\n    cities: ['Austin', 'Round Rock', 'Cedar Park', 'Georgetown', 'Pflugerville', 'San Marcos', 'Leander'],\r\n    centerLat: 30.2672,\r\n    centerLng: -97.7431,\r\n    radiusMiles: 30,\r\n  },\r\n  {\r\n    id: '48111111-1111-1111-1111-111111111004',\r\n    name: 'San Antonio',\r\n    state: 'TX',\r\n    cities: ['San Antonio', 'New Braunfels', 'Schertz', 'Seguin', 'Universal City', 'Converse'],\r\n    centerLat: 29.4241,\r\n    centerLng: -98.4936,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // UTAH\r\n  // =====================\r\n  {\r\n    id: '49000000-0000-0000-0000-000000000001',\r\n    name: 'All Utah',\r\n    state: 'UT',\r\n    cities: ['Statewide'],\r\n    centerLat: 39.3210,\r\n    centerLng: -111.0937,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '49111111-1111-1111-1111-111111111001',\r\n    name: 'Salt Lake City',\r\n    state: 'UT',\r\n    cities: ['Salt Lake City', 'West Valley City', 'Provo', 'West Jordan', 'Orem', 'Sandy'],\r\n    centerLat: 40.7608,\r\n    centerLng: -111.8910,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // VERMONT\r\n  // =====================\r\n  {\r\n    id: '50000000-0000-0000-0000-000000000001',\r\n    name: 'All Vermont',\r\n    state: 'VT',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.0459,\r\n    centerLng: -72.7107,\r\n    radiusMiles: 150,\r\n  },\r\n\r\n  // =====================\r\n  // VIRGINIA\r\n  // =====================\r\n  {\r\n    id: '51000000-0000-0000-0000-000000000001',\r\n    name: 'All Virginia',\r\n    state: 'VA',\r\n    cities: ['Statewide'],\r\n    centerLat: 37.7693,\r\n    centerLng: -78.1694,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '51111111-1111-1111-1111-111111111001',\r\n    name: 'Richmond',\r\n    state: 'VA',\r\n    cities: ['Richmond', 'Virginia Beach', 'Norfolk', 'Chesapeake', 'Arlington', 'Alexandria'],\r\n    centerLat: 37.5407,\r\n    centerLng: -77.4360,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // WASHINGTON\r\n  // =====================\r\n  {\r\n    id: '53000000-0000-0000-0000-000000000001',\r\n    name: 'All Washington',\r\n    state: 'WA',\r\n    cities: ['Statewide'],\r\n    centerLat: 47.7511,\r\n    centerLng: -120.7401,\r\n    radiusMiles: 250,\r\n  },\r\n  {\r\n    id: '53111111-1111-1111-1111-111111111001',\r\n    name: 'Seattle',\r\n    state: 'WA',\r\n    cities: ['Seattle', 'Bellevue', 'Tacoma', 'Everett', 'Kent', 'Renton', 'Spokane', 'Redmond', 'Kirkland'],\r\n    centerLat: 47.6062,\r\n    centerLng: -122.3321,\r\n    radiusMiles: 35,\r\n  },\r\n\r\n  // =====================\r\n  // WEST VIRGINIA\r\n  // =====================\r\n  {\r\n    id: '54000000-0000-0000-0000-000000000001',\r\n    name: 'All West Virginia',\r\n    state: 'WV',\r\n    cities: ['Statewide'],\r\n    centerLat: 38.5976,\r\n    centerLng: -80.4549,\r\n    radiusMiles: 200,\r\n  },\r\n\r\n  // =====================\r\n  // WISCONSIN\r\n  // =====================\r\n  {\r\n    id: '55000000-0000-0000-0000-000000000001',\r\n    name: 'All Wisconsin',\r\n    state: 'WI',\r\n    cities: ['Statewide'],\r\n    centerLat: 44.2685,\r\n    centerLng: -89.6165,\r\n    radiusMiles: 200,\r\n  },\r\n  {\r\n    id: '55111111-1111-1111-1111-111111111001',\r\n    name: 'Milwaukee',\r\n    state: 'WI',\r\n    cities: ['Milwaukee', 'Madison', 'Green Bay', 'Kenosha', 'Racine'],\r\n    centerLat: 43.0389,\r\n    centerLng: -87.9065,\r\n    radiusMiles: 30,\r\n  },\r\n\r\n  // =====================\r\n  // WYOMING\r\n  // =====================\r\n  {\r\n    id: '56000000-0000-0000-0000-000000000001',\r\n    name: 'All Wyoming',\r\n    state: 'WY',\r\n    cities: ['Statewide'],\r\n    centerLat: 42.7559,\r\n    centerLng: -107.3025,\r\n    radiusMiles: 250,\r\n  },\r\n] as const;\r\n\r\n/**\r\n * Helper function to find metro area by ID\r\n */\r\nexport function getMetroById(id: string): MetroArea | undefined {\r\n  return ALL_METRO_AREAS.find(metro => metro.id === id);\r\n}\r\n\r\n/**\r\n * Helper function to get metro areas by state (includes state-level areas)\r\n * Returns all metros for a state, including the state-level \"All [State]\" option\r\n */\r\nexport function getMetrosByState(stateCode: string): readonly MetroArea[] {\r\n  return ALL_METRO_AREAS.filter(metro => metro.state === stateCode);\r\n}\r\n\r\n/**\r\n * Helper function to get full state name from state code\r\n */\r\nexport function getStateName(stateCode: string): string | undefined {\r\n  return US_STATES.find(state => state.code === stateCode)?.name;\r\n}\r\n\r\n/**\r\n * Helper function to search metro areas by name or city\r\n * Supports fuzzy matching on metro name and city names\r\n */\r\nexport function searchMetrosByName(query: string): readonly MetroArea[] {\r\n  const lowerQuery = query.toLowerCase().trim();\r\n\r\n  if (!lowerQuery) {\r\n    return ALL_METRO_AREAS;\r\n  }\r\n\r\n  return ALL_METRO_AREAS.filter(\r\n    metro =>\r\n      metro.name.toLowerCase().includes(lowerQuery) ||\r\n      metro.cities.some(city => city.toLowerCase().includes(lowerQuery)) ||\r\n      metro.state.toLowerCase() === lowerQuery\r\n  );\r\n}\r\n\r\n/**\r\n * Helper function to check if a metro area is state-level (All [State])\r\n */\r\nexport function isStateLevelArea(metroId: string): boolean {\r\n  const metro = getMetroById(metroId);\r\n  return metro?.name.startsWith('All ') ?? false;\r\n}\r\n\r\n/**\r\n * Get only state-level metro areas (All [State] entries)\r\n */\r\nexport function getStateLevelAreas(): readonly MetroArea[] {\r\n  return ALL_METRO_AREAS.filter(metro => metro.name.startsWith('All '));\r\n}\r\n\r\n/**\r\n * Get only city-level metro areas (excludes state-level areas)\r\n */\r\nexport function getCityLevelAreas(): readonly MetroArea[] {\r\n  return ALL_METRO_AREAS.filter(metro => !metro.name.startsWith('All '));\r\n}\r\n\r\n/**\r\n * Get metros grouped by state for dropdowns\r\n * Returns a map of state code to array of metros (state-level first, then city metros)\r\n */\r\nexport function getMetrosGroupedByState(): Map<string, readonly MetroArea[]> {\r\n  const grouped = new Map<string, MetroArea[]>();\r\n\r\n  for (const metro of ALL_METRO_AREAS) {\r\n    if (!grouped.has(metro.state)) {\r\n      grouped.set(metro.state, []);\r\n    }\r\n    grouped.get(metro.state)!.push(metro);\r\n  }\r\n\r\n  // Ensure state-level area is first in each group\r\n  for (const [state, metros] of grouped) {\r\n    metros.sort((a, b) => {\r\n      if (a.name.startsWith('All ')) return -1;\r\n      if (b.name.startsWith('All ')) return 1;\r\n      return a.name.localeCompare(b.name);\r\n    });\r\n  }\r\n\r\n  return grouped;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5441, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/features/profile/PreferredMetroAreasSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { MapPin, Check } from 'lucide-react';\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/presentation/components/ui/Card';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { TreeDropdown, type TreeNode } from '@/presentation/components/ui/TreeDropdown';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\r\nimport { useMetroAreas } from '@/presentation/hooks/useMetroAreas';\r\nimport { US_STATES } from '@/domain/constants/metroAreas.constants';\r\nimport { PROFILE_CONSTRAINTS } from '@/domain/constants/profile.constants';\r\n\r\n/**\r\n * PreferredMetroAreasSection Component\r\n * Phase 5B: User Preferred Metro Areas\r\n * Phase 6A.9: Updated to use TreeDropdown with API data\r\n *\r\n * Allows users to select 0-20 metro areas for location-based filtering\r\n * UI Pattern: Tree dropdown with state-grouped metros\r\n * - State-level selection (state-wide areas)\r\n * - City-level selection within expanded states\r\n * - Expand/collapse with [+] and [] indicators\r\n * - Pre-checked metros based on user's saved selections\r\n */\r\nexport function PreferredMetroAreasSection() {\r\n  const { user } = useAuthStore();\r\n  const { profile, updatePreferredMetroAreas, sectionStates, error, isLoading } = useProfileStore();\r\n\r\n  // Phase 6A.9: Fetch metro areas from API instead of hardcoded constants\r\n  const {\r\n    metroAreas,\r\n    metroAreasByState,\r\n    stateLevelMetros,\r\n    isLoading: metrosLoading,\r\n    error: metrosError,\r\n  } = useMetroAreas();\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [selectedMetroAreas, setSelectedMetroAreas] = useState<string[]>([]);\r\n  const [validationError, setValidationError] = useState<string>('');\r\n\r\n  const sectionState = sectionStates.preferredMetroAreas;\r\n  const isSuccess = sectionState === 'success';\r\n  const isError = sectionState === 'error';\r\n  const isSaving = isLoading || sectionState === 'saving';\r\n\r\n  const currentMetroAreas = profile?.preferredMetroAreas || [];\r\n  const { max } = PROFILE_CONSTRAINTS.preferredMetroAreas;\r\n\r\n  // Convert metro areas data to tree structure for TreeDropdown\r\n  // MUST be called before any early returns (Rules of Hooks)\r\n  const treeNodes = useMemo<TreeNode[]>(() => {\r\n    const nodes: TreeNode[] = [];\r\n\r\n    US_STATES.forEach((state) => {\r\n      const metrosForState = metroAreasByState.get(state.code) || [];\r\n\r\n      if (metrosForState.length === 0) return;\r\n\r\n      // Separate state-level and city-level metros\r\n      const stateMetro = metrosForState.find((m) => m.isStateLevelArea);\r\n      const cityMetros = metrosForState.filter((m) => !m.isStateLevelArea);\r\n\r\n      const children: TreeNode[] = [];\r\n\r\n      // Add state-level metro first if it exists\r\n      if (stateMetro) {\r\n        children.push({\r\n          id: stateMetro.id,\r\n          label: stateMetro.name,\r\n          checked: selectedMetroAreas.includes(stateMetro.id),\r\n        });\r\n      }\r\n\r\n      // Add city-level metros\r\n      cityMetros.forEach((metro) => {\r\n        children.push({\r\n          id: metro.id,\r\n          label: metro.name,\r\n          checked: selectedMetroAreas.includes(metro.id),\r\n        });\r\n      });\r\n\r\n      nodes.push({\r\n        id: state.code,\r\n        label: state.name,\r\n        checked: false, // Parent nodes don't have checkboxes in our design\r\n        children,\r\n      });\r\n    });\r\n\r\n    return nodes;\r\n  }, [metroAreasByState, stateLevelMetros, selectedMetroAreas]);\r\n\r\n  // Return null if user not authenticated\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  // Show loading state while fetching metros\r\n  if (metrosLoading) {\r\n    return (\r\n      <Card role=\"region\" aria-label=\"Preferred Metro Areas\">\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\r\n            <CardTitle style={{ color: '#8B1538' }}>Preferred Metro Areas</CardTitle>\r\n          </div>\r\n          <CardDescription>Loading metro areas...</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center p-4\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2\" style={{ borderColor: '#FF7900' }}></div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Show error if metros failed to load\r\n  if (metrosError) {\r\n    return (\r\n      <Card role=\"region\" aria-label=\"Preferred Metro Areas\">\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\r\n            <CardTitle style={{ color: '#8B1538' }}>Preferred Metro Areas</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <p className=\"text-sm text-destructive\" role=\"alert\">\r\n            Failed to load metro areas: {metrosError}\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n    setSelectedMetroAreas([...currentMetroAreas]);\r\n    setValidationError('');\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setSelectedMetroAreas([]);\r\n    setValidationError('');\r\n  };\r\n\r\n  const handleSelectionChange = (newSelectedIds: string[]) => {\r\n    if (newSelectedIds.length > max) {\r\n      setValidationError(`You cannot select more than ${max} metro areas`);\r\n      return;\r\n    }\r\n    setValidationError('');\r\n    setSelectedMetroAreas(newSelectedIds);\r\n  };\r\n\r\n  const handleToggleMetroArea = (metroId: string) => {\r\n    setSelectedMetroAreas((prev) => {\r\n      if (prev.includes(metroId)) {\r\n        // Remove if already selected\r\n        setValidationError(''); // Clear error when removing\r\n        return prev.filter((id) => id !== metroId);\r\n      } else {\r\n        // Add (check max limit first)\r\n        if (prev.length >= max) {\r\n          setValidationError(`You cannot select more than ${max} metro areas`);\r\n          return prev; // Don't add\r\n        }\r\n        setValidationError(''); // Clear error\r\n        return [...prev, metroId];\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!user?.userId) return;\r\n\r\n    try {\r\n      await updatePreferredMetroAreas(user.userId, {\r\n        metroAreaIds: selectedMetroAreas,\r\n      });\r\n\r\n      // Exit edit mode on success (store will set state to 'success')\r\n      setIsEditing(false);\r\n      setValidationError('');\r\n    } catch (err) {\r\n      // Error handled by store, stay in edit mode for retry\r\n      console.error('Failed to save preferred metro areas:', err);\r\n    }\r\n  };\r\n\r\n  // Helper to get metro by ID from API data\r\n  const getMetroById = (id: string) => {\r\n    return metroAreas.find(metro => metro.id === id);\r\n  };\r\n\r\n  // Helper to check if metro is state-level\r\n  const isStateLevelArea = (id: string) => {\r\n    const metro = getMetroById(id);\r\n    return metro?.isStateLevelArea ?? false;\r\n  };\r\n\r\n  return (\r\n    <Card role=\"region\" aria-label=\"Preferred Metro Areas\">\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5\" style={{ color: '#FF7900' }} />\r\n            <CardTitle style={{ color: '#8B1538' }}>Preferred Metro Areas</CardTitle>\r\n          </div>\r\n          {!isEditing && (\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={handleEdit}\r\n              disabled={isSaving}\r\n              style={{ borderColor: '#FF7900', color: '#8B1538' }}\r\n            >\r\n              Edit\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <CardDescription>\r\n          Select up to {max} metro areas for personalized event and content filtering. You can opt out by leaving\r\n          this empty.\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {!isEditing ? (\r\n          // ===== VIEW MODE =====\r\n          <div className=\"space-y-2\">\r\n            {currentMetroAreas.length > 0 ? (\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {currentMetroAreas.map((metroId) => {\r\n                  const metro = getMetroById(metroId);\r\n                  return metro ? (\r\n                    <div\r\n                      key={metroId}\r\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\"\r\n                      style={{ background: '#FFE8CC', color: '#8B1538' }}\r\n                    >\r\n                      {metro.name}\r\n                      {!isStateLevelArea(metroId) && `, ${metro.state}`}\r\n                    </div>\r\n                  ) : null;\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-sm text-muted-foreground italic\">\r\n                No metro areas selected - Click Edit to add your preferred locations\r\n              </p>\r\n            )}\r\n\r\n            {/* Success message */}\r\n            {isSuccess && (\r\n              <div className=\"flex items-center gap-2 text-sm\" style={{ color: '#006400' }}>\r\n                <Check className=\"h-4 w-4\" />\r\n                <span>Preferred metro areas saved successfully!</span>\r\n              </div>\r\n            )}\r\n\r\n            {/* Error message */}\r\n            {isError && error && (\r\n              <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                {error}\r\n              </p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          // ===== EDIT MODE: TREE DROPDOWN =====\r\n          <div className=\"space-y-3\">\r\n            <p className=\"text-sm text-muted-foreground mb-2\">\r\n              Select metro areas by expanding states and checking your preferred locations\r\n            </p>\r\n\r\n            <TreeDropdown\r\n              nodes={treeNodes}\r\n              selectedIds={selectedMetroAreas}\r\n              onSelectionChange={handleSelectionChange}\r\n              placeholder={`Select up to ${max} metro areas`}\r\n              maxSelections={max}\r\n              disabled={isSaving}\r\n              className=\"w-full\"\r\n            />\r\n\r\n            {/* Selection counter and validation */}\r\n            <div className=\"flex items-center justify-between pt-2 border-t\" style={{ borderColor: '#e2e8f0' }}>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {selectedMetroAreas.length} of {max} selected\r\n              </p>\r\n\r\n              {validationError && (\r\n                <p className=\"text-sm text-destructive\" role=\"alert\">\r\n                  {validationError}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex gap-3 pt-2\">\r\n              <Button\r\n                onClick={handleSave}\r\n                disabled={isSaving || !!validationError}\r\n                className=\"flex-1 text-white\"\r\n                style={{ background: '#FF7900' }}\r\n              >\r\n                {isSaving ? 'Saving...' : 'Save Changes'}\r\n              </Button>\r\n              <Button\r\n                onClick={handleCancel}\r\n                variant=\"outline\"\r\n                disabled={isSaving}\r\n                className=\"flex-1\"\r\n                style={{ borderColor: '#8B1538', color: '#8B1538' }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6007, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/presentation/components/atoms/Logo.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport { cn } from '@/presentation/lib/utils';\r\n\r\nexport interface LogoProps {\r\n  size?: 'sm' | 'md' | 'lg' | 'xl';\r\n  showText?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst sizeClasses = {\r\n  sm: 'h-10 w-10',\r\n  md: 'h-16 w-16',\r\n  lg: 'h-20 w-20',\r\n  xl: 'h-24 w-24',\r\n};\r\n\r\nconst textSizeClasses = {\r\n  sm: 'text-lg',\r\n  md: 'text-xl',\r\n  lg: 'text-2xl',\r\n  xl: 'text-3xl',\r\n};\r\n\r\nconst imageSizes = {\r\n  sm: 40,\r\n  md: 64,\r\n  lg: 80,\r\n  xl: 96,\r\n};\r\n\r\n/**\r\n * Logo Component\r\n * Displays the LankaConnect logo with optional text\r\n */\r\nexport function Logo({ size = 'md', showText = false, className }: LogoProps) {\r\n  return (\r\n    <div className={cn('flex items-center gap-3', className)} suppressHydrationWarning>\r\n      <div className={cn(sizeClasses[size], 'relative flex-shrink-0')}>\r\n        <Image\r\n          src=\"/images/lankaconnect-logo.png\"\r\n          alt=\"LankaConnect\"\r\n          width={imageSizes[size]}\r\n          height={imageSizes[size]}\r\n          className=\"object-contain w-full h-full\"\r\n          priority\r\n        />\r\n      </div>\r\n      {showText && (\r\n        <span className={cn('font-bold text-maroon', textSizeClasses[size])}>\r\n          LankaConnect\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,cAAc;IAClB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,MAAM,kBAAkB;IACtB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,MAAM,aAAa;IACjB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAMO,SAAS,KAAK,EAAE,OAAO,IAAI,EAAE,WAAW,KAAK,EAAE,SAAS,EAAa;IAC1E,qBACE,8OAAC;QAAI,WAAW,IAAA,yIAAE,EAAC,2BAA2B;QAAY,wBAAwB;;0BAChF,8OAAC;gBAAI,WAAW,IAAA,yIAAE,EAAC,WAAW,CAAC,KAAK,EAAE;0BACpC,cAAA,8OAAC,wIAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO,UAAU,CAAC,KAAK;oBACvB,QAAQ,UAAU,CAAC,KAAK;oBACxB,WAAU;oBACV,QAAQ;;;;;;;;;;;YAGX,0BACC,8OAAC;gBAAK,WAAW,IAAA,yIAAE,EAAC,yBAAyB,eAAe,CAAC,KAAK;0BAAG;;;;;;;;;;;;AAM7E","debugId":null}},
    {"offset": {"line": 6078, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/infrastructure/api/repositories/auth.repository.ts"],"sourcesContent":["import { apiClient } from '../client/api-client';\r\nimport type {\r\n  LoginRequest,\r\n  LoginResponse,\r\n  RegisterRequest,\r\n  RegisterResponse,\r\n} from '../types/auth.types';\r\n\r\n/**\r\n * AuthRepository\r\n * Handles all authentication-related API calls\r\n * Repository pattern for auth operations\r\n */\r\nexport class AuthRepository {\r\n  private readonly basePath = '/auth';\r\n\r\n  /**\r\n   * Login user\r\n   */\r\n  async login(credentials: LoginRequest): Promise<LoginResponse> {\r\n    const response = await apiClient.post<LoginResponse>(\r\n      `${this.basePath}/login`,\r\n      credentials\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Register new user\r\n   */\r\n  async register(userData: RegisterRequest): Promise<RegisterResponse> {\r\n    const response = await apiClient.post<RegisterResponse>(\r\n      `${this.basePath}/register`,\r\n      userData\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Refresh access token\r\n   */\r\n  async refreshToken(refreshToken: string): Promise<{ accessToken: string; refreshToken: string }> {\r\n    const response = await apiClient.post<{ accessToken: string; refreshToken: string }>(\r\n      `${this.basePath}/refresh-token`,\r\n      { refreshToken }\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Logout user\r\n   */\r\n  async logout(): Promise<void> {\r\n    await apiClient.post(`${this.basePath}/logout`);\r\n  }\r\n\r\n  /**\r\n   * Request password reset\r\n   */\r\n  async requestPasswordReset(email: string): Promise<{ message: string }> {\r\n    const response = await apiClient.post<{ message: string }>(\r\n      `${this.basePath}/forgot-password`,\r\n      { email }\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Reset password with token\r\n   */\r\n  async resetPassword(token: string, newPassword: string): Promise<{ message: string }> {\r\n    const response = await apiClient.post<{ message: string }>(\r\n      `${this.basePath}/reset-password`,\r\n      { token, newPassword }\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Verify email with token\r\n   */\r\n  async verifyEmail(token: string): Promise<{ message: string }> {\r\n    const response = await apiClient.post<{ message: string }>(\r\n      `${this.basePath}/verify-email`,\r\n      { token }\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * Resend verification email\r\n   */\r\n  async resendVerificationEmail(email: string): Promise<{ message: string }> {\r\n    const response = await apiClient.post<{ message: string }>(\r\n      `${this.basePath}/resend-verification`,\r\n      { email }\r\n    );\r\n    return response;\r\n  }\r\n\r\n  /**\r\n   * [TEST ONLY] Verify user email without token validation\r\n   * Only available in Development environment for E2E testing\r\n   */\r\n  async testVerifyEmail(userId: string): Promise<{ message: string }> {\r\n    const response = await apiClient.post<{ message: string }>(\r\n      `${this.basePath}/test/verify-user/${userId}`,\r\n      {}\r\n    );\r\n    return response;\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const authRepository = new AuthRepository();\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAaO,MAAM;IACM,WAAW,QAAQ;IAEpC;;GAEC,GACD,MAAM,MAAM,WAAyB,EAA0B;QAC7D,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EACxB;QAEF,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,SAAS,QAAyB,EAA6B;QACnE,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAC3B;QAEF,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,aAAa,YAAoB,EAA0D;QAC/F,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAChC;YAAE;QAAa;QAEjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,SAAwB;QAC5B,MAAM,oKAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;IAChD;IAEA;;GAEC,GACD,MAAM,qBAAqB,KAAa,EAAgC;QACtE,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAClC;YAAE;QAAM;QAEV,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,cAAc,KAAa,EAAE,WAAmB,EAAgC;QACpF,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,EACjC;YAAE;YAAO;QAAY;QAEvB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,YAAY,KAAa,EAAgC;QAC7D,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAC/B;YAAE;QAAM;QAEV,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,wBAAwB,KAAa,EAAgC;QACzE,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,EACtC;YAAE;QAAM;QAEV,OAAO;IACT;IAEA;;;GAGC,GACD,MAAM,gBAAgB,MAAc,EAAgC;QAClE,MAAM,WAAW,MAAM,oKAAS,CAAC,IAAI,CACnC,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,EAAE,QAAQ,EAC7C,CAAC;QAEH,OAAO;IACT;AACF;AAGO,MAAM,iBAAiB,IAAI","debugId":null}},
    {"offset": {"line": 6159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Work/LankaConnect/web/src/app/%28dashboard%29/profile/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { ProtectedRoute } from '@/presentation/components/auth/ProtectedRoute';\r\nimport { useAuthStore } from '@/presentation/store/useAuthStore';\r\nimport { useProfileStore } from '@/presentation/store/useProfileStore';\r\nimport { ProfilePhotoSection } from '@/presentation/components/features/profile/ProfilePhotoSection';\r\nimport { LocationSection } from '@/presentation/components/features/profile/LocationSection';\r\nimport { CulturalInterestsSection } from '@/presentation/components/features/profile/CulturalInterestsSection';\r\nimport { PreferredMetroAreasSection } from '@/presentation/components/features/profile/PreferredMetroAreasSection';\r\nimport { Button } from '@/presentation/components/ui/Button';\r\nimport { Logo } from '@/presentation/components/atoms/Logo';\r\nimport { useRouter } from 'next/navigation';\r\nimport { authRepository } from '@/infrastructure/api/repositories/auth.repository';\r\nimport { ArrowLeft } from 'lucide-react';\r\n\r\n/**\r\n * Profile Page\r\n *\r\n * User profile management page with:\r\n * - Profile photo upload/delete\r\n * - Basic info editing (future)\r\n * - Location info editing (future)\r\n * - Cultural interests editing (future)\r\n * - Languages editing (future)\r\n *\r\n * Phase 1: Photo upload only\r\n * Future phases will add additional sections\r\n */\r\nexport default function ProfilePage() {\r\n  const router = useRouter();\r\n  const { user, clearAuth, isAuthenticated, isLoading: authLoading } = useAuthStore();\r\n  const { loadProfile, profile, isLoading } = useProfileStore();\r\n\r\n  // Load profile on mount when user is authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated && user?.userId && !profile && !isLoading) {\r\n      loadProfile(user.userId);\r\n    }\r\n  }, [isAuthenticated, user?.userId, profile, isLoading, loadProfile]);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await authRepository.logout();\r\n    } catch (error) {\r\n      // Silently handle logout errors (e.g., 401 when already logged out)\r\n      // The error is expected and clearAuth will handle cleanup\r\n    } finally {\r\n      clearAuth();\r\n      router.push('/login');\r\n    }\r\n  };\r\n\r\n  const handleBackToDashboard = () => {\r\n    router.push('/dashboard');\r\n  };\r\n\r\n  const getInitials = (name: string) => {\r\n    return name\r\n      .split(' ')\r\n      .map(n => n[0])\r\n      .join('')\r\n      .toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen\" style={{ background: '#f7fafc' }}>\r\n        {/* Sri Lankan Flag Stripe Header */}\r\n        <div\r\n          className=\"h-2 fixed top-0 left-0 right-0 z-50\"\r\n          style={{\r\n            background: 'linear-gradient(90deg, #FF7900 0%, #FF7900 33%, #8B1538 33%, #8B1538 66%, #006400 66%, #006400 100%)'\r\n          }}\r\n        ></div>\r\n\r\n        {/* Header */}\r\n        <header className=\"bg-white border-b sticky top-2 z-40\" style={{\r\n          background: 'rgba(255, 255, 255, 0.95)',\r\n          backdropFilter: 'blur(10px)',\r\n          boxShadow: '0 2px 20px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <Logo size=\"md\" showText={true} />\r\n                <div className=\"h-6 w-px bg-gray-300\"></div>\r\n                <h1 className=\"text-2xl font-bold\" style={{ color: '#8B1538' }}>My Profile</h1>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-4\">\r\n                <Button\r\n                  onClick={handleBackToDashboard}\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  style={{\r\n                    borderColor: '#FF7900',\r\n                    color: '#8B1538'\r\n                  }}\r\n                >\r\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                  Dashboard\r\n                </Button>\r\n                <Button\r\n                  onClick={handleLogout}\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  style={{\r\n                    borderColor: '#8B1538',\r\n                    color: '#8B1538'\r\n                  }}\r\n                >\r\n                  Logout\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Main Content */}\r\n        <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          <div className=\"space-y-6\">\r\n            {/* Welcome Section */}\r\n            <div\r\n              className=\"rounded-xl overflow-hidden\"\r\n              style={{\r\n                background: 'white',\r\n                boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\r\n              }}\r\n            >\r\n              <div\r\n                className=\"p-6\"\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #FF7900 0%, #8B1538 50%, #006400 100%)',\r\n                  color: 'white'\r\n                }}\r\n              >\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div\r\n                    className=\"w-16 h-16 rounded-full flex items-center justify-center text-white font-bold text-xl\"\r\n                    style={{ background: 'rgba(255, 255, 255, 0.2)' }}\r\n                  >\r\n                    {getInitials(user?.fullName || 'U')}\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"text-2xl font-semibold mb-1\">\r\n                      Welcome, {user?.fullName}!\r\n                    </h2>\r\n                    <p className=\"text-white/90\">\r\n                      Manage your profile information to help others in the Sri Lankan community connect with you.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Profile Photo Section */}\r\n            <ProfilePhotoSection />\r\n\r\n            {/* Location Section */}\r\n            <LocationSection />\r\n\r\n            {/* Cultural Interests Section */}\r\n            <CulturalInterestsSection />\r\n\r\n            {/* Preferred Metro Areas Section - Phase 5B */}\r\n            <PreferredMetroAreasSection />\r\n\r\n            {/* Future Sections - Phase 3+ */}\r\n            {/* <BasicInfoSection /> */}\r\n\r\n            {/* Loading State */}\r\n            {isLoading && (\r\n              <div className=\"bg-white rounded-xl shadow p-6 text-center\">\r\n                <div className=\"flex items-center justify-center gap-3\">\r\n                  <div\r\n                    className=\"animate-spin rounded-full h-8 w-8 border-b-2\"\r\n                    style={{ borderColor: '#FF7900' }}\r\n                  ></div>\r\n                  <p style={{ color: '#8B1538' }}>Loading profile...</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}